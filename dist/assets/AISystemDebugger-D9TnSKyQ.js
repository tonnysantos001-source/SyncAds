import{j as e}from"./vendor-ui-D8qh2McD.js";import{r as s}from"./vendor-react-X41Bjl18.js";import{u as a,I as l}from"./useAISystem-CnEsYzux.js";import{i as t,f as r,h as i,C as d,a as c,b as n,c as o,e as m,B as x,j as h,d as u,I as j}from"./index-ACNCpQAK.js";import{T as p,a as v,b as g,c as N}from"./tabs-DQt0nNrN.js";import{T as f}from"./textarea-BL6FjOsR.js";import{S as y}from"./separator-CP8_VSR_.js";import{A as b,a as w,b as k}from"./alert-B4CNUb2c.js";import{I as M}from"./IconSearch-DHNK8ap5.js";import"./vendor-supabase-ChjAI-9u.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-animation-APnkykC6.js";import"./vendor-query-CYpOgAEj.js";import"./vendor-icons-CouwLySB.js";const S=t("outline","check","Check",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),C=t("outline","circle-dot","CircleDot",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),I=t("outline","cpu","Cpu",[["path",{d:"M5 5m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 9h6v6h-6z",key:"svg-1"}],["path",{d:"M3 10h2",key:"svg-2"}],["path",{d:"M3 14h2",key:"svg-3"}],["path",{d:"M10 3v2",key:"svg-4"}],["path",{d:"M14 3v2",key:"svg-5"}],["path",{d:"M21 10h-2",key:"svg-6"}],["path",{d:"M21 14h-2",key:"svg-7"}],["path",{d:"M14 21v-2",key:"svg-8"}],["path",{d:"M10 21v-2",key:"svg-9"}]]),A=t("outline","loader-2","Loader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]]),R=t("outline","refresh","Refresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),D=t("outline","rocket","Rocket",[["path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3",key:"svg-0"}],["path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3",key:"svg-1"}],["path",{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),E=t("outline","terminal","Terminal",[["path",{d:"M5 7l5 5l-5 5",key:"svg-0"}],["path",{d:"M12 19l7 0",key:"svg-1"}]]),L=t("outline","world","World",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);function z(){const t=r(e=>e.user),{initialized:z,loading:T,error:O,stats:q,availableModules:B,initialize:F,processRequest:P,navigateAndExtract:J,isBrowserConnected:$,updateStats:U,reloadModules:V}=a({autoInit:!1,debugMode:!0}),[H,W]=s.useState(""),[G,K]=s.useState(null),[Q,X]=s.useState(!1),[Y,Z]=s.useState(""),[_,ee]=s.useState(""),[se,ae]=s.useState('{\n  "title": "h1",\n  "description": "p"\n}'),[le,te]=s.useState([]),re=(e,s)=>{const a=(new Date).toLocaleTimeString();te(l=>[...l.slice(-50),{time:a,type:e,message:s}])};s.useEffect(()=>{z&&re("success","AI System inicializado com sucesso")},[z]),s.useEffect(()=>{O&&re("error",O)},[O]);const ie=Y?B.filter(e=>e.name.toLowerCase().includes(Y.toLowerCase())||e.packageName.toLowerCase().includes(Y.toLowerCase())):B,de=()=>O?"text-red-500":z?"text-green-500":"text-yellow-500",ce=O?h:z?S:C;return e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(E,{className:"w-8 h-8"}),"AI System Debugger"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Teste e debug do sistema de IA universal"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:i("w-5 h-5",de())}),e.jsx("span",{className:i("font-medium",de()),children:O?"Erro":z?"Online":"Offline"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(d,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(n,{className:"text-sm font-medium",children:"Status"})}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:z?e.jsx(m,{variant:"default",className:"bg-green-500",children:"Ativo"}):e.jsx(m,{variant:"secondary",children:"Inativo"})})})]}),e.jsxs(d,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(n,{className:"text-sm font-medium",children:"Módulos"})}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:B.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"bibliotecas disponíveis"})]})]}),e.jsxs(d,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(n,{className:"text-sm font-medium",children:"Browser"})}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:$()?e.jsx(m,{variant:"default",className:"bg-blue-500",children:"Conectado"}):e.jsx(m,{variant:"secondary",children:"Offline"})})})]}),e.jsxs(d,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(n,{className:"text-sm font-medium",children:"Taxa de Sucesso"})}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:q?.core?.successRate?`${(100*q.core.successRate).toFixed(0)}%`:"N/A"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[q?.core?.totalExecutions||0," execuções"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs(x,{onClick:async()=>{re("info","Inicializando AI System..."),await F()},disabled:z||T,variant:"default",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Inicializar Sistema"]}),e.jsxs(x,{onClick:V,disabled:!z||T,variant:"outline",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Recarregar Módulos"]}),e.jsxs(x,{onClick:U,disabled:!z,variant:"outline",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Atualizar Stats"]})]}),O&&e.jsxs(b,{variant:"destructive",className:"mb-6",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx(w,{children:"Erro"}),e.jsx(k,{children:O})]}),e.jsxs(p,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(v,{children:[e.jsxs(g,{value:"test",children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Testar IA"]}),e.jsxs(g,{value:"browser",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Browser"]}),e.jsxs(g,{value:"modules",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Módulos (",B.length,")"]}),e.jsxs(g,{value:"logs",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Logs (",le.length,")"]})]}),e.jsx(N,{value:"test",children:e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsx(n,{children:"Testar Processamento de Requisição"}),e.jsx(u,{children:"Digite uma requisição para testar o sistema de IA"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Requisição"}),e.jsx(f,{value:H,onChange:e=>W(e.target.value),placeholder:"Ex: Processar arquivo CSV com pandas e fazer análise estatística...",rows:3,disabled:!z})]}),e.jsx(x,{onClick:async()=>{if(H.trim()&&t){X(!0),K(null),re("info",`Processando: "${H}"`);try{const e=await P(t.id,H,{source:"debugger",timestamp:Date.now()});K(e),re("success",`Resultado: ${e?.status}`),e?.results&&re("info",`${e.results.length} passos executados`)}catch(e){re("error",e.message)}finally{X(!1)}}},disabled:!z||!H.trim()||Q,className:"w-full",children:Q?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Processar Requisição"]})}),G&&"browser"!==G.type&&e.jsxs("div",{className:"mt-4",children:[e.jsx(y,{className:"my-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Resultado:"}),e.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-auto max-h-96",children:JSON.stringify(G,null,2)})]})]})]})}),e.jsx(N,{value:"browser",children:e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsx(n,{children:"Testar Automação de Navegador"}),e.jsx(u,{children:"Navegue para uma URL e extraia dados usando seletores"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"URL"}),e.jsx(j,{value:_,onChange:e=>ee(e.target.value),placeholder:"https://example.com",disabled:!z})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Seletores (JSON)"}),e.jsx(f,{value:se,onChange:e=>ae(e.target.value),placeholder:'{"title": "h1", "description": "p"}',rows:5,disabled:!z,className:"font-mono text-xs"})]}),e.jsx(x,{onClick:async()=>{if(_.trim()){X(!0),re("info",`Navegando para: ${_}`);try{const e=JSON.parse(se),s=await J(_,e);K({type:"browser",data:s}),re("success","Dados extraídos com sucesso")}catch(e){re("error",e.message)}finally{X(!1)}}},disabled:!z||!_.trim()||Q,className:"w-full",children:Q?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4 mr-2 animate-spin"}),"Navegando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Extrair Dados"]})}),G&&"browser"===G.type&&e.jsxs("div",{className:"mt-4",children:[e.jsx(y,{className:"my-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Dados Extraídos:"}),e.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-auto max-h-96",children:JSON.stringify(G.data,null,2)})]})]})]})}),e.jsx(N,{value:"modules",children:e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsx(n,{children:"Módulos Disponíveis"}),e.jsx(u,{children:"Bibliotecas Python carregadas no sistema"})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{value:Y,onChange:e=>Z(e.target.value),placeholder:"Buscar módulos...",className:"w-full"}),e.jsx("div",{className:"h-[400px] w-full overflow-y-auto",children:e.jsx("div",{className:"space-y-3",children:ie.map(s=>e.jsxs(d,{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(m,{variant:"outline",children:s.packageName}),e.jsx(m,{variant:"secondary",children:s.category}),e.jsxs(m,{variant:"outline",className:"text-xs",children:[(100*s.reliability).toFixed(0),"% confiável"]})]})]})}),s.useCases.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium mb-1",children:"Casos de uso:"}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:s.useCases.slice(0,3).map((s,a)=>e.jsxs("li",{children:["• ",s]},a))})]})]},s.id))})})]})})]})}),e.jsx(N,{value:"logs",children:e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsx(n,{children:"Logs do Sistema"}),e.jsx(u,{children:"Histórico de eventos e operações"})]}),e.jsx(o,{children:e.jsx("div",{className:"h-[400px] w-full overflow-y-auto",children:e.jsx("div",{className:"space-y-2 font-mono text-xs",children:le.map((s,a)=>e.jsxs("div",{className:i("p-2 rounded","error"===s.type&&"bg-red-50 text-red-900 dark:bg-red-950 dark:text-red-200","success"===s.type&&"bg-green-50 text-green-900 dark:bg-green-950 dark:text-green-200","info"===s.type&&"bg-blue-50 text-blue-900 dark:bg-blue-950 dark:text-blue-200"),children:[e.jsxs("span",{className:"text-muted-foreground",children:["[",s.time,"]"]})," ",e.jsx("span",{className:"font-semibold uppercase",children:s.type}),": ",s.message]},a))})})})]})})]}),q&&e.jsxs(d,{className:"mt-6",children:[e.jsx(c,{children:e.jsx(n,{children:"Estatísticas Detalhadas"})}),e.jsx(o,{children:e.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-auto max-h-64",children:JSON.stringify(q,null,2)})})]})]})}export{z as AISystemDebugger,z as default};
