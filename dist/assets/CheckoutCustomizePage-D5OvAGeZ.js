import{ac as e,ad as a,j as t,ae as r,m as s,af as o,a8 as n,n as i,aa as l,ag as d,ah as c,ai as x,aj as m,ak as h,al as u,am as g,an as p,ao as f,ap as v,aq as j}from"./vendor-ui-DAyDU-p2.js";import{r as b,e as y}from"./vendor-react-BDwqAlkB.js";import{h as k,B as N,g as C,s as w,I as B,f as P,e as E,C as A}from"./index-B3dE3s0w.js";import{P as R,c as S}from"./PublicCheckoutPage-IXg3m9gR.js";import{L as O}from"./label-COwAJngG.js";import{S as T,a as D,b as F,c as I,d as z}from"./select-C0BTN1c2.js";import{S as M}from"./switch-aQq02OXg.js";import{T as U}from"./textarea-D4nyX3qK.js";import{Z as _,O as q}from"./index-t1OTmk4m.js";import{b4 as L,l as V,a5 as $,h as G,aD as H,X as W,L as Z,v as K,b5 as J,B as Q,b6 as X,y as Y,aJ as ee,b7 as ae,f as te,Z as re,c as se,b8 as oe,q as ne,z as ie,aC as le,N as de,b9 as ce,aG as xe,ba as me}from"./vendor-icons-CzCc3fGi.js";import{m as he,A as ue}from"./vendor-animation-x8f1c1kX.js";import"./vendor-supabase-rKXMzPQL.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-D3VdSFIC.js";var ge="Popover",[pe]=s(ge,[e]),fe=e(),[ve,je]=pe(ge),be=e=>{const{__scopePopover:s,children:n,open:i,defaultOpen:l,onOpenChange:d,modal:c=!1}=e,x=fe(s),m=b.useRef(null),[h,u]=b.useState(!1),[g,p]=a({prop:i,defaultProp:l??!1,onChange:d,caller:ge});return t.jsx(r,{...x,children:t.jsx(ve,{scope:s,contentId:o(),triggerRef:m,open:g,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:h,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:c,children:n})})};be.displayName=ge;var ye="PopoverAnchor";b.forwardRef((e,a)=>{const{__scopePopover:r,...s}=e,o=je(ye,r),n=fe(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=o;return b.useEffect(()=>(i(),()=>l()),[i,l]),t.jsx(d,{...n,...s,ref:a})}).displayName=ye;var ke="PopoverTrigger",Ne=b.forwardRef((e,a)=>{const{__scopePopover:r,...s}=e,o=je(ke,r),c=fe(r),x=n(a,o.triggerRef),m=t.jsx(i.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Fe(o.open),...s,ref:x,onClick:l(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?m:t.jsx(d,{asChild:!0,...c,children:m})});Ne.displayName=ke;var Ce="PopoverPortal",[we,Be]=pe(Ce,{forceMount:void 0}),Pe=e=>{const{__scopePopover:a,forceMount:r,children:s,container:o}=e,n=je(Ce,a);return t.jsx(we,{scope:a,forceMount:r,children:t.jsx(c,{present:r||n.open,children:t.jsx(x,{asChild:!0,container:o,children:s})})})};Pe.displayName=Ce;var Ee="PopoverContent",Ae=b.forwardRef((e,a)=>{const r=Be(Ee,e.__scopePopover),{forceMount:s=r.forceMount,...o}=e,n=je(Ee,e.__scopePopover);return t.jsx(c,{present:s||n.open,children:n.modal?t.jsx(Se,{...o,ref:a}):t.jsx(Oe,{...o,ref:a})})});Ae.displayName=Ee;var Re=u("PopoverContent.RemoveScroll"),Se=b.forwardRef((e,a)=>{const r=je(Ee,e.__scopePopover),s=b.useRef(null),o=n(a,s),i=b.useRef(!1);return b.useEffect(()=>{const e=s.current;if(e)return m(e)},[]),t.jsx(h,{as:Re,allowPinchZoom:!0,children:t.jsx(Te,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:l(e.onCloseAutoFocus,e=>{e.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:l(e.onPointerDownOutside,e=>{const a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey,r=2===a.button||t;i.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:l(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),Oe=b.forwardRef((e,a)=>{const r=je(Ee,e.__scopePopover),s=b.useRef(!1),o=b.useRef(!1);return t.jsx(Te,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||r.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,"pointerdown"===a.detail.originalEvent.type&&(o.current=!0));const t=a.target,n=r.triggerRef.current?.contains(t);n&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&o.current&&a.preventDefault()}})}),Te=b.forwardRef((e,a)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:x,...m}=e,h=je(Ee,r),u=fe(r);return g(),t.jsx(p,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:n,children:t.jsx(f,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:x,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:t.jsx(v,{"data-state":Fe(h.open),role:"dialog",id:h.contentId,...u,...m,ref:a,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),De="PopoverClose";b.forwardRef((e,a)=>{const{__scopePopover:r,...s}=e,o=je(De,r);return t.jsx(i.button,{type:"button",...s,ref:a,onClick:l(e.onClick,()=>o.onOpenChange(!1))})}).displayName=De;function Fe(e){return e?"open":"closed"}b.forwardRef((e,a)=>{const{__scopePopover:r,...s}=e,o=fe(r);return t.jsx(j,{...o,...s,ref:a})}).displayName="PopoverArrow";var Ie=Pe,ze=Ae;const Me=be,Ue=Ne,_e=b.forwardRef(({className:e,align:a="center",sideOffset:r=4,...s},o)=>t.jsx(Ie,{children:t.jsx(ze,{ref:o,align:a,sideOffset:r,className:k("z-50 w-72 rounded-xl border-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl p-4 text-popover-foreground shadow-2xl outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","ring-1 ring-gray-200/50 dark:ring-gray-700/50","before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-br before:from-blue-500/5 before:via-purple-500/5 before:to-pink-500/5 before:pointer-events-none",e),...s})}));_e.displayName=ze.displayName;const qe={vibrant:{name:"Vibrante",colors:["#8b5cf6","#a855f7","#ec4899","#f43f5e","#ef4444","#f97316","#f59e0b","#eab308"]},professional:{name:"Profissional",colors:["#0ea5e9","#06b6d4","#14b8a6","#10b981","#22c55e","#84cc16","#6366f1","#8b5cf6"]},warm:{name:"Tons Quentes",colors:["#fef3c7","#fde68a","#fcd34d","#fbbf24","#f59e0b","#d97706","#b45309","#92400e"]},cool:{name:"Tons Frios",colors:["#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8","#1e40af"]},grayscale:{name:"Escala de Cinza",colors:["#ffffff","#f9fafb","#f3f4f6","#e5e7eb","#d1d5db","#9ca3af","#6b7280","#4b5563","#374151","#1f2937","#111827","#000000"]}},Le=({color:e,isSelected:a,onClick:r,showTooltip:s=!0})=>{const[o,n]=b.useState(!1);return t.jsxs("div",{className:"relative",children:[t.jsx(he.button,{type:"button",whileHover:{scale:1.15,zIndex:10},whileTap:{scale:.95},onClick:r,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:k("relative w-10 h-10 rounded-lg shadow-md transition-all cursor-pointer overflow-hidden",a?"ring-2 ring-violet-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900":"hover:shadow-lg"),style:{backgroundColor:e},children:a&&t.jsx(he.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center bg-black/20",children:t.jsx(V,{className:"h-5 w-5 text-white drop-shadow-lg",strokeWidth:3})})}),t.jsx(ue,{children:s&&o&&t.jsx(he.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute left-1/2 -translate-x-1/2 -top-10 z-50 pointer-events-none",children:t.jsxs("div",{className:"bg-gray-900 dark:bg-gray-700 text-white text-xs font-mono px-2 py-1 rounded shadow-lg whitespace-nowrap",children:[e.toUpperCase(),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})})})]})},Ve=({label:e,value:a,onChange:r,showPresets:s=!0,className:o})=>{const[n,i]=b.useState(!1),[l,d]=b.useState([]),c=e=>{const a=e.toUpperCase();r(a),d(e=>{const t=e.filter(e=>e.toUpperCase()!==a);return[a,...t].slice(0,8)})};return t.jsxs("div",{className:k("space-y-2",o),children:[e&&t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:e}),t.jsxs(Me,{open:n,onOpenChange:i,children:[t.jsx(Ue,{asChild:!0,children:t.jsxs(N,{variant:"outline",className:"w-full justify-start gap-3 h-11 px-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[t.jsx("div",{className:"w-8 h-8 rounded-md border-2 border-gray-300 dark:border-gray-600 shadow-sm transition-transform hover:scale-110",style:{backgroundColor:a}}),t.jsx("span",{className:"text-sm font-mono font-semibold flex-1 text-left",children:a.toUpperCase()}),t.jsx(L,{className:"h-4 w-4 text-gray-400"})]})}),t.jsx(_e,{className:"w-80 p-0 border-0 shadow-2xl",align:"start",sideOffset:8,children:t.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 rounded-lg overflow-hidden",children:[t.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm",children:t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[t.jsx(L,{className:"h-4 w-4 text-violet-500"}),"Seletor de Cores"]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx(_,{color:a,onChange:c,style:{width:"100%",height:"180px"}}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-sm font-mono text-gray-500 dark:text-gray-400",children:"#"}),t.jsx(q,{color:a,onChange:c,prefixed:!0,className:"w-full pl-7 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-mono font-semibold bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none transition-all",placeholder:"000000"})]})}),t.jsx("div",{className:"w-12 h-10 rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-inner",style:{backgroundColor:a}})]})]}),s&&t.jsxs(t.Fragment,{children:[l.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Cores Recentes"}),t.jsx("div",{className:"grid grid-cols-8 gap-2",children:l.map(e=>t.jsx(Le,{color:e,isSelected:a.toUpperCase()===e,onClick:()=>c(e)},e))})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:Object.entries(qe).map(([e,r])=>t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:r.name}),t.jsx("div",{className:k("grid gap-2",r.colors.length>8?"grid-cols-6":"grid-cols-8"),children:r.colors.map(e=>t.jsx(Le,{color:e,isSelected:a.toUpperCase()===e.toUpperCase(),onClick:()=>c(e)},e))})]},e))})]})]}),t.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-violet-500/10 to-purple-500/10 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1.5",children:[t.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-violet-500 animate-pulse"}),"Passe o mouse sobre as cores para ver o c√≥digo"]})})]})})]})]})},$e=({label:e,description:a,value:r,onChange:s,bucket:o="checkout-images",path:n="uploads",acceptedFormats:i=["image/png","image/jpeg","image/jpg","image/webp","image/gif"],maxSizeMB:l=5,aspectRatio:d,className:c})=>{const[x,m]=b.useState(!1),[h,u]=b.useState(r||null),[g,p]=b.useState(!1),f=b.useRef(null),{toast:v}=C(),j=async e=>{const a=(e=>i.includes(e.type)?e.size/1048576>l?`Arquivo muito grande. Tamanho m√°ximo: ${l}MB`:null:`Formato n√£o suportado. Use: ${i.map(e=>e.split("/")[1]).join(", ")}`)(e);if(a)v({title:"Erro na valida√ß√£o",description:a,variant:"destructive"});else{m(!0);try{const t=new FileReader;t.onloadend=()=>{u(t.result)},t.readAsDataURL(e);const r=await(async e=>{try{const a=e.name.split(".").pop(),t=`${Date.now()}-${Math.random().toString(36).substring(7)}.${a}`,r=`${n}/${t}`,{error:s}=await w.storage.from(o).upload(r,e,{cacheControl:"3600",upsert:!1});if(s)throw new Error(s.message);const{data:i}=w.storage.from(o).getPublicUrl(r);return i.publicUrl}catch(a){return null}})(e);if(!r)throw new Error("Falha no upload");s(r),v({title:"Imagem enviada!",description:"A imagem foi carregada com sucesso."})}catch(t){v({title:"Erro ao enviar imagem",description:"N√£o foi poss√≠vel fazer o upload. Tente novamente.",variant:"destructive"}),u(null)}finally{m(!1)}}},y=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?p(!0):"dragleave"===e.type&&p(!1)},B=()=>{f.current?.click()};return t.jsxs("div",{className:k("space-y-2",c),children:[e&&t.jsxs(O,{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[t.jsx("div",{className:"p-1 rounded bg-gradient-to-br from-violet-500 to-purple-600",children:t.jsx($,{className:"h-3 w-3 text-white"})}),e]}),a&&t.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[t.jsx(G,{className:"h-3 w-3"}),a]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:f,type:"file",accept:i.join(","),onChange:e=>{const a=e.target.files?.[0];a&&j(a)},className:"hidden",disabled:x}),t.jsx(ue,{mode:"wait",children:h?t.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative group",children:t.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-violet-200/50 dark:border-violet-800/50 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 p-1.5 shadow-md",children:[t.jsx("div",{className:"relative w-full h-10 rounded-md overflow-hidden bg-white dark:bg-gray-950",children:t.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-contain"})}),t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-end justify-center p-1.5 gap-1",children:[t.jsxs(N,{size:"sm",variant:"secondary",onClick:B,disabled:x,className:"h-6 text-[10px] px-2 bg-white/90 hover:bg-white text-gray-900 backdrop-blur-sm shadow-md",children:[t.jsx(H,{className:"h-2.5 w-2.5 mr-1"}),"Alterar"]}),t.jsxs(N,{size:"sm",variant:"destructive",onClick:()=>{u(null),s(""),f.current&&(f.current.value="")},disabled:x,className:"h-6 text-[10px] px-2 bg-red-500/90 hover:bg-red-600 backdrop-blur-sm shadow-md",children:[t.jsx(W,{className:"h-2.5 w-2.5 mr-1"}),"Remover"]})]}),r&&!x&&t.jsx(he.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2",children:t.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-1 rounded-full shadow-md",children:t.jsx(V,{className:"h-2.5 w-2.5"})})})]})},"preview"):t.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:e=>{e.preventDefault(),e.stopPropagation(),p(!1);const a=e.dataTransfer.files?.[0];a&&j(a)},onClick:B,className:k("relative border-2 border-dashed rounded-lg p-3 text-center cursor-pointer transition-all duration-300",g?"border-violet-500 bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-950/30 dark:to-purple-950/30 shadow-lg shadow-violet-500/20":"border-gray-300 dark:border-gray-600 hover:border-violet-400 dark:hover:border-violet-500 bg-white/50 dark:bg-gray-800/50 hover:bg-gradient-to-br hover:from-violet-50 hover:to-purple-50 dark:hover:from-violet-950/20 dark:hover:to-purple-950/20 backdrop-blur-sm",x&&"pointer-events-none opacity-60"),children:x?t.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full blur-lg opacity-50 animate-pulse"}),t.jsx(Z,{className:"relative h-6 w-6 text-violet-600 dark:text-violet-400 animate-spin"})]}),t.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:"Enviando..."})]}):t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full blur-lg opacity-30"}),t.jsx("div",{className:"relative p-2 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 shadow-md",children:t.jsx($,{className:"h-4 w-4 text-white"})})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 mb-0.5",children:"Clique ou arraste"}),t.jsxs("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:[i.map(e=>e.split("/")[1].toUpperCase()).join(", ")," ","‚Ä¢ at√© ",l,"MB"]})]}),t.jsxs(N,{type:"button",variant:"outline",size:"sm",className:"mt-0.5 h-7 text-xs border-violet-300 dark:border-violet-700 hover:bg-violet-50 dark:hover:bg-violet-950/30 hover:text-violet-600 dark:hover:text-violet-400 transition-all",onClick:e=>{e.stopPropagation(),B()},children:[t.jsx(H,{className:"h-3 w-3 mr-1.5"}),"Escolher arquivo"]})]})},"upload")})]})]})},Ge=[{id:"CABE√áALHO",label:"Cabe√ßalho",icon:J},{id:"BARRA_DE_AVISOS",label:"Barra de Avisos",icon:Q},{id:"BANNER",label:"Banner",icon:X},{id:"CARRINHO",label:"Carrinho",icon:Y},{id:"CONTE√öDO",label:"Conte√∫do",icon:ee},{id:"RODAP√â",label:"Rodap√©",icon:ae},{id:"ESCASSEZ",label:"Escassez",icon:te},{id:"ORDER_BUMP",label:"Order Bump",icon:re},{id:"CONFIGURA√á√ïES",label:"Configura√ß√µes",icon:se}],He=({expandedSections:e,onToggleSection:a,customization:r,onUpdateTheme:s})=>{const o=e=>{if(!r?.theme)return null;switch(e){case"CABE√áALHO":return t.jsxs("div",{className:"space-y-4",children:[t.jsx($e,{label:"Logo",description:"Tamanho recomendado: 300px x 80px",value:r.theme.logoUrl||"",onChange:e=>s({logoUrl:e}),bucket:"checkout-images",path:"logos",maxSizeMB:2}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Alinhamento do logo"}),t.jsxs(T,{value:r.theme.logoAlignment||"left",onValueChange:e=>s({logoAlignment:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"left",children:"Esquerda"}),t.jsx(z,{value:"center",children:"Centro"}),t.jsx(z,{value:"right",children:"Direita"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mostrar logo no topo"}),t.jsx(M,{checked:r.theme.showLogoAtTop||!1,onCheckedChange:e=>s({showLogoAtTop:e})})]}),t.jsx($e,{label:"Favicon",description:"Tamanho recomendado: 32px x 32px",value:r.theme.faviconUrl||"",onChange:e=>s({faviconUrl:e}),bucket:"checkout-images",path:"favicons",acceptedFormats:["image/png","image/x-icon","image/vnd.microsoft.icon"],maxSizeMB:1}),t.jsx(Ve,{label:"Cor de fundo",value:r.theme.backgroundColor||"#ffffff",onChange:e=>s({backgroundColor:e})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Aplicar fundo degrad√™"}),t.jsx(M,{checked:r.theme.useGradient||!1,onCheckedChange:e=>s({useGradient:e})})]})]});case"BARRA_DE_AVISOS":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Ativar barra de avisos"}),t.jsx(M,{checked:r.theme.noticeBarEnabled||!1,onCheckedChange:e=>s({noticeBarEnabled:e})})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mensagem"}),t.jsx(U,{value:r.theme.noticeBarText||"",onChange:e=>s({noticeBarText:e.target.value}),placeholder:"üéâ FRETE GR√ÅTIS para todo o Brasil em compras acima de R$ 199!",className:"mt-2 resize-none",rows:3})]}),t.jsx(Ve,{label:"Cor de fundo",value:r.theme.noticeBarBackgroundColor||"#1a1a1a",onChange:e=>s({noticeBarBackgroundColor:e})}),t.jsx(Ve,{label:"Cor do texto",value:r.theme.noticeBarTextColor||"#ffffff",onChange:e=>s({noticeBarTextColor:e})}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Estilo"}),t.jsxs(T,{value:r.theme.noticeBarStyle||"normal",onValueChange:e=>s({noticeBarStyle:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"normal",children:"Normal"}),t.jsx(z,{value:"highlight",children:"Destaque"}),t.jsx(z,{value:"urgent",children:"Urg√™ncia"})]})]})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Posi√ß√£o"}),t.jsxs(T,{value:r.theme.noticeBarPosition||"top",onValueChange:e=>s({noticeBarPosition:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"top",children:"Topo"}),t.jsx(z,{value:"bottom",children:"Rodap√©"})]})]})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Anima√ß√£o"}),t.jsxs(T,{value:r.theme.noticeBarAnimation||"slide",onValueChange:e=>s({noticeBarAnimation:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"slide",children:"Deslizar"}),t.jsx(z,{value:"fade",children:"Fade In/Out"}),t.jsx(z,{value:"scale",children:"Escala"})]})]})]})]});case"BANNER":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Ativar banner no checkout"}),t.jsx(M,{checked:r.theme.bannerEnabled||!1,onCheckedChange:e=>s({bannerEnabled:e})})]}),t.jsx($e,{label:"Imagem do banner",description:"Tamanho recomendado: 1200px x 150px",value:r.theme.bannerImageUrl||"",onChange:e=>s({bannerImageUrl:e}),bucket:"checkout-images",path:"banners",maxSizeMB:3})]});case"CARRINHO":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Exibir carrinho"}),t.jsxs(T,{value:r.theme.cartDisplay||"open",onValueChange:e=>s({cartDisplay:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"open",children:"Aberto"}),t.jsx(z,{value:"closed",children:"Pr√©-fechado"})]})]})]}),t.jsx(Ve,{label:"Cor da borda do carrinho",value:r.theme.cartBorderColor||"#000000",onChange:e=>s({cartBorderColor:e})}),t.jsx(Ve,{label:"Cor do c√≠rculo de quantidade",value:r.theme.quantityCircleColor||"#8b5cf6",onChange:e=>s({quantityCircleColor:e})}),t.jsx(Ve,{label:"Cor do texto da quantidade",value:r.theme.quantityTextColor||"#ffffff",onChange:e=>s({quantityTextColor:e})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mostrar √≠cone do carrinho sempre"}),t.jsx(M,{checked:r.theme.showCartIcon||!1,onCheckedChange:e=>s({showCartIcon:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Permitir editar cupom de desconto"}),t.jsx(M,{checked:r.theme.allowCouponEdit||!1,onCheckedChange:e=>s({allowCouponEdit:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mostrar lembrete do carrinho"}),t.jsx(M,{checked:r.theme.showCartReminder||!1,onCheckedChange:e=>s({showCartReminder:e})})]})]});case"CONTE√öDO":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Visual do bot√£o"}),t.jsxs(T,{value:r.theme.nextStepStyle||"rounded",onValueChange:e=>s({nextStepStyle:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"rectangular",children:"Retangular"}),t.jsx(z,{value:"rounded",children:"Arredondado"}),t.jsx(z,{value:"oval",children:"Oval"})]})]})]}),t.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg space-y-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Bot√£o Prim√°rio (Pr√≥ximo)"}),t.jsx(Ve,{label:"Cor do texto",value:r.theme.primaryButtonTextColor||"#ffffff",onChange:e=>s({primaryButtonTextColor:e})}),t.jsx(Ve,{label:"Cor de fundo",value:r.theme.primaryButtonBackgroundColor||"#8b5cf6",onChange:e=>s({primaryButtonBackgroundColor:e})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito hover"}),t.jsx(M,{checked:r.theme.primaryButtonHover||!1,onCheckedChange:e=>s({primaryButtonHover:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito fluir"}),t.jsx(M,{checked:r.theme.primaryButtonFlow||!1,onCheckedChange:e=>s({primaryButtonFlow:e})})]})]}),t.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg space-y-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Bot√£o Checkout (Finalizar)"}),t.jsx(Ve,{label:"Cor do texto",value:r.theme.highlightedBorderTextColor||"#ffffff",onChange:e=>s({highlightedBorderTextColor:e})}),t.jsx(Ve,{label:"Cor de fundo",value:r.theme.checkoutButtonBackgroundColor||"#10b981",onChange:e=>s({checkoutButtonBackgroundColor:e})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito hover"}),t.jsx(M,{checked:r.theme.checkoutButtonHover||!1,onCheckedChange:e=>s({checkoutButtonHover:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito pulsante"}),t.jsx(M,{checked:r.theme.checkoutButtonFlow||!1,onCheckedChange:e=>s({checkoutButtonFlow:e})})]})]})]});case"RODAP√â":return t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ve,{label:"Cor de fundo",value:r.theme.footerBackgroundColor||"#f6f6f6",onChange:e=>s({footerBackgroundColor:e})}),t.jsx(Ve,{label:"Cor do texto",value:r.theme.footerTextColor||"#3b3b3b",onChange:e=>s({footerTextColor:e})}),t.jsxs("div",{className:"space-y-3 pt-2",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Informa√ß√µes a exibir"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Nome da loja"}),t.jsx(M,{checked:r.theme.showStoreName||!1,onCheckedChange:e=>s({showStoreName:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Formas de pagamento"}),t.jsx(M,{checked:r.theme.showPaymentMethods||!1,onCheckedChange:e=>s({showPaymentMethods:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"CNPJ/CPF"}),t.jsx(M,{checked:r.theme.showCnpjCpf||!1,onCheckedChange:e=>s({showCnpjCpf:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"E-mail de contato"}),t.jsx(M,{checked:r.theme.showContactEmail||!1,onCheckedChange:e=>s({showContactEmail:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Endere√ßo"}),t.jsx(M,{checked:r.theme.showAddress||!1,onCheckedChange:e=>s({showAddress:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Telefone"}),t.jsx(M,{checked:r.theme.showPhone||!1,onCheckedChange:e=>s({showPhone:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Pol√≠tica de privacidade"}),t.jsx(M,{checked:r.theme.showPrivacyPolicy||!1,onCheckedChange:e=>s({showPrivacyPolicy:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Termos e condi√ß√µes"}),t.jsx(M,{checked:r.theme.showTermsConditions||!1,onCheckedChange:e=>s({showTermsConditions:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Trocas e devolu√ß√µes"}),t.jsx(M,{checked:r.theme.showReturns||!1,onCheckedChange:e=>s({showReturns:e})})]})]})]});case"ESCASSEZ":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800",children:[t.jsxs("div",{children:[t.jsxs(O,{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4 text-red-500"}),"Ativar Gatilho de Escassez"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Countdown timer para criar urg√™ncia"})]}),t.jsx(M,{checked:r.theme.useVisible||!1,onCheckedChange:e=>s({useVisible:e})})]}),r.theme.useVisible&&t.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:t.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 flex items-start gap-2",children:[t.jsx(re,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Dica:"})," Timers de 10-15 minutos t√™m maior taxa de convers√£o. O timer reseta a cada nova sess√£o do usu√°rio."]})]})}),t.jsx(Ve,{label:"Cor do texto da tag",value:r.theme.discountTagTextColor||"#ffffff",onChange:e=>s({discountTagTextColor:e})}),t.jsx(Ve,{label:"Cor de fundo da tag",value:r.theme.discountTagBackgroundColor||"#000000",onChange:e=>s({discountTagBackgroundColor:e})}),t.jsxs("div",{children:[t.jsxs(O,{className:"text-xs font-semibold text-gray-900 dark:text-white flex items-center gap-1.5",children:[t.jsx(te,{className:"h-3.5 w-3.5"}),"Tempo de expira√ß√£o (minutos)"]}),t.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-2",children:"Quanto tempo o usu√°rio tem para finalizar a compra"}),t.jsx(B,{type:"number",value:r.theme.expirationTime||15,onChange:e=>s({expirationTime:parseInt(e.target.value)||15}),placeholder:"15",min:"1",max:"120"})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Tempo de remo√ß√£o for√ßada (minutos)"}),t.jsx(B,{type:"number",value:r.theme.forceRemovalTime||20,onChange:e=>s({forceRemovalTime:parseInt(e.target.value)||20}),className:"mt-2",min:"1",max:"120"})]})]});case"ORDER_BUMP":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-violet-50 dark:bg-violet-950/20 rounded-lg border border-violet-200 dark:border-violet-800",children:[t.jsxs("div",{children:[t.jsx(O,{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Ativar Order Bump"}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Exibir ofertas adicionais no checkout"})]}),t.jsx(M,{checked:r.theme.orderBumpEnabled||!1,onCheckedChange:e=>s({orderBumpEnabled:e})})]}),t.jsx(Ve,{label:"Cor do texto",value:r.theme.orderBumpTextColor||"#1a1a1a",onChange:e=>s({orderBumpTextColor:e})}),t.jsx(Ve,{label:"Cor de fundo",value:r.theme.orderBumpBackgroundColor||"#ffffff",onChange:e=>s({orderBumpBackgroundColor:e})}),t.jsx(Ve,{label:"Cor do pre√ßo",value:r.theme.orderBumpPriceColor||"#10b981",onChange:e=>s({orderBumpPriceColor:e})}),t.jsx(Ve,{label:"Cor da borda",value:r.theme.orderBumpBorderColor||"#e5e7eb",onChange:e=>s({orderBumpBorderColor:e})}),t.jsx(Ve,{label:"Cor do texto do bot√£o",value:r.theme.orderBumpButtonTextColor||"#ffffff",onChange:e=>s({orderBumpButtonTextColor:e})}),t.jsx(Ve,{label:"Cor de fundo do bot√£o",value:r.theme.orderBumpButtonBackgroundColor||"#8b5cf6",onChange:e=>s({orderBumpButtonBackgroundColor:e})})]});case"CONFIGURA√á√ïES":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Etapas de navega√ß√£o"}),t.jsxs(T,{value:String(r.theme.navigationSteps||5),onValueChange:e=>s({navigationSteps:parseInt(e)}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"1",children:"1 etapa"}),t.jsx(z,{value:"3",children:"3 etapas"}),t.jsx(z,{value:"5",children:"5 etapas"})]})]})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Fonte do checkout"}),t.jsxs(T,{value:r.theme.fontFamily||"Inter, sans-serif",onValueChange:e=>s({fontFamily:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"Inter, sans-serif",children:"Inter"}),t.jsx(z,{value:"Roboto, sans-serif",children:"Roboto"}),t.jsx(z,{value:"Open Sans, sans-serif",children:"Open Sans"}),t.jsx(z,{value:"Poppins, sans-serif",children:"Poppins"}),t.jsx(z,{value:"Montserrat, sans-serif",children:"Montserrat"}),t.jsx(z,{value:"Lato, sans-serif",children:"Lato"})]})]})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Idioma"}),t.jsxs(T,{value:r.theme.language||"pt",onValueChange:e=>s({language:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"pt",children:"Portugu√™s (BR)"}),t.jsx(z,{value:"en",children:"English (US)"}),t.jsx(z,{value:"es",children:"Espa√±ol"})]})]})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Moeda"}),t.jsxs(T,{value:r.theme.currency||"BRL",onValueChange:e=>s({currency:e}),children:[t.jsx(D,{className:"mt-2",children:t.jsx(F,{})}),t.jsxs(I,{children:[t.jsx(z,{value:"BRL",children:"Real (R$)"}),t.jsx(z,{value:"USD",children:"D√≥lar ($)"}),t.jsx(z,{value:"EUR",children:"Euro (‚Ç¨)"})]})]})]}),t.jsxs("div",{className:"space-y-3 pt-2",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Op√ß√µes extras"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Solicitar CPF apenas no pagamento"}),t.jsx(M,{checked:r.theme.requestCpfOnlyAtPayment||!1,onCheckedChange:e=>s({requestCpfOnlyAtPayment:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Solicitar data de nascimento"}),t.jsx(M,{checked:r.theme.requestBirthDate||!1,onCheckedChange:e=>s({requestBirthDate:e})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Solicitar g√™nero"}),t.jsx(M,{checked:r.theme.requestGender||!1,onCheckedChange:e=>s({requestGender:e})})]})]})]});default:return t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configura√ß√µes em breve"})})}};return t.jsxs("div",{className:"w-80 bg-gradient-to-b from-white/95 to-gray-50/95 dark:from-gray-900/95 dark:to-gray-800/95 backdrop-blur-xl border-r border-gray-200/50 dark:border-gray-700/50 flex flex-col overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"px-4 py-4 border-b border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-950/30 dark:to-purple-950/30",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 shadow-md",children:t.jsx(G,{className:"h-4 w-4 text-white"})}),t.jsx("div",{children:t.jsx("h1",{className:"text-base font-black bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"SyncAds AI"})})]}),t.jsxs("div",{className:"flex items-center gap-2 pl-1",children:[t.jsx("div",{className:"p-1 rounded bg-violet-500/20",children:t.jsx(K,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"Personaliza√ß√£o"}),t.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:"Configure o visual do checkout"})]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:Ge.map((r,s)=>{const n=e.includes(r.id),i=r.icon;return t.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*s},className:"border-b border-gray-200/50 dark:border-gray-700/50",children:[t.jsxs("button",{onClick:()=>a(r.id),className:k("w-full px-4 py-3.5 flex items-center justify-between text-sm font-medium transition-all duration-200 group",n?"bg-gradient-to-r from-violet-500/10 to-purple-500/10 text-violet-700 dark:text-violet-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-800/50"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:k("p-1.5 rounded-lg transition-all duration-200",n?"bg-violet-500/20":"bg-gray-200/50 dark:bg-gray-700/50 group-hover:bg-violet-500/10"),children:t.jsx(i,{className:k("h-4 w-4 transition-colors",n?"text-violet-600 dark:text-violet-400":"text-gray-600 dark:text-gray-400")})}),t.jsx("span",{children:r.label})]}),n?t.jsx(oe,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"}):t.jsx(ne,{className:"h-4 w-4 text-gray-400"})]}),t.jsx(ue,{children:n&&t.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:t.jsx("div",{className:"p-4 bg-white/50 dark:bg-gray-900/50",children:o(r.id)})})})]},r.id)})}),t.jsx("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-r from-violet-500/5 to-purple-500/5",children:t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{children:"Altera√ß√µes autom√°ticas no preview"})]})})]})},We=()=>{const e=y(),{toast:a}=C(),r=P(e=>e.user),[s,o]=b.useState(["CABE√áALHO"]),[n,i]=b.useState("desktop"),[l,d]=b.useState(!0),[c,x]=b.useState(null),[m,h]=b.useState(!1),[u,g]=b.useState(!1),[p,f]=b.useState(null),[v,j]=b.useState(!0),[B,O]=b.useState(0);b.useEffect(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const e=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{e.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[]),b.useEffect(()=>{r?.id?(async()=>{if(r?.id)if(await T(),p)j(!1);else try{const{data:e,error:a}=await w.from("Order").select("id").eq("status","PREVIEW").eq("userId",r.id).limit(1);if(!a&&e&&e.length>0){const a=e[0].id;return f(a),void j(!1)}const t=[{id:"preview-product-1",productId:"preview-product-1",variantId:"preview-variant-1",name:"Produto de Demonstra√ß√£o 1",price:199.99,quantity:1,image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400",sku:"DEMO-001"},{id:"preview-product-2",productId:"preview-product-2",variantId:"preview-variant-2",name:"Produto de Demonstra√ß√£o 2",price:149.99,quantity:2,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",sku:"DEMO-002"}],s=499.97,o=29.99,n=529.96,{data:i,error:l}=await w.from("Order").insert({userId:r.id,orderNumber:`PREVIEW-${Date.now()}`,status:"PREVIEW",paymentStatus:"PENDING",paymentMethod:"PIX",items:t,subtotal:s,shipping:o,tax:0,discount:0,total:n,customerName:"Cliente de Demonstra√ß√£o",customerEmail:"demo@exemplo.com",customerPhone:"(11) 99999-9999",metadata:{isPreview:!0,originalProducts:t,createdBy:"checkout-customizer"}}).select().single();if(!l&&i)f(i.id),j(!1);else{const{data:e}=await w.from("Order").select("id").eq("userId",r.id).limit(1).single();e?(f(e.id),j(!1)):j(!1)}}catch(e){j(!1)}})():j(!1)},[r?.id]);const T=async()=>{try{j(!0);const e=await S.loadCustomization(r.id);e&&x(e)}catch(e){a({title:"Erro ao carregar personaliza√ß√£o",description:"N√£o foi poss√≠vel carregar as configura√ß√µes do checkout",variant:"destructive"})}finally{j(!1)}};return v?t.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-850 dark:to-purple-900/40",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Z,{className:"h-12 w-12 animate-spin text-violet-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando personaliza√ß√£o..."})]})}):t.jsxs("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-850 dark:to-purple-900/40",children:[t.jsx(He,{expandedSections:s,onToggleSection:e=>{o(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},customization:c,onUpdateTheme:e=>{c&&(x({...c,theme:{...c.theme,...e}}),g(!0),O(e=>e+1))}}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(he.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-700/50 px-6 py-3 shadow-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(N,{variant:"ghost",size:"sm",onClick:()=>e("/checkout/gateways"),className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:[t.jsx(ie,{className:"h-4 w-4 mr-2"}),"Voltar"]}),t.jsx(N,{variant:"outline",size:"sm",onClick:()=>d(!l),className:"gap-2",children:l?t.jsxs(t.Fragment,{children:[t.jsx(le,{className:"h-4 w-4"}),"Ocultar Preview"]}):t.jsxs(t.Fragment,{children:[t.jsx(de,{className:"h-4 w-4"}),"Mostrar Preview"]})}),l&&t.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-0.5",children:[t.jsxs(N,{size:"sm",variant:"desktop"===n?"default":"ghost",onClick:()=>i("desktop"),className:k("gap-2","desktop"===n&&"bg-violet-500 hover:bg-violet-600"),children:[t.jsx(ce,{className:"h-4 w-4"}),"Desktop"]}),t.jsxs(N,{size:"sm",variant:"mobile"===n?"default":"ghost",onClick:()=>i("mobile"),className:k("gap-2","mobile"===n&&"bg-violet-500 hover:bg-violet-600"),children:[t.jsx(xe,{className:"h-4 w-4"}),"Mobile"]})]}),t.jsx(N,{onClick:async()=>{if(c&&r?.id){h(!0);try{await S.saveCustomization(c),g(!1),a({title:"Personaliza√ß√£o salva!",description:"Suas configura√ß√µes foram salvas com sucesso"})}catch(e){a({title:"Erro ao salvar",description:"N√£o foi poss√≠vel salvar as configura√ß√µes",variant:"destructive"})}finally{h(!1)}}},disabled:!u||m,className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):t.jsxs(t.Fragment,{children:[t.jsx(me,{className:"h-4 w-4 mr-2"}),"Salvar Altera√ß√µes"]})}),u&&t.jsx(E,{variant:"default",className:"bg-amber-500 text-white animate-pulse",children:"N√£o salvo"})]})})}),l?t.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 p-6",children:t.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"h-full flex items-center justify-center",children:t.jsx(A,{className:k("bg-white dark:bg-gray-900 shadow-2xl overflow-hidden transition-all duration-300","desktop"===n?"w-full max-w-6xl h-full rounded-2xl":"w-[390px] h-[844px] rounded-3xl"),children:t.jsx("div",{className:k("h-full w-full overflow-y-auto overflow-x-hidden","mobile"===n&&"scale-100"),children:p?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden",children:[void 0,void 0,void 0]}),t.jsx(R,{injectedOrderId:p,injectedTheme:c?.theme||null,previewMode:!0,isMobile:"mobile"===n},B)]}):t.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-violet-50 to-purple-50 dark:from-gray-800 dark:to-gray-900",children:t.jsx("div",{className:"text-center p-8",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl max-w-md",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Z,{className:"h-8 w-8 text-white animate-spin"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Carregando Preview"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Preparando visualiza√ß√£o do checkout..."}),t.jsxs("div",{className:"text-left space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Paleta de cores moderna implementada"]}),t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Upload de imagens funcional"]}),t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"78 op√ß√µes de personaliza√ß√£o ativas"]}),t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Preview visual em breve"]})]})]})})})})})})}):t.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx(de,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium",children:"Preview oculto"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:'Clique em "Mostrar Preview" para visualizar'})]})})]}),t.jsx(he.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},className:"fixed bottom-6 right-6 z-50",children:t.jsx(A,{className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 shadow-2xl px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:k("w-2 h-2 rounded-full",u?"bg-amber-500 animate-pulse":"bg-green-500 animate-pulse")}),t.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:u?"Altera√ß√µes pendentes":"Tudo salvo"})]})})})]})};export{We as default};
