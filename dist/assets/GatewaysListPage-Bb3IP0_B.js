import{j as e}from"./vendor-ui-DkUuACDy.js";import{f as a,r as s}from"./vendor-react-X41Bjl18.js";import{C as t,h as r,c as l,e as i,f as o,I as n,s as d,a as c,b as x}from"./index-B7rDWykp.js";import{S as g,a as m,b as h,c as p,d as u}from"./select-BqWUIfnZ.js";import{G as b,g as j}from"./GatewayLogo-B5QQl5Gm.js";import{m as y}from"./vendor-animation-DQ3cvw6m.js";import{s as v,ba as f,w as N,Z as w,o as k,aS as C,S as G,ar as S,x as A}from"./vendor-icons-DTdRnryx.js";import{S as I}from"./skeleton-BVTwFtjQ.js";import"./vendor-supabase-BQxDPPjR.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-Bf3pI66S.js";const T=({id:s,name:o,slug:n,logo:d,type:c,status:x,environment:g,isVerified:m,isActive:h,isPopular:p=!1,isNew:u=!1,onClick:j,delay:C=0})=>{const G=a();return e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:C},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(t,{className:r("relative cursor-pointer overflow-hidden group","border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl","shadow-lg hover:shadow-2xl transition-all duration-300",h&&"ring-2 ring-green-500/50 dark:ring-green-500/30"),onClick:()=>{j?j():G(`/checkout/gateways/${n}`)},children:[e.jsx("div",{className:r("absolute -top-10 -right-10 w-32 h-32 rounded-full blur-3xl opacity-0 group-hover:opacity-20 transition-opacity duration-500",h?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-purple-600")}),h&&e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-emerald-500 to-green-500 animate-pulse"}),e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(b,{name:o,logo:d,slug:n,size:"lg",className:"group-hover:scale-110 transition-transform duration-300"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white truncate group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:to-purple-600 group-hover:bg-clip-text transition-all duration-300",children:o})}),e.jsxs("div",{className:"flex gap-2 flex-wrap mb-2",children:[("nacional"===c||"both"===c)&&e.jsxs(i,{variant:"secondary",className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 text-green-700 dark:text-green-400 text-xs border-0 backdrop-blur-sm",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),"Nacional"]}),("global"===c||"both"===c)&&e.jsxs(i,{variant:"secondary",className:"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-blue-700 dark:text-blue-400 text-xs border-0 backdrop-blur-sm",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Global"]})]})]})]}),h&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-green-500/10 border border-green-500/20",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:"Ativo"})]})})]}),(p||u||m)&&e.jsxs("div",{className:"flex gap-2 mb-3",children:[p&&e.jsxs(i,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white border-0 text-xs",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),"Popular"]}),u&&e.jsxs(i,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 text-xs",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Novo"]}),m&&e.jsxs(i,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0 text-xs",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"Verificado"]})]}),e.jsx("div",{className:"absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400 font-medium",children:["Configurar",e.jsx(y.div,{animate:{x:[0,4,0]},transition:{repeat:1/0,duration:1.5},children:"→"})]})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})},V=({title:a,value:s,icon:r,color:i,delay:o=0,subtitle:n,trend:d})=>e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o},children:e.jsxs(t,{className:"relative overflow-hidden border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${i} opacity-10 rounded-full blur-3xl`}),e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a}),e.jsx("div",{className:`p-2 rounded-lg ${i} bg-opacity-10`,children:e.jsx(r,{className:`h-5 w-5 ${i.replace("bg-","text-")}`})})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:s}),n&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:n}),void 0!==d&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(N,{className:"h-3 w-3 "+(d>=0?"text-green-600":"text-red-600")}),e.jsxs("span",{className:"text-xs font-medium "+(d>=0?"text-green-600":"text-red-600"),children:[d>=0?"+":"",d,"%"]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vs mês anterior"})]})]})]})}),$=()=>{const[a,r]=s.useState(""),[c,x]=s.useState("all"),[b,N]=s.useState("all"),[w,$]=s.useState([]),[q,L]=s.useState(!0),P=o(e=>e.user);s.useEffect(()=>{(async()=>{if(!P?.id)return void L(!1);const{data:e,error:a}=await d.from("GatewayConfig").select("gatewayId, Gateway(name, slug)").eq("userId",P.id).eq("isActive",!0);if(a)L(!1);else{if(e&&e.length>0){const a=e.map(e=>e.gatewayId);$(a)}L(!1)}})()},[P?.id]);const F=["mercadopago","stripe","pagseguro","asaas","pagarme"],M=s.useMemo(()=>{const e=j.length,a=w.length;return{total:e,active:a,nacional:j.filter(e=>"nacional"===e.type||"both"===e.type).length,global:j.filter(e=>"global"===e.type||"both"===e.type).length,conversionRate:a>0?(a/e*100).toFixed(1):"0"}},[w]),B=s.useMemo(()=>{let e=j;return a&&(e=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase()))),"all"!==c&&(e=e.filter(e=>"nacional"===c?"nacional"===e.type||"both"===e.type:"global"!==c||("global"===e.type||"both"===e.type))),"all"!==b&&("active"===b?e=e.filter(e=>w.includes(e.id)):"inactive"===b&&(e=e.filter(e=>!w.includes(e.id)))),e},[a,c,b,w]);return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-6",children:[e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Gateways de Pagamento"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mt-2",children:"Conecte e gerencie seus métodos de pagamento"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(V,{title:"Total Disponível",value:M.total,icon:C,color:"bg-blue-500",delay:.1,subtitle:"Gateways cadastrados"}),e.jsx(V,{title:"Gateways Ativos",value:M.active,icon:k,color:"bg-green-500",delay:.2,subtitle:"Configurados e funcionando",trend:12}),e.jsx(V,{title:"Nacionais",value:M.nacional,icon:v,color:"bg-purple-500",delay:.3,subtitle:"Gateways brasileiros"}),e.jsx(V,{title:"Globais",value:M.global,icon:f,color:"bg-pink-500",delay:.4,subtitle:"Gateways internacionais"})]}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:e.jsx(t,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),e.jsx(n,{placeholder:"Buscar gateway...",value:a,onChange:e=>r(e.target.value),className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder:text-gray-500"})]}),e.jsxs(g,{value:c,onValueChange:x,children:[e.jsxs(m,{className:"w-full md:w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),e.jsx(h,{placeholder:"Tipo"})]}),e.jsxs(p,{children:[e.jsx(u,{value:"all",children:"Todos os tipos"}),e.jsx(u,{value:"nacional",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-green-600"}),"Nacional"]})}),e.jsx(u,{value:"global",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4 text-blue-600"}),"Global"]})})]})]}),e.jsxs(g,{value:b,onValueChange:N,children:[e.jsxs(m,{className:"w-full md:w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx(h,{placeholder:"Status"})]}),e.jsxs(p,{children:[e.jsx(u,{value:"all",children:"Todos os status"}),e.jsx(u,{value:"active",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-green-600"}),"Ativos"]})}),e.jsx(u,{value:"inactive",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"}),"Inativos"]})})]})]})]}),(a||"all"!==c||"all"!==b)&&e.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filtros ativos:"}),a&&e.jsxs(i,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:["Busca: ",a]}),"all"!==c&&e.jsx(i,{variant:"secondary",className:"bg-purple-500/10 text-purple-700 dark:text-purple-400",children:"nacional"===c?"Nacional":"Global"}),"all"!==b&&e.jsx(i,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:text-green-400",children:"active"===b?"Ativos":"Inativos"}),e.jsx("button",{onClick:()=>{r(""),x("all"),N("all")},className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 ml-2",children:"Limpar filtros"})]})]})})}),e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.6},className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:q?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),"Carregando..."]}):e.jsxs(e.Fragment,{children:["Exibindo"," ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:B.length})," ","de"," ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:j.length})," ","gateways"]})})}),q?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,s)=>e.jsx(t,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(I,{className:"w-16 h-16 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(I,{className:"h-6 w-3/4"}),e.jsx(I,{className:"h-4 w-1/2"})]})]})})},s))}):0===B.length?e.jsx(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsx(t,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:e.jsx(l,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:e.jsx(G,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum gateway encontrado"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a?`Não encontramos gateways com "${a}"`:"Ajuste os filtros para ver mais resultados"})]})]})})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map((a,s)=>{const t=w.includes(a.id),r=F.includes(a.id);return e.jsx(T,{id:a.id,name:a.name,slug:a.slug,logo:a.logo,type:a.type,status:a.status,isVerified:"active"===a.status&&!a.testMode,isActive:t,isPopular:r,delay:.05*s},a.id)})})]})};export{$ as default};
