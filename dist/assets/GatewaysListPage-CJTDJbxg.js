import{c as $,b as H,j as e,O as x,C as w,m as I,h as k,o as c,r as d,a as q,T as F,I as P,s as z,e as D,f as Z}from"./index-ZasCwQdT.js";import{S as L,a as V,b as W,c as Y,d as j}from"./select-BbwtUPeD.js";import{G as O,g as N}from"./GatewayLogo-BuNPocUj.js";import{M as T}from"./map-pin-BIM9aX5f.js";import{T as B}from"./trending-up-7kn-UMLu.js";import{Z as R}from"./zap-D69x1-rT.js";import{C as M}from"./circle-check-DrupzevD.js";import{S as C}from"./skeleton-Cv158hmV.js";import{F as U}from"./filter-C1Ic1gP8.js";import{A as _}from"./activity-CTkQsXPS.js";import"./index-Lt32C_Ai.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=$("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=$("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),K=({id:i,name:g,slug:r,logo:n,type:s,status:p,environment:l,isVerified:G,isActive:m,isPopular:u=!1,isNew:o=!1,onClick:A,delay:b=0})=>{const v=H(),a=()=>{A?A():v(`/checkout/gateways/${r}`)};return e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:b},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(w,{className:I("relative cursor-pointer overflow-hidden group","border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl","shadow-lg hover:shadow-2xl transition-all duration-300",m&&"ring-2 ring-green-500/50 dark:ring-green-500/30"),onClick:a,children:[e.jsx("div",{className:I("absolute -top-10 -right-10 w-32 h-32 rounded-full blur-3xl opacity-0 group-hover:opacity-20 transition-opacity duration-500",m?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-purple-600")}),m&&e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-emerald-500 to-green-500 animate-pulse"}),e.jsxs(k,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(O,{name:g,logo:n,slug:r,size:"lg",className:"group-hover:scale-110 transition-transform duration-300"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white truncate group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:to-purple-600 group-hover:bg-clip-text transition-all duration-300",children:g})}),e.jsxs("div",{className:"flex gap-2 flex-wrap mb-2",children:[(s==="nacional"||s==="both")&&e.jsxs(c,{variant:"secondary",className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 text-green-700 dark:text-green-400 text-xs border-0 backdrop-blur-sm",children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),"Nacional"]}),(s==="global"||s==="both")&&e.jsxs(c,{variant:"secondary",className:"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-blue-700 dark:text-blue-400 text-xs border-0 backdrop-blur-sm",children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Global"]})]})]})]}),m&&e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-green-500/10 border border-green-500/20",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:"Ativo"})]})})]}),(u||o||G)&&e.jsxs("div",{className:"flex gap-2 mb-3",children:[u&&e.jsxs(c,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white border-0 text-xs",children:[e.jsx(B,{className:"w-3 h-3 mr-1"}),"Popular"]}),o&&e.jsxs(c,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 text-xs",children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),"Novo"]}),G&&e.jsxs(c,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0 text-xs",children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"Verificado"]})]}),e.jsx("div",{className:"absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400 font-medium",children:["Configurar",e.jsx(x.div,{animate:{x:[0,4,0]},transition:{repeat:1/0,duration:1.5},children:"â†’"})]})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})},S=({title:i,value:g,icon:r,color:n,delay:s=0,subtitle:p,trend:l})=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:s},children:e.jsxs(w,{className:"relative overflow-hidden border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${n} opacity-10 rounded-full blur-3xl`}),e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Z,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:i}),e.jsx("div",{className:`p-2 rounded-lg ${n} bg-opacity-10`,children:e.jsx(r,{className:`h-5 w-5 ${n.replace("bg-","text-")}`})})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:g}),p&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:p}),l!==void 0&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(B,{className:`h-3 w-3 ${l>=0?"text-green-600":"text-red-600"}`}),e.jsxs("span",{className:`text-xs font-medium ${l>=0?"text-green-600":"text-red-600"}`,children:[l>=0?"+":"",l,"%"]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vs mÃªs anterior"})]})]})]})}),de=()=>{const[i,g]=d.useState(""),[r,n]=d.useState("all"),[s,p]=d.useState("all"),[l,G]=d.useState([]),[m,u]=d.useState(!0),o=q(a=>a.user);d.useEffect(()=>{(async()=>{if(!(o!=null&&o.id)){console.log("âš ï¸ [GATEWAYS] UsuÃ¡rio nÃ£o logado"),u(!1);return}console.log("ðŸ” [GATEWAYS] Buscando gateways ativos para usuÃ¡rio:",o.id);const{data:t,error:y}=await z.from("GatewayConfig").select("gatewayId, Gateway(name, slug)").eq("userId",o.id).eq("isActive",!0);if(console.log("ðŸ“Š [GATEWAYS] Dados retornados do banco:",t),y){console.error("âŒ [GATEWAYS] Erro ao buscar configs:",y),u(!1);return}if(t&&t.length>0){const f=t.map(h=>h.gatewayId);console.log("ðŸŸ¢ [GATEWAYS] GATEWAYS ATIVOS:",t.length),console.table(t),console.log("ðŸ†” [GATEWAYS] IDs dos gateways ativos:",f),G(f)}else console.log("âšª [GATEWAYS] Nenhum gateway ativo encontrado");u(!1)})()},[o==null?void 0:o.id]);const A=["mercadopago","stripe","pagseguro","asaas","pagarme"],b=d.useMemo(()=>{const a=N.length,t=l.length,y=N.filter(h=>h.type==="nacional"||h.type==="both").length,f=N.filter(h=>h.type==="global"||h.type==="both").length;return{total:a,active:t,nacional:y,global:f,conversionRate:t>0?(t/a*100).toFixed(1):"0"}},[l]),v=d.useMemo(()=>{let a=N;return i&&(a=a.filter(t=>t.name.toLowerCase().includes(i.toLowerCase()))),r!=="all"&&(a=a.filter(t=>r==="nacional"?t.type==="nacional"||t.type==="both":r==="global"?t.type==="global"||t.type==="both":!0)),s!=="all"&&(s==="active"?a=a.filter(t=>l.includes(t.id)):s==="inactive"&&(a=a.filter(t=>!l.includes(t.id)))),a},[i,r,s,l]);return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Gateways de Pagamento"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mt-2",children:"Conecte e gerencie seus mÃ©todos de pagamento"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(S,{title:"Total DisponÃ­vel",value:b.total,icon:J,color:"bg-blue-500",delay:.1,subtitle:"Gateways cadastrados"}),e.jsx(S,{title:"Gateways Ativos",value:b.active,icon:M,color:"bg-green-500",delay:.2,subtitle:"Configurados e funcionando",trend:12}),e.jsx(S,{title:"Nacionais",value:b.nacional,icon:T,color:"bg-purple-500",delay:.3,subtitle:"Gateways brasileiros"}),e.jsx(S,{title:"Globais",value:b.global,icon:E,color:"bg-pink-500",delay:.4,subtitle:"Gateways internacionais"})]}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:e.jsx(w,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs(k,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),e.jsx(P,{placeholder:"Buscar gateway...",value:i,onChange:a=>g(a.target.value),className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder:text-gray-500"})]}),e.jsxs(L,{value:r,onValueChange:n,children:[e.jsxs(V,{className:"w-full md:w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),e.jsx(W,{placeholder:"Tipo"})]}),e.jsxs(Y,{children:[e.jsx(j,{value:"all",children:"Todos os tipos"}),e.jsx(j,{value:"nacional",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-green-600"}),"Nacional"]})}),e.jsx(j,{value:"global",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-blue-600"}),"Global"]})})]})]}),e.jsxs(L,{value:s,onValueChange:p,children:[e.jsxs(V,{className:"w-full md:w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),e.jsx(W,{placeholder:"Status"})]}),e.jsxs(Y,{children:[e.jsx(j,{value:"all",children:"Todos os status"}),e.jsx(j,{value:"active",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-green-600"}),"Ativos"]})}),e.jsx(j,{value:"inactive",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"}),"Inativos"]})})]})]})]}),(i||r!=="all"||s!=="all")&&e.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filtros ativos:"}),i&&e.jsxs(c,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:["Busca: ",i]}),r!=="all"&&e.jsx(c,{variant:"secondary",className:"bg-purple-500/10 text-purple-700 dark:text-purple-400",children:r==="nacional"?"Nacional":"Global"}),s!=="all"&&e.jsx(c,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:text-green-400",children:s==="active"?"Ativos":"Inativos"}),e.jsx("button",{onClick:()=>{g(""),n("all"),p("all")},className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 ml-2",children:"Limpar filtros"})]})]})})}),e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.6},className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),"Carregando..."]}):e.jsxs(e.Fragment,{children:["Exibindo"," ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:v.length})," ","de"," ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:N.length})," ","gateways"]})})}),m?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,t)=>e.jsx(w,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(C,{className:"w-16 h-16 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(C,{className:"h-6 w-3/4"}),e.jsx(C,{className:"h-4 w-1/2"})]})]})})},t))}):v.length===0?e.jsx(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsx(w,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:e.jsx(k,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum gateway encontrado"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i?`NÃ£o encontramos gateways com "${i}"`:"Ajuste os filtros para ver mais resultados"})]})]})})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((a,t)=>{const y=l.includes(a.id),f=A.includes(a.id);return e.jsx(K,{id:a.id,name:a.name,slug:a.slug,logo:a.logo,type:a.type,status:a.status,isVerified:a.status==="active"&&!a.testMode,isActive:y,isPopular:f,delay:t*.05},a.id)})})]})};export{de as default};
