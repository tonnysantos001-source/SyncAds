import{g as r,D as R,F as I,E as F,J as k,j as e,H as x,k as i,B as o,C as h,l as u,o as g,t as w,q as f,an as T}from"./index-DzM7EAHs.js";import{A as L}from"./arrow-left-CUTISUiV.js";import{C as l}from"./circle-check-DjId5sPA.js";import{C}from"./circle-alert-DCmyIeIj.js";import{M as P}from"./mail-DbDv5FPb.js";import{S as E}from"./send-D2xVrMG1.js";function U(){const[S,V]=r.useState(!1),[p,j]=r.useState(!1),[d,b]=r.useState(!0),[v,A]=r.useState(null),[t,N]=r.useState(0),{user:a}=R(),{toast:c}=I(),m=F();r.useEffect(()=>{y()},[a==null?void 0:a.id]),r.useEffect(()=>{if(t>0){const s=setTimeout(()=>N(t-1),1e3);return()=>clearTimeout(s)}},[t]);const y=async()=>{if(a!=null&&a.id){b(!0);try{const{data:s}=await k.from("User").select("emailVerified").eq("id",a.id).single();V((s==null?void 0:s.emailVerified)===!0)}catch(s){console.error("Erro ao verificar status de email:",s)}finally{b(!1)}}},q=async()=>{if(!(a!=null&&a.email)){c({title:"Erro",description:"Email nÃ£o encontrado",variant:"destructive"});return}j(!0);try{const{error:s}=await k.auth.resend({type:"signup",email:a.email});if(s)throw s;A(new Date),N(60),c({title:"Email enviado!",description:`Enviamos um link de verificaÃ§Ã£o para ${a.email}`})}catch(s){console.error("Erro ao enviar email:",s),c({title:"Erro ao enviar email",description:s.message||"Tente novamente mais tarde",variant:"destructive"})}finally{j(!1)}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return d?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(x,{className:"h-8 w-8 animate-spin text-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-purple-950 p-4 sm:p-8",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(i.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-full blur-3xl"}),e.jsx(i.div,{animate:{scale:[1,1.3,1],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-500/30 to-purple-500/30 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[e.jsxs(o,{variant:"ghost",onClick:()=>m("/onboarding"),className:"mb-6",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Voltar"]}),e.jsxs(i.div,{initial:"hidden",animate:"visible",variants:n,className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"VerificaÃ§Ã£o de Email"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Confirme seu endereÃ§o de email para ativar todos os recursos"})]}),S?e.jsx(i.div,{initial:"hidden",animate:"visible",variants:n,transition:{delay:.2},children:e.jsxs(h,{className:"border-2 border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30",children:[e.jsxs(u,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500 rounded-full blur-xl opacity-50"}),e.jsx("div",{className:"relative h-20 w-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(l,{className:"h-10 w-10 text-white"})})]})}),e.jsx(g,{className:"text-2xl text-green-700 dark:text-green-400",children:"Email Verificado!"}),e.jsxs(w,{className:"text-base",children:["Seu email ",e.jsx("strong",{children:a==null?void 0:a.email})," foi verificado com sucesso"]})]}),e.jsxs(f,{className:"text-center",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"âœ¨ Recursos Ativados:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-green-600"}),"Acesso completo ao assistente de IA"]}),e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-green-600"}),"NotificaÃ§Ãµes por email habilitadas"]}),e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-green-600"}),"RecuperaÃ§Ã£o de senha disponÃ­vel"]}),e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-green-600"}),"RelatÃ³rios e exportaÃ§Ãµes ativados"]})]})]}),e.jsx(o,{onClick:()=>m("/onboarding"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white",children:"Continuar ConfiguraÃ§Ã£o"})]})]})}):e.jsx(i.div,{initial:"hidden",animate:"visible",variants:n,transition:{delay:.2},children:e.jsxs(h,{className:"border-2 border-orange-200 dark:border-orange-800",children:[e.jsxs(u,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-500 rounded-full blur-xl opacity-50"}),e.jsx("div",{className:"relative h-20 w-20 bg-gradient-to-br from-orange-500 to-amber-600 rounded-full flex items-center justify-center",children:e.jsx(C,{className:"h-10 w-10 text-white"})})]})}),e.jsx(g,{className:"text-2xl text-gray-900 dark:text-white",children:"Verifique seu Email"}),e.jsxs(w,{className:"text-base",children:["Enviamos um link de verificaÃ§Ã£o para"," ",e.jsx("strong",{className:"text-gray-900 dark:text-white",children:a==null?void 0:a.email})]})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-blue-600"}),"Como verificar:"]}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 list-decimal list-inside",children:[e.jsx("li",{children:"Abra sua caixa de entrada de email"}),e.jsxs("li",{children:["Procure por um email de ",e.jsx("strong",{children:"SyncAds"})]}),e.jsx("li",{children:"Clique no link de verificaÃ§Ã£o"}),e.jsx("li",{children:'Volte aqui e clique em "Verificar Status"'})]})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950/30 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"NÃ£o recebeu o email?"}),e.jsx("br",{}),"Verifique sua pasta de spam ou lixo eletrÃ´nico. VocÃª tambÃ©m pode reenviar o email clicando no botÃ£o abaixo."]})}),v&&e.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Ãšltimo email enviado Ã s"," ",v.toLocaleTimeString("pt-BR")]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(o,{onClick:y,variant:"outline",className:"flex-1 border-2",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"mr-2 h-4 w-4 animate-spin"}),"Verificando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Verificar Status"]})}),e.jsx(o,{onClick:q,disabled:p||t>0,className:"flex-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white",children:p?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):t>0?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Aguarde ",t,"s"]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Reenviar Email"]})})]}),e.jsx("div",{className:"text-center pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsx("button",{onClick:()=>m("/onboarding"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white underline",children:"Continuar sem verificar (nÃ£o recomendado)"})})]})]})}),e.jsx(i.div,{initial:"hidden",animate:"visible",variants:n,transition:{delay:.4},className:"mt-6",children:e.jsxs(h,{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/30 dark:to-pink-950/30 border-purple-200 dark:border-purple-800",children:[e.jsx(u,{children:e.jsxs(g,{className:"text-lg flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-purple-600"}),"Por que verificar meu email?"]})}),e.jsxs(f,{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[e.jsxs("p",{children:["ğŸ”’"," ",e.jsx("strong",{children:"SeguranÃ§a:"})," Garante que apenas vocÃª tem acesso Ã  sua conta"]}),e.jsxs("p",{children:["ğŸ””"," ",e.jsx("strong",{children:"NotificaÃ§Ãµes:"})," Receba alertas importantes sobre sua conta"]}),e.jsxs("p",{children:["ğŸ”„"," ",e.jsx("strong",{children:"RecuperaÃ§Ã£o:"})," Possibilita a recuperaÃ§Ã£o de senha quando necessÃ¡rio"]}),e.jsxs("p",{children:["âœ¨"," ",e.jsx("strong",{children:"Recursos:"})," Libera funcionalidades avanÃ§adas da plataforma"]})]})]})})]})]})}export{U as default};
