import{j as e}from"./vendor-ui-D3JNL6pE.js";import{r,f as a,L as s}from"./vendor-react-X41Bjl18.js";import{u as t,o as i,s as o}from"./vendor-forms-Bj_nGwdb.js";import{t as l}from"./zod-aIsnA7Fw.js";import{f as d,g as n,C as c,a as m,b as p,d as x,c as u,I as g,B as h}from"./index-eG0bzZt1.js";import{L as b}from"./label-DbrdNaXF.js";import{m as f,A as j}from"./vendor-animation-DtB50Lbk.js";import{v,o as y,U as N,A as w,s as k,L as S}from"./vendor-icons-BvRy6l6m.js";import"./vendor-supabase-HUq0BeMy.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-DqG_mm-v.js";const C=i({name:o().min(3,"Nome deve ter no mínimo 3 caracteres"),email:o().email("Email inválido"),password:o().min(6,"Senha deve ter no mínimo 6 caracteres"),cpf:o().min(11,"CPF inválido").max(14),birthDate:o().min(1,"Data de nascimento é obrigatória")}),F=i({cep:o().min(8,"CEP inválido").max(9),street:o().min(3,"Rua é obrigatória"),number:o().min(1,"Número é obrigatório"),complement:o().optional(),neighborhood:o().min(2,"Bairro é obrigatório"),city:o().min(2,"Cidade é obrigatória"),state:o().length(2,"Estado deve ter 2 caracteres")});function E(){const[i,o]=r.useState(1),[E,D]=r.useState(null),[V,$]=r.useState(!1),{register:P}=d(),_=a(),{toast:L}=n(),z=t({resolver:l(C),defaultValues:{name:"",email:"",password:"",cpf:"",birthDate:""}}),A=t({resolver:l(F),defaultValues:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}});return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden p-4 py-12",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(f.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-full blur-3xl"}),e.jsx(f.div,{animate:{scale:[1,1.3,1],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-500/30 to-purple-500/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"})]}),e.jsxs(s,{to:"/landing",className:"absolute top-6 left-6 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors z-10",children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),e.jsxs(c,{className:"w-full max-w-2xl relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-800/50 shadow-2xl z-10",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs(m,{className:"text-center pt-8 pb-6",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs(f.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl blur-xl opacity-50"}),e.jsx("div",{className:"relative h-16 w-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl",children:e.jsx("span",{className:"text-white font-black text-3xl",children:"S"})})]})}),e.jsx(p,{className:"text-3xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Criar Conta"}),e.jsx(x,{className:"text-base",children:1===i?"Preencha seus dados pessoais":"Agora, informe seu endereço"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all "+(i>=1?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-500"),children:i>1?e.jsx(y,{className:"h-5 w-5"}):"1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dados"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx(f.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",initial:{width:"0%"},animate:{width:i>=2?"100%":"0%"},transition:{duration:.5}})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all "+(i>=2?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-500"),children:"2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Endereço"})]})]})]}),e.jsxs(u,{className:"pb-8",children:[e.jsx(j,{mode:"wait",children:1===i?e.jsxs(f.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},onSubmit:z.handleSubmit(e=>{D(e),o(2)}),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-600"}),"Nome Completo"]}),e.jsx(g,{id:"name",...z.register("name"),placeholder:"Seu nome completo",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),z.formState.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:z.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",type:"email",...z.register("email"),placeholder:"seu@email.com",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),z.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-500",children:z.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Senha"}),e.jsx(g,{id:"password",type:"password",...z.register("password"),placeholder:"Mínimo 6 caracteres",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),z.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:z.formState.errors.password.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"cpf",children:"CPF"}),e.jsx(g,{id:"cpf",...z.register("cpf"),placeholder:"000.000.000-00",maxLength:14,onChange:e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),z.setValue("cpf",e.target.value)},className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),z.formState.errors.cpf&&e.jsx("p",{className:"text-sm text-red-500",children:z.formState.errors.cpf.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"birthDate",children:"Data de Nascimento"}),e.jsx(g,{id:"birthDate",type:"date",...z.register("birthDate"),className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),z.formState.errors.birthDate&&e.jsx("p",{className:"text-sm text-red-500",children:z.formState.errors.birthDate.message})]})]}),e.jsxs(h,{type:"submit",disabled:z.formState.isSubmitting,className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/30",children:["Próximo: Endereço",e.jsx(w,{className:"ml-2 h-5 w-5"})]})]},"step1"):e.jsxs(f.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},onSubmit:A.handleSubmit(async e=>{if(E)try{await P(E.email,E.password,E.name,E.cpf,E.birthDate,e),L({title:"Conta criada com sucesso!",description:"Bem-vindo ao SyncAds."}),_("/onboarding")}catch(r){L({title:"Erro ao criar conta",description:r.message||"Tente novamente mais tarde.",variant:"destructive"})}}),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{htmlFor:"cep",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-purple-600"}),"CEP"]}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"cep",...A.register("cep"),placeholder:"00000-000",maxLength:9,onChange:e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),A.setValue("cep",e.target.value)},onBlur:async()=>{const e=A.getValues("cep").replace(/\D/g,"");if(8===e.length){$(!0);try{const r=await fetch(`https://viacep.com.br/ws/${e}/json/`),a=await r.json();if(a.erro)return void L({title:"CEP não encontrado",description:"Verifique o CEP e tente novamente.",variant:"destructive"});A.setValue("street",a.logradouro||""),A.setValue("neighborhood",a.bairro||""),A.setValue("city",a.localidade||""),A.setValue("state",a.uf||""),L({title:"CEP encontrado!",description:"Endereço preenchido automaticamente."})}catch(r){L({title:"Erro ao buscar CEP",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{$(!1)}}},className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),V&&e.jsx(S,{className:"absolute right-3 top-3 h-5 w-5 animate-spin text-purple-600"})]}),A.formState.errors.cep&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.cep.message}),e.jsx("p",{className:"text-xs text-gray-500",children:"O endereço será preenchido automaticamente"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(b,{htmlFor:"street",children:"Rua"}),e.jsx(g,{id:"street",...A.register("street"),placeholder:"Nome da rua",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),A.formState.errors.street&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.street.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"number",children:"Número"}),e.jsx(g,{id:"number",...A.register("number"),placeholder:"123",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),A.formState.errors.number&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.number.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"complement",children:"Complemento (opcional)"}),e.jsx(g,{id:"complement",...A.register("complement"),placeholder:"Apto, bloco, etc.",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"neighborhood",children:"Bairro"}),e.jsx(g,{id:"neighborhood",...A.register("neighborhood"),placeholder:"Nome do bairro",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),A.formState.errors.neighborhood&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.neighborhood.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(b,{htmlFor:"city",children:"Cidade"}),e.jsx(g,{id:"city",...A.register("city"),placeholder:"Nome da cidade",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),A.formState.errors.city&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.city.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"state",children:"Estado"}),e.jsx(g,{id:"state",...A.register("state"),placeholder:"UF",maxLength:2,className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500 uppercase",onChange:e=>{e.target.value=e.target.value.toUpperCase(),A.setValue("state",e.target.value)}}),A.formState.errors.state&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.state.message})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(h,{type:"button",variant:"outline",onClick:()=>o(1),className:"flex-1 border-gray-300 dark:border-gray-700",children:[e.jsx(v,{className:"mr-2 h-5 w-5"}),"Voltar"]}),e.jsx(h,{type:"submit",disabled:A.formState.isSubmitting,className:"flex-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/30",children:A.formState.isSubmitting?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-5 w-5 animate-spin"}),"Criando conta..."]}):e.jsxs(e.Fragment,{children:["Criar Conta",e.jsx(y,{className:"ml-2 h-5 w-5"})]})})]})]},"step2")}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Já tem uma conta?"," ",e.jsx(s,{to:"/login",className:"font-semibold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent hover:underline",children:"Faça login"})]})})]})]})]})}export{E as default};
