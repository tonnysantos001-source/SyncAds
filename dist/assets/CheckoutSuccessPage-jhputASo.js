import{j as s}from"./vendor-ui-D3JNL6pE.js";import{k as a,f as e,r}from"./vendor-react-X41Bjl18.js";import{s as t,C as n,a as i,b as l,c,e as o,B as d}from"./index-B60lmUXY.js";import{C as m,aD as x,aE as j,H as h}from"./vendor-icons-BvRy6l6m.js";import"./vendor-supabase-HUq0BeMy.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-animation-DtB50Lbk.js";import"./vendor-query-DqG_mm-v.js";const p=()=>{const{transactionId:p}=a(),u=e(),[g,N]=r.useState(null),[v,f]=r.useState(!0);r.useEffect(()=>{p&&y()},[p]);const y=async()=>{try{const{data:s,error:a}=await t.from("Transaction").select("*, Order(*)").eq("id",p).single();if(a)throw a;N(s)}catch(s){}finally{f(!1)}};return v?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-2xl mx-auto px-4",children:s.jsxs(n,{className:"text-center",children:[s.jsxs(i,{children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(m,{className:"h-8 w-8 text-green-600"})}),s.jsx(l,{className:"text-2xl text-green-600",children:"Pagamento Aprovado!"}),s.jsx("p",{className:"text-gray-600",children:"Seu pagamento foi processado com sucesso"})]}),s.jsxs(c,{className:"space-y-6",children:[g&&s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"ID da Transação:"}),s.jsx("p",{className:"font-medium",children:g.transactionId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Valor:"}),s.jsxs("p",{className:"font-medium",children:["R$ ",g.amount?.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx(o,{variant:"outline",className:"bg-green-100 text-green-800",children:g.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Método:"}),s.jsx("p",{className:"font-medium",children:g.paymentMethod})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(d,{onClick:()=>window.print(),variant:"outline",className:"w-full",children:[s.jsx(x,{className:"h-4 w-4 mr-2"}),"Baixar Comprovante"]}),s.jsxs(d,{onClick:()=>navigator.share?.({title:"Comprovante de Pagamento",text:`Pagamento aprovado - ID: ${p}`}),variant:"outline",className:"w-full",children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),s.jsxs(d,{onClick:()=>u("/"),className:"w-full",children:[s.jsx(h,{className:"h-4 w-4 mr-2"}),"Voltar ao Início"]})]})]})]})})})};export{p as default};
