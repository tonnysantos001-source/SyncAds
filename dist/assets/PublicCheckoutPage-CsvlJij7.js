import{c as ze,r as j,s as ae,j as t,m as R,_ as Ze,i as I,M as v,C as Ee,b as lt,d as K,h as J,I as q,k as et,a5 as Ot,a6 as br,K as Z,B as he,a7 as Cr,a8 as wr,a9 as jr,o as Nr,n as kr,a as Er,aa as Pr}from"./index-Bh2vOim8.js";import{S as ht}from"./separator-DBlu5inZ.js";import{A as Lt,a as Dt}from"./alert-vzSunZn8.js";import{a as xt,D as Sr,c as Tr}from"./defaultCheckoutTheme-TNW2IlsE.js";import{X as Br}from"./x-BeST3_5i.js";import{S as vt}from"./shopping-bag-Cbp97wjg.js";import{S as _r}from"./star-srNXB_R3.js";import{U as Ar}from"./users-Dj9-gVJt.js";import{M as tt}from"./map-pin-G2W_xBLq.js";import{C as ye}from"./credit-card-Dj43IPuW.js";import{L as F}from"./label-dRiljQIi.js";import{C as ee}from"./circle-alert-DNEQljb6.js";import{M as Ir}from"./mail-C9COgQmS.js";import{P as Rr}from"./phone-DY1XVx2b.js";import{p as Vt}from"./index-CM5x2H3b.js";import{Q as We}from"./qr-code-CTOJ9VXL.js";import{S as rt}from"./sparkles-CRXGn5DY.js";import{C as Mr}from"./clock-CXJzRqy6.js";import{C as at}from"./copy-BunsAGmN.js";import{Z as Or}from"./zap-DIhs5oHi.js";import{S as nt}from"./smartphone-CJy9J2Gx.js";import{S as Ft}from"./shield-C2VMLHRE.js";import{L as Re}from"./lock-BsoLFr6y.js";import{C as Lr}from"./circle-check-dLU2TiB6.js";import{C as Dr}from"./calendar-Fk8HkxhI.js";import{D as Vr}from"./download-BBy3IsJR.js";import{E as Fr}from"./external-link-CS61dXjt.js";import{F as yt}from"./file-text-CjhdJUOr.js";import{S as bt}from"./shield-check-CJxLlOqf.js";import{P as Ct}from"./package-B1hf6lu5.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ze("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ze("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),qr=({userId:e,paymentMethod:r,purchaseAmount:a})=>{const[s,n]=j.useState(!0),[o,i]=j.useState([]),[l,x]=j.useState(null),[c,u]=j.useState({hasDiscount:!1,discountAmount:0,discountPercentage:0,originalTotal:a,finalTotal:a,discountDescription:"",meetsMinimum:!1,cappedAtMaximum:!1});j.useEffect(()=>{e?h():n(!1)},[e]),j.useEffect(()=>{b()},[r,a,o]);const h=async()=>{if(e)try{n(!0);const{data:d,error:m}=await ae.from("PaymentMethodDiscount").select("*").eq("userId",e).eq("isActive",!0);if(m)throw m;i(d||[])}catch(d){console.error("Erro ao carregar descontos:",d),i([])}finally{n(!1)}},b=()=>{const d=o.find(E=>E.paymentMethod===r&&E.isActive);if(!d){x(null),u({hasDiscount:!1,discountAmount:0,discountPercentage:0,originalTotal:a,finalTotal:a,discountDescription:"",meetsMinimum:!1,cappedAtMaximum:!1});return}if(x(d),!(a>=d.minPurchaseAmount)){u({hasDiscount:!1,discountAmount:0,discountPercentage:0,originalTotal:a,finalTotal:a,discountDescription:d.description||"",meetsMinimum:!1,cappedAtMaximum:!1});return}let g=0,N=0;d.discountType==="PERCENTAGE"?(N=d.discountValue,g=a*d.discountValue/100):(g=d.discountValue,N=d.discountValue/a*100);let p=!1;d.maxDiscountAmount&&g>d.maxDiscountAmount&&(g=d.maxDiscountAmount,N=d.maxDiscountAmount/a*100,p=!0),g>a&&(g=a);const k=Math.max(0,a-g);u({hasDiscount:!0,discountAmount:g,discountPercentage:N,originalTotal:a,finalTotal:k,discountDescription:d.description||"",meetsMinimum:!0,cappedAtMaximum:p})};return{loading:s,discounts:o,activeDiscount:l,calculation:c,getDiscountLabel:()=>l?l.discountType==="PERCENTAGE"?`${l.discountValue.toFixed(0)}% de desconto`:`R$ ${l.discountValue.toFixed(2)} de desconto`:"",hasDiscountForMethod:d=>o.some(m=>m.paymentMethod===d&&m.isActive),getDiscountInfoForMethod:d=>{const m=o.find(N=>N.paymentMethod===d&&N.isActive);if(!m)return null;let g="";return m.discountType==="PERCENTAGE"?g=`${m.discountValue.toFixed(0)}% OFF`:g=`-R$ ${m.discountValue.toFixed(2)}`,{...m,label:g,formattedValue:m.discountType==="PERCENTAGE"?`${m.discountValue}%`:`R$ ${m.discountValue.toFixed(2)}`}},getEstimatedDiscountForMethod:(d,m=a)=>{const g=o.find(p=>p.paymentMethod===d&&p.isActive);if(!g)return 0;let N=0;return g.discountType==="PERCENTAGE"?N=m*g.discountValue/100:N=g.discountValue,g.maxDiscountAmount&&N>g.maxDiscountAmount&&(N=g.maxDiscountAmount),N>m&&(N=m),N},reload:h}};function Ur(e){const[r,a]=j.useState([]),[s,n]=j.useState(!0),[o,i]=j.useState(!1);j.useEffect(()=>{if(!e){n(!1);return}l()},[e]);const l=async()=>{try{const{data:p,error:k}=await ae.from("PixelConfig").select("*").eq("userId",e).eq("isActive",!0);if(k)throw k;a(p||[]),p&&p.length>0&&x(p)}catch(p){console.error("Erro ao carregar pixels:",p)}finally{n(!1)}},x=p=>{p.forEach(k=>{if(k.isActive)switch(k.platform){case"FACEBOOK":c(k.pixelId);break;case"TIKTOK":u(k.pixelId);break;case"GOOGLE_ADS":h(k.pixelId);break}}),i(!0)},c=p=>{if(typeof window>"u"||window.fbq)return;const k=`
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '${p}');
    `,E=document.createElement("script");E.innerHTML=k,document.head.appendChild(E),console.log("‚úÖ Meta Pixel inicializado:",p)},u=p=>{if(typeof window>"u"||window.ttq)return;const k=`
      !function (w, d, t) {
        w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
        ttq.load('${p}');
        ttq.page();
      }(window, document, 'ttq');
    `,E=document.createElement("script");E.innerHTML=k,document.head.appendChild(E),console.log("‚úÖ TikTok Pixel inicializado:",p)},h=p=>{if(typeof window>"u"||window.gtag)return;const k=document.createElement("script");k.async=!0,k.src=`https://www.googletagmanager.com/gtag/js?id=${p}`,document.head.appendChild(k);const E=document.createElement("script");E.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${p}');
    `,document.head.appendChild(E),console.log("‚úÖ Google Ads inicializado:",p)},b=j.useCallback((p,k={})=>{!o||r.length===0||r.forEach(E=>{if(E.events.includes(p))try{switch(E.platform){case"FACEBOOK":w(p,k);break;case"TIKTOK":C(p,k);break;case"GOOGLE_ADS":y(p,k);break}}catch(A){console.error(`Erro ao disparar evento ${p} no ${E.platform}:`,A)}})},[o,r]),w=(p,k)=>{if(typeof window>"u"||!window.fbq)return;const E=window.fbq,P={page_view:"PageView",add_to_cart:"AddToCart",initiate_checkout:"InitiateCheckout",add_payment_info:"AddPaymentInfo",purchase:"Purchase",view_content:"ViewContent"}[p]||p;E("track",P,k),console.log("üìä Meta Pixel:",P,k)},C=(p,k)=>{if(typeof window>"u"||!window.ttq)return;const E=window.ttq,P={page_view:"ViewContent",add_to_cart:"AddToCart",initiate_checkout:"InitiateCheckout",add_payment_info:"AddPaymentInfo",purchase:"CompletePayment",view_content:"ViewContent"}[p]||p;E.track(P,k),console.log("üìä TikTok Pixel:",P,k)},y=(p,k)=>{if(typeof window>"u"||!window.gtag)return;const E=window.gtag,P={page_view:"page_view",add_to_cart:"add_to_cart",initiate_checkout:"begin_checkout",add_payment_info:"add_payment_info",purchase:"purchase",view_content:"view_item"}[p]||p;E("event",P,k),console.log("üìä Google Ads:",P,k)},f=j.useCallback(()=>{b("page_view",{})},[b]),d=j.useCallback((p,k)=>{b("add_to_cart",{content_ids:[p.id],content_type:"product",content_name:p.name,value:k,currency:"BRL",num_items:1})},[b]),m=j.useCallback((p,k)=>{b("initiate_checkout",{content_ids:k.map(E=>E.id),content_type:"product",value:p,currency:"BRL",num_items:k.length})},[b]),g=j.useCallback((p,k)=>{b("add_payment_info",{value:p,currency:"BRL",payment_type:k})},[b]),N=j.useCallback((p,k,E,A)=>{const P={transaction_id:p,value:k,currency:"BRL",content_ids:E.map(S=>S.id||S.productId),content_type:"product",num_items:E.length};A&&(P.email=A.email,P.phone=A.phone,P.first_name=A.firstName,P.last_name=A.lastName,P.city=A.city,P.state=A.state,P.zip=A.zipCode,P.country=A.country||"BR"),b("purchase",P)},[b]);return{loading:s,initialized:o,pixels:r,trackPageView:f,trackAddToCart:d,trackInitiateCheckout:m,trackAddPaymentInfo:g,trackPurchase:N,firePixelEvent:b}}function Hr({orderId:e,currentStep:r,customerData:a,addressData:s,checkoutData:n,userId:o}){const i=j.useRef(null),l=j.useRef(!1),x=j.useRef(Date.now()),c=j.useCallback(()=>!(r!==3||!e||!(a!=null&&a.email)||!a.email.includes("@")||!n||!n.items||n.items.length===0||l.current),[r,e,a,n]),u=j.useCallback(async()=>{if(c()&&!l.current)try{console.log("üõí Detectado abandono de carrinho:",e),l.current=!0;const{data:y}=await ae.from("AbandonedCart").select("id").eq("userId",o||"anonymous").eq("cartId",e).single();if(y){console.log("‚ö†Ô∏è Carrinho abandonado j√° registrado");return}const f=Math.floor((Date.now()-x.current)/1e3),d={userId:o||"anonymous",cartId:e,customerId:null,email:a.email,abandonedAt:new Date().toISOString(),recoveryAttempts:0,lastRecoveryAt:null,recoveredAt:null,orderId:e,metadata:{customerData:{name:a.name,phone:a.phone,document:a.document},addressData:s,checkoutData:{items:n.items,subtotal:n.subtotal,total:n.total},abandonmentContext:{currentStep:r,timeOnCheckout:f,abandonedAt:new Date().toISOString(),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`}}},{error:m}=await ae.from("AbandonedCart").insert(d);if(m)console.error("‚ùå Erro ao salvar carrinho abandonado:",m),l.current=!1;else{console.log("‚úÖ Carrinho abandonado salvo com sucesso!");try{localStorage.setItem(`abandoned-cart-${e}`,JSON.stringify({...d,savedAt:new Date().toISOString()}))}catch(g){console.warn("N√£o foi poss√≠vel salvar no localStorage:",g)}}}catch(y){console.error("‚ùå Erro ao processar abandono:",y),l.current=!1}},[c,e,o,a,s,n,r]),h=j.useCallback(()=>{i.current&&clearTimeout(i.current),c()&&(i.current=setTimeout(()=>{console.log("‚è∞ Timeout de inatividade atingido"),u()},5*60*1e3))},[c,u]),b=j.useCallback(()=>{if(c()){const y=JSON.stringify({userId:o||"anonymous",orderId:e,email:a.email,abandonedAt:new Date().toISOString()});navigator.sendBeacon&&new Blob([y],{type:"application/json"}),u()}},[c,o,e,a,u]),w=j.useCallback(()=>{document.hidden&&setTimeout(()=>{document.hidden&&c()&&(console.log("üëÅÔ∏è Usu√°rio saiu da aba por tempo prolongado"),u())},2*60*1e3)},[c,u]);return j.useEffect(()=>{if(!c())return;const y=["mousedown","mousemove","keypress","scroll","touchstart","click"],f=()=>{h()};return y.forEach(d=>{window.addEventListener(d,f,{passive:!0})}),window.addEventListener("beforeunload",b),document.addEventListener("visibilitychange",w),h(),()=>{i.current&&clearTimeout(i.current),y.forEach(d=>{window.removeEventListener(d,f)}),window.removeEventListener("beforeunload",b),document.removeEventListener("visibilitychange",w)}},[c,h,b,w]),j.useEffect(()=>{r!==3&&(l.current=!1,i.current&&clearTimeout(i.current))},[r]),{markAsRecovered:j.useCallback(async()=>{if(e)try{const{error:y}=await ae.from("AbandonedCart").update({recovered:!0,recoveredAt:new Date().toISOString(),orderId:e}).eq("cartId",e);if(y)console.error("Erro ao marcar como recuperado:",y);else{console.log("‚úÖ Carrinho marcado como recuperado"),l.current=!1;try{localStorage.removeItem(`abandoned-cart-${e}`)}catch(f){console.warn("Erro ao limpar localStorage:",f)}}}catch(y){console.error("Erro ao marcar carrinho como recuperado:",y)}},[e]),isMonitoring:c()}}function Wr({userId:e,position:r="bottom-left",className:a}){const[s,n]=j.useState([]),[o,i]=j.useState(null),[l,x]=j.useState(!1),[c,u]=j.useState(!0);j.useEffect(()=>{if(!e){u(!1);return}h()},[e]);const h=async()=>{try{const{data:m,error:g}=await ae.from("SocialProof").select("*").eq("userId",e).eq("isActive",!0).order("createdAt",{ascending:!1});if(g)throw g;m&&m.length>0&&(n(m),console.log("‚úÖ Provas sociais carregadas:",m.length))}catch(m){console.error("Erro ao carregar provas sociais:",m)}finally{u(!1)}};j.useEffect(()=>{if(s.length===0||c)return;const m=setTimeout(()=>{b()},5e3),g=setInterval(()=>{b()},15e3);return()=>{clearTimeout(m),clearInterval(g)}},[s,c]);const b=()=>{if(s.length===0)return;const m=Math.floor(Math.random()*s.length),g=s[m];i(g),x(!0),setTimeout(()=>{w()},g.displayDuration*1e3)},w=()=>{x(!1),setTimeout(()=>{i(null)},300)},C=()=>{w()};if(!o||s.length===0)return null;const y=()=>{switch(o.type){case"RECENT_PURCHASE":return t.jsx(vt,{className:"h-5 w-5 text-green-600"});case"VISITOR_COUNT":return t.jsx(Ar,{className:"h-5 w-5 text-blue-600"});case"REVIEW":return t.jsx(_r,{className:"h-5 w-5 text-yellow-600 fill-yellow-600"});default:return t.jsx(vt,{className:"h-5 w-5 text-gray-600"})}},f=()=>{switch(o.type){case"RECENT_PURCHASE":return"bg-green-50 border-green-200";case"VISITOR_COUNT":return"bg-blue-50 border-blue-200";case"REVIEW":return"bg-yellow-50 border-yellow-200";default:return"bg-white border-gray-200"}},d=()=>{switch(r){case"bottom-left":return"bottom-4 left-4";case"bottom-right":return"bottom-4 right-4";case"top-left":return"top-4 left-4";case"top-right":return"top-4 right-4";default:return"bottom-4 left-4"}};return t.jsxs("div",{className:R("fixed z-50 max-w-sm transition-all duration-300 ease-in-out",d(),l?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-2 scale-95 pointer-events-none",a),children:[t.jsxs(Lt,{className:R("shadow-lg border-2 relative pr-10",f()),children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:y()}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx(Dt,{className:"text-sm text-gray-800 font-medium",children:o.message})})]}),t.jsx("button",{onClick:C,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/5 transition-colors","aria-label":"Fechar notifica√ß√£o",children:t.jsx(Br,{className:"h-4 w-4 text-gray-500"})}),t.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-800/20 rounded-b-lg animate-progress",style:{animation:`progress ${o.displayDuration}s linear`}})]}),t.jsx("style",{jsx:!0,children:`
        @keyframes progress {
          from {
            width: 100%;
          }
          to {
            width: 0%;
          }
        }
      `})]})}const Gr=e=>e.replace(/\D/g,""),jt=e=>Gr(e),Nt=[{number:1,label:"Dados",icon:Ze},{number:2,label:"Endere√ßo",icon:tt},{number:3,label:"Pagamento",icon:ye}],Qr=({currentStep:e,theme:r})=>t.jsx("div",{className:"w-full px-4 py-6 md:py-8",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsx("div",{className:"flex items-center justify-between",children:Nt.map((a,s)=>t.jsxs(I.Fragment,{children:[t.jsx(Xr,{step:a,currentStep:e,theme:r}),s<Nt.length-1&&t.jsx(Yr,{isCompleted:e>a.number,theme:r})]},a.number))})})}),Xr=({step:e,currentStep:r,theme:a})=>{const s=r===e.number,n=r>e.number,o=e.icon;return t.jsxs(v.div,{className:"flex flex-col items-center",whileHover:{scale:1.05},transition:{duration:.2},children:[t.jsx(v.div,{className:R("w-12 h-12 rounded-full flex items-center justify-center font-bold transition-all duration-300 shadow-lg",s&&"ring-4 ring-opacity-30"),style:{backgroundColor:n?a.stepCompletedColor||"#10b981":s?a.stepActiveColor||"#3b82f6":a.stepInactiveColor||"#d1d5db",color:s||n?"#ffffff":"#6b7280"},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:n?t.jsx(Ee,{className:"w-6 h-6"}):t.jsx(o,{className:"w-6 h-6"})}),t.jsx(v.span,{className:R("text-sm font-medium mt-2",(s||n)&&"font-semibold"),style:{color:s||n?a.headingColor:a.textColor,opacity:r<e.number?.5:1},children:e.label})]})},Yr=({isCompleted:e,theme:r})=>t.jsx("div",{className:"h-1 flex-1 mx-3 rounded-full",style:{backgroundColor:e?r.stepCompletedColor||"#10b981":r.stepInactiveColor||"#e5e7eb"}}),Kr=[11,12,13,14,15,16,17,18,19,21,22,24,27,28,31,32,33,34,35,37,38,41,42,43,44,45,46,47,48,49,51,53,54,55,61,62,64,63,65,66,67,68,69,71,73,74,75,77,79,81,87,82,83,84,85,88,86,89,91,93,94,92,97,95,96,98,99],zt=e=>{const r=e.replace(/\D/g,"");return r.length===0?"":r.length<=2?`(${r}`:r.length<=6?`(${r.slice(0,2)}) ${r.slice(2)}`:r.length<=10?`(${r.slice(0,2)}) ${r.slice(2,6)}-${r.slice(6,10)}`:`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`},qt=e=>e.replace(/\D/g,""),Jr=e=>Kr.includes(e),Zr=e=>{const r=qt(e);if(r.length===11)return parseInt(r.charAt(2))===9?"mobile":null;if(r.length===10){const a=parseInt(r.charAt(2));return a>=2&&a<=5?"landline":null}return null},ea=e=>{const r=qt(e);if(!r)return{valid:!1,message:"Telefone n√£o pode estar vazio"};if(r.length<10)return{valid:!1,message:`Digite mais ${10-r.length} d√≠gitos`};if(r.length>11)return{valid:!1,message:"Telefone deve ter no m√°ximo 11 d√≠gitos"};const a=parseInt(r.slice(0,2));if(!Jr(a))return{valid:!1,message:"DDD inv√°lido"};const s=Zr(e);return s?/^(\d)\1+$/.test(r)?{valid:!1,message:"Telefone inv√°lido"}:{valid:!0,formatted:zt(r),type:s,message:s==="mobile"?"Celular v√°lido":"Telefone fixo v√°lido"}:r.length===11?{valid:!1,message:"Celular deve come√ßar com 9 ap√≥s o DDD"}:{valid:!1,message:"Formato de telefone inv√°lido"}},Ut=e=>{const r=e.replace(/\D/g,"");return r.length===0?"":r.length<=3?r:r.length<=6?`${r.slice(0,3)}.${r.slice(3)}`:r.length<=9?`${r.slice(0,3)}.${r.slice(3,6)}.${r.slice(6)}`:`${r.slice(0,3)}.${r.slice(3,6)}.${r.slice(6,9)}-${r.slice(9,11)}`},Ht=e=>e.replace(/\D/g,""),ta=e=>{const r=Ht(e);if(r.length!==11||/^(\d)\1{10}$/.test(r))return!1;let a=0;for(let i=0;i<9;i++)a+=parseInt(r.charAt(i))*(10-i);let s=11-a%11;if((s>=10?0:s)!==parseInt(r.charAt(9)))return!1;a=0;for(let i=0;i<10;i++)a+=parseInt(r.charAt(i))*(11-i);return s=11-a%11,(s>=10?0:s)===parseInt(r.charAt(10))},ra=e=>{const r=Ht(e);return r?r.length!==11?{valid:!1,message:"CPF deve conter 11 d√≠gitos"}:/^(\d)\1{10}$/.test(r)?{valid:!1,message:"CPF inv√°lido"}:ta(r)?{valid:!0,formatted:Ut(r),message:"CPF v√°lido"}:{valid:!1,message:"CPF inv√°lido. Verifique os n√∫meros digitados."}:{valid:!1,message:"CPF n√£o pode estar vazio"}},ct=500,aa=["tempmail.com","guerrillamail.com","mailinator.com","10minutemail.com","throwaway.email","temp-mail.org"],Ge={"gmial.com":"gmail.com","gmai.com":"gmail.com","gmil.com":"gmail.com","gmal.com":"gmail.com","gnail.com":"gmail.com","hotmial.com":"hotmail.com","hotmal.com":"hotmail.com","hotmil.com":"hotmail.com","outloo.com":"outlook.com","outlok.com":"outlook.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com"};async function na(e){const r=e.trim().replace(/\s+/g," ");if(!r)return{isValid:!1,error:"Nome √© obrigat√≥rio",score:0};if(r.length<3)return{isValid:!1,error:"Nome muito curto",score:20};if(!/^[a-zA-Z√Ä-√ø\s'\-]+$/.test(r))return{isValid:!1,error:"Nome cont√©m caracteres inv√°lidos",score:30};const s=r.split(" ").filter(u=>u.length>0);if(s.length<2)return{isValid:!1,error:"Digite nome e sobrenome",suggestion:"Ex: Jo√£o Silva",score:50};const n=["de","da","do","das","dos","e"];if(s.filter(u=>n.includes(u.toLowerCase())?!0:u.length>=2).length<2)return{isValid:!1,error:"Nome ou sobrenome muito curto",score:60};const i=["teste","test","asdf","qwerty","nome","sobrenome"],l=r.toLowerCase();if(i.some(u=>l.includes(u)))return{isValid:!1,error:"Por favor, insira seu nome real",score:40};const x=s[0],c=s.slice(1).join(" ");return{isValid:!0,firstName:Me(x),lastName:Me(c),fullName:Me(r),score:100}}let kt;function sa(e,r){clearTimeout(kt),kt=setTimeout(async()=>{const a=await na(e);r(a)},ct)}async function oa(e){const r=e.trim().toLowerCase();if(!r)return{isValid:!1,error:"Email √© obrigat√≥rio",score:0};if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r))return{isValid:!1,error:"Email inv√°lido",suggestion:"Ex: seu@email.com",score:20};const[s,n]=r.split("@");return s.length<2?{isValid:!1,error:"Email muito curto",score:30}:n.length<4?{isValid:!1,error:"Dom√≠nio inv√°lido",score:40}:aa.includes(n)?{isValid:!1,error:"Emails tempor√°rios n√£o s√£o permitidos",suggestion:"Use um email permanente",score:30,isDisposable:!0}:Ge[n]?{isValid:!1,error:"Poss√≠vel erro no email",suggestion:`Voc√™ quis dizer ${s}@${Ge[n]}?`,domain:Ge[n],score:70}:s.includes("..")||s.startsWith(".")||s.endsWith(".")?{isValid:!1,error:"Email com formato inv√°lido",score:40}:{isValid:!0,domain:n,isDisposable:!1,score:100}}let Et;function ia(e,r){clearTimeout(Et),Et=setTimeout(async()=>{const a=await oa(e);r(a)},ct)}async function la(e){const r=e.replace(/\D/g,"");if(!r)return{isValid:!1,error:"Telefone √© obrigat√≥rio",score:0};if(r.length<10)return{isValid:!1,error:"Telefone incompleto",suggestion:"Digite o DDD + n√∫mero",score:50};if(r.length>11)return{isValid:!1,error:"Telefone com muitos d√≠gitos",score:30};const a=parseInt(r.substring(0,2));return a<11||a>99?{isValid:!1,error:"DDD inv√°lido",score:40}:/^(\d)\1+$/.test(r)?{isValid:!1,error:"Telefone inv√°lido",score:20}:r.length===11&&r[2]!=="9"?{isValid:!1,error:"Celular deve come√ßar com 9",score:60}:{isValid:!0,score:100}}let Pt;function ca(e,r){clearTimeout(Pt),Pt=setTimeout(async()=>{const a=await la(e);r(a)},ct)}function Me(e){const r=["de","da","do","das","dos","e"];return e.toLowerCase().split(" ").map((a,s)=>s===0?a.charAt(0).toUpperCase()+a.slice(1):r.includes(a)?a:a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}const da={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3}},ua=({customerData:e,setCustomerData:r,theme:a})=>{const{toast:s}=lt(),[n,o]=j.useState(null),[i,l]=j.useState(null),[x,c]=j.useState(null),u=f=>{const d=Me(f);r({...e,name:d}),sa(f,o)},h=f=>{r({...e,email:f.toLowerCase().trim()}),ia(f,l)},b=f=>{const d=zt(f);r({...e,phone:d}),ca(d,c)},w=()=>{if(e.phone){const f=ea(e.phone);f.valid||s({title:"Telefone inv√°lido",description:f.message,variant:"destructive"})}},C=f=>{const d=Ut(f);r({...e,document:d})},y=()=>{if(e.document){const f=ra(e.document);f.valid||s({title:"CPF inv√°lido",description:f.message,variant:"destructive"})}};return t.jsx(v.div,{...da,children:t.jsx(K,{style:{backgroundColor:a.cardBackgroundColor,borderColor:a.cardBorderColor,borderRadius:a.cardBorderRadius,boxShadow:a.cardShadow},children:t.jsxs(J,{className:"p-5 md:p-6 space-y-5",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-1 flex items-center gap-2",style:{color:a.headingColor},children:[t.jsx(Ze,{className:"w-6 h-6"}),"Dados Pessoais"]}),t.jsx("p",{className:"text-sm opacity-75",style:{color:a.textColor},children:"Preencha suas informa√ß√µes"})]}),t.jsxs("div",{className:"space-y-4 md:space-y-4",children:[t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsxs(F,{htmlFor:"name",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx(Ze,{className:"w-4 h-4"}),"Nome Completo *"]}),t.jsxs("div",{className:"relative mt-1.5",children:[t.jsx(q,{id:"name",placeholder:"Seu nome completo",value:e.name,onChange:f=>u(f.target.value),className:R("text-base pr-10 transition-all",(n==null?void 0:n.isValid)===!0&&"border-green-500 bg-green-50/50",(n==null?void 0:n.isValid)===!1&&"border-red-500 bg-red-50/50"),style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}}),(n==null?void 0:n.isValid)===!0&&t.jsx(v.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(Ee,{className:"w-5 h-5 text-green-600"})}),(n==null?void 0:n.isValid)===!1&&t.jsx(v.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(ee,{className:"w-5 h-5 text-red-600"})})]}),(n==null?void 0:n.error)&&t.jsxs(v.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-red-600 mt-1 flex items-center gap-1",children:[t.jsx(ee,{className:"w-3 h-3"}),n.error]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[t.jsxs(F,{htmlFor:"email",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx(Ir,{className:"w-4 h-4 inline mr-1"}),"E-mail *"]}),t.jsxs("div",{className:"relative mt-1.5",children:[t.jsx(q,{id:"email",type:"email",placeholder:"seu@email.com",value:e.email,onChange:f=>h(f.target.value),className:R("text-base pr-10 transition-all",(i==null?void 0:i.isValid)===!0&&"border-green-500 bg-green-50/50",(i==null?void 0:i.isValid)===!1&&"border-red-500 bg-red-50/50"),style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}}),(i==null?void 0:i.isValid)===!0&&t.jsx(v.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(Ee,{className:"w-5 h-5 text-green-600"})})]}),(i==null?void 0:i.suggestion)&&t.jsxs(v.button,{type:"button",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},onClick:()=>h(i.suggestion||""),className:"text-sm text-blue-600 hover:text-blue-700 mt-1 flex items-center gap-1 font-medium hover:underline",children:["Voc√™ quis dizer:"," ",t.jsx("span",{className:"underline",children:i.suggestion}),"?"]})]}),t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[t.jsxs(F,{htmlFor:"phone",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx(Rr,{className:"w-4 h-4 inline mr-1"}),"Telefone *"]}),t.jsx(q,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:e.phone,onChange:f=>b(f.target.value),onBlur:w,maxLength:15,className:"mt-1.5 text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]}),a.requestCpfOnlyAtPayment===!1&&t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[t.jsxs(F,{htmlFor:"document",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx($t,{className:"w-4 h-4 inline mr-1"}),"CPF *"]}),t.jsx(q,{id:"document",placeholder:"000.000.000-00",maxLength:14,value:e.document,onChange:f=>C(f.target.value),onBlur:y,className:"mt-1.5 text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),a.requestBirthDate&&t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[t.jsx(F,{htmlFor:"birthDate",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Data de Nascimento"}),t.jsx(q,{id:"birthDate",type:"date",value:e.birthDate,onChange:f=>r({...e,birthDate:f.target.value}),className:"mt-1.5 text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),a.requestGender&&t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:[t.jsx(F,{htmlFor:"gender",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"G√™nero"}),t.jsxs("select",{id:"gender",value:e.gender,onChange:f=>r({...e,gender:f.target.value}),className:"w-full mt-1.5 px-4 rounded-lg text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,borderWidth:1,borderStyle:"solid",color:a.textColor},children:[t.jsx("option",{value:"",children:"Selecione..."}),t.jsx("option",{value:"masculino",children:"Masculino"}),t.jsx("option",{value:"feminino",children:"Feminino"}),t.jsx("option",{value:"outro",children:"Outro"}),t.jsx("option",{value:"prefiro_nao_dizer",children:"Prefiro n√£o dizer"})]})]})]})]})})})},Wt=e=>{const r=e.replace(/\D/g,"");return r.length<=5?r:`${r.slice(0,5)}-${r.slice(5,8)}`},Gt=e=>e.replace(/\D/g,""),ma=e=>Gt(e).length===8,pa=async e=>{const r=Gt(e);if(!ma(r))throw new Error("CEP inv√°lido. Deve conter 8 d√≠gitos.");try{const a=await fetch(`https://viacep.com.br/ws/${r}/json/`);if(!a.ok)throw new Error("Erro ao buscar CEP");const s=await a.json();return s.erro?null:{street:s.logradouro||"",neighborhood:s.bairro||"",city:s.localidade||"",state:s.uf||"",zipCode:Wt(r)}}catch(a){throw console.error("Erro ao buscar CEP:",a),a}},fa={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3}},ga=({addressData:e,setAddressData:r,theme:a})=>{const{toast:s}=lt(),[n,o]=j.useState(!1),[i,l]=j.useState(!1),x=async u=>{const h=Wt(u);r({...e,zipCode:h}),l(!1),h.replace(/\D/g,"").length===8&&await c(h)},c=async u=>{const h=u.replace(/\D/g,"");if(h.length===8){o(!0);try{const b=await pa(h);b?(r(w=>({...w,street:b.street||b.logradouro||"",neighborhood:b.neighborhood||b.bairro||"",city:b.city||b.localidade||"",state:b.state||b.uf||""})),l(!0),s({title:"CEP encontrado!",description:`${b.city||b.localidade} - ${b.state||b.uf}`})):(l(!1),s({title:"CEP n√£o encontrado",description:"Verifique o CEP digitado e tente novamente",variant:"destructive"}))}catch(b){console.error("Erro ao buscar CEP:",b),l(!1),s({title:"Erro ao buscar CEP",description:"Tente novamente mais tarde",variant:"destructive"})}finally{o(!1)}}};return t.jsx(v.div,{...fa,children:t.jsx(K,{style:{backgroundColor:a.cardBackgroundColor,borderColor:a.cardBorderColor,borderRadius:a.cardBorderRadius,boxShadow:a.cardShadow},children:t.jsxs(J,{className:"p-5 md:p-6 space-y-5",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-1 flex items-center gap-2",style:{color:a.headingColor},children:[t.jsx(tt,{className:"w-6 h-6"}),"Endere√ßo de Entrega"]}),t.jsx("p",{className:"text-sm opacity-75",style:{color:a.textColor},children:"Informe onde deseja receber"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsxs(F,{htmlFor:"zipCode",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx(tt,{className:"w-4 h-4"}),"CEP *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(q,{id:"zipCode",placeholder:"00000-000",value:e.zipCode,onChange:u=>x(u.target.value),maxLength:9,className:R("mt-1.5 text-base pr-10 transition-all duration-300",i&&"border-green-500 bg-green-50/50"),style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}}),n&&t.jsx(v.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(et,{className:"h-5 w-5 animate-spin text-blue-600"})}),i&&!n&&t.jsx(v.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(Ot,{className:"h-5 w-5 text-green-600"})})]})]}),t.jsxs("div",{className:"grid grid-cols-[1fr_120px] gap-4",children:[t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[t.jsxs(F,{htmlFor:"street",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx(br,{className:"w-4 h-4"}),"Rua *"]}),t.jsx(q,{id:"street",placeholder:"Nome da rua",value:e.street,onChange:u=>r({...e,street:u.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25},children:[t.jsxs(F,{htmlFor:"number",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[t.jsx($t,{className:"w-4 h-4"}),"N√∫mero *"]}),t.jsx(q,{id:"number",placeholder:"123",value:e.number,onChange:u=>r({...e,number:u.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[t.jsx(F,{htmlFor:"complement",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Complemento"}),t.jsx(q,{id:"complement",placeholder:"Apto 101",value:e.complement,onChange:u=>r({...e,complement:u.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.35},children:[t.jsx(F,{htmlFor:"neighborhood",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Bairro *"}),t.jsx(q,{id:"neighborhood",placeholder:"Nome do bairro",value:e.neighborhood,onChange:u=>r({...e,neighborhood:u.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]}),t.jsxs("div",{className:"grid grid-cols-[1fr_100px] gap-4",children:[t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[t.jsx(F,{htmlFor:"city",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Cidade *"}),t.jsx(q,{id:"city",placeholder:"Cidade",value:e.city,onChange:u=>r({...e,city:u.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),t.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.45},children:[t.jsx(F,{htmlFor:"state",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"UF *"}),t.jsx(q,{id:"state",placeholder:"SP",maxLength:2,value:e.state,onChange:u=>r({...e,state:u.target.value.toUpperCase()}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]})]})]})})})};var Pe={},Qt={L:1,M:0,Q:3,H:2},Xt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ha=Xt;function Yt(e){this.mode=ha.MODE_8BIT_BYTE,this.data=e}Yt.prototype={getLength:function(e){return this.data.length},write:function(e){for(var r=0;r<this.data.length;r++)e.put(this.data.charCodeAt(r),8)}};var xa=Yt,Ae=Qt;function re(e,r){this.totalCount=e,this.dataCount=r}re.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];re.getRSBlocks=function(e,r){var a=re.getRsBlockTable(e,r);if(a==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var s=a.length/3,n=new Array,o=0;o<s;o++)for(var i=a[o*3+0],l=a[o*3+1],x=a[o*3+2],c=0;c<i;c++)n.push(new re(l,x));return n};re.getRsBlockTable=function(e,r){switch(r){case Ae.L:return re.RS_BLOCK_TABLE[(e-1)*4+0];case Ae.M:return re.RS_BLOCK_TABLE[(e-1)*4+1];case Ae.Q:return re.RS_BLOCK_TABLE[(e-1)*4+2];case Ae.H:return re.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var va=re;function Kt(){this.buffer=new Array,this.length=0}Kt.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var a=0;a<r;a++)this.putBit((e>>>r-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}};var ya=Kt,te={glog:function(e){if(e<1)throw new Error("glog("+e+")");return te.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return te.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var z=0;z<8;z++)te.EXP_TABLE[z]=1<<z;for(var z=8;z<256;z++)te.EXP_TABLE[z]=te.EXP_TABLE[z-4]^te.EXP_TABLE[z-5]^te.EXP_TABLE[z-6]^te.EXP_TABLE[z-8];for(var z=0;z<255;z++)te.LOG_TABLE[te.EXP_TABLE[z]]=z;var Jt=te,ge=Jt;function Oe(e,r){if(e.length==null)throw new Error(e.length+"/"+r);for(var a=0;a<e.length&&e[a]==0;)a++;this.num=new Array(e.length-a+r);for(var s=0;s<e.length-a;s++)this.num[s]=e[s+a]}Oe.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var r=new Array(this.getLength()+e.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<e.getLength();s++)r[a+s]^=ge.gexp(ge.glog(this.get(a))+ge.glog(e.get(s)));return new Oe(r,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var r=ge.glog(this.get(0))-ge.glog(e.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<e.getLength();s++)a[s]^=ge.gexp(ge.glog(e.get(s))+r);return new Oe(a,0).mod(e)}};var Zt=Oe,X=Xt,St=Zt,ba=Jt,ce={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},$={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var r=e<<10;$.getBCHDigit(r)-$.getBCHDigit($.G15)>=0;)r^=$.G15<<$.getBCHDigit(r)-$.getBCHDigit($.G15);return(e<<10|r)^$.G15_MASK},getBCHTypeNumber:function(e){for(var r=e<<12;$.getBCHDigit(r)-$.getBCHDigit($.G18)>=0;)r^=$.G18<<$.getBCHDigit(r)-$.getBCHDigit($.G18);return e<<12|r},getBCHDigit:function(e){for(var r=0;e!=0;)r++,e>>>=1;return r},getPatternPosition:function(e){return $.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,r,a){switch(e){case ce.PATTERN000:return(r+a)%2==0;case ce.PATTERN001:return r%2==0;case ce.PATTERN010:return a%3==0;case ce.PATTERN011:return(r+a)%3==0;case ce.PATTERN100:return(Math.floor(r/2)+Math.floor(a/3))%2==0;case ce.PATTERN101:return r*a%2+r*a%3==0;case ce.PATTERN110:return(r*a%2+r*a%3)%2==0;case ce.PATTERN111:return(r*a%3+(r+a)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var r=new St([1],0),a=0;a<e;a++)r=r.multiply(new St([1,ba.gexp(a)],0));return r},getLengthInBits:function(e,r){if(1<=r&&r<10)switch(e){case X.MODE_NUMBER:return 10;case X.MODE_ALPHA_NUM:return 9;case X.MODE_8BIT_BYTE:return 8;case X.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(r<27)switch(e){case X.MODE_NUMBER:return 12;case X.MODE_ALPHA_NUM:return 11;case X.MODE_8BIT_BYTE:return 16;case X.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(r<41)switch(e){case X.MODE_NUMBER:return 14;case X.MODE_ALPHA_NUM:return 13;case X.MODE_8BIT_BYTE:return 16;case X.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+r)},getLostPoint:function(e){for(var r=e.getModuleCount(),a=0,s=0;s<r;s++)for(var n=0;n<r;n++){for(var o=0,i=e.isDark(s,n),l=-1;l<=1;l++)if(!(s+l<0||r<=s+l))for(var x=-1;x<=1;x++)n+x<0||r<=n+x||l==0&&x==0||i==e.isDark(s+l,n+x)&&o++;o>5&&(a+=3+o-5)}for(var s=0;s<r-1;s++)for(var n=0;n<r-1;n++){var c=0;e.isDark(s,n)&&c++,e.isDark(s+1,n)&&c++,e.isDark(s,n+1)&&c++,e.isDark(s+1,n+1)&&c++,(c==0||c==4)&&(a+=3)}for(var s=0;s<r;s++)for(var n=0;n<r-6;n++)e.isDark(s,n)&&!e.isDark(s,n+1)&&e.isDark(s,n+2)&&e.isDark(s,n+3)&&e.isDark(s,n+4)&&!e.isDark(s,n+5)&&e.isDark(s,n+6)&&(a+=40);for(var n=0;n<r;n++)for(var s=0;s<r-6;s++)e.isDark(s,n)&&!e.isDark(s+1,n)&&e.isDark(s+2,n)&&e.isDark(s+3,n)&&e.isDark(s+4,n)&&!e.isDark(s+5,n)&&e.isDark(s+6,n)&&(a+=40);for(var u=0,n=0;n<r;n++)for(var s=0;s<r;s++)e.isDark(s,n)&&u++;var h=Math.abs(100*u/r/r-50)/5;return a+=h*10,a}},Ca=$,wa=xa,er=va,tr=ya,me=Ca,ja=Zt;function ne(e,r){this.typeNumber=e,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Q=ne.prototype;Q.addData=function(e){var r=new wa(e);this.dataList.push(r),this.dataCache=null};Q.isDark=function(e,r){if(e<0||this.moduleCount<=e||r<0||this.moduleCount<=r)throw new Error(e+","+r);return this.modules[e][r]};Q.getModuleCount=function(){return this.moduleCount};Q.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var r=er.getRSBlocks(e,this.errorCorrectLevel),a=new tr,s=0,n=0;n<r.length;n++)s+=r[n].dataCount;for(var n=0;n<this.dataList.length;n++){var o=this.dataList[n];a.put(o.mode,4),a.put(o.getLength(),me.getLengthInBits(o.mode,e)),o.write(a)}if(a.getLengthInBits()<=s*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Q.makeImpl=function(e,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[a][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=ne.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)};Q.setupPositionProbePattern=function(e,r){for(var a=-1;a<=7;a++)if(!(e+a<=-1||this.moduleCount<=e+a))for(var s=-1;s<=7;s++)r+s<=-1||this.moduleCount<=r+s||(0<=a&&a<=6&&(s==0||s==6)||0<=s&&s<=6&&(a==0||a==6)||2<=a&&a<=4&&2<=s&&s<=4?this.modules[e+a][r+s]=!0:this.modules[e+a][r+s]=!1)};Q.getBestMaskPattern=function(){for(var e=0,r=0,a=0;a<8;a++){this.makeImpl(!0,a);var s=me.getLostPoint(this);(a==0||e>s)&&(e=s,r=a)}return r};Q.createMovieClip=function(e,r,a){var s=e.createEmptyMovieClip(r,a),n=1;this.make();for(var o=0;o<this.modules.length;o++)for(var i=o*n,l=0;l<this.modules[o].length;l++){var x=l*n,c=this.modules[o][l];c&&(s.beginFill(0,100),s.moveTo(x,i),s.lineTo(x+n,i),s.lineTo(x+n,i+n),s.lineTo(x,i+n),s.endFill())}return s};Q.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var r=8;r<this.moduleCount-8;r++)this.modules[6][r]==null&&(this.modules[6][r]=r%2==0)};Q.setupPositionAdjustPattern=function(){for(var e=me.getPatternPosition(this.typeNumber),r=0;r<e.length;r++)for(var a=0;a<e.length;a++){var s=e[r],n=e[a];if(this.modules[s][n]==null)for(var o=-2;o<=2;o++)for(var i=-2;i<=2;i++)o==-2||o==2||i==-2||i==2||o==0&&i==0?this.modules[s+o][n+i]=!0:this.modules[s+o][n+i]=!1}};Q.setupTypeNumber=function(e){for(var r=me.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var s=!e&&(r>>a&1)==1;this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=s}for(var a=0;a<18;a++){var s=!e&&(r>>a&1)==1;this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=s}};Q.setupTypeInfo=function(e,r){for(var a=this.errorCorrectLevel<<3|r,s=me.getBCHTypeInfo(a),n=0;n<15;n++){var o=!e&&(s>>n&1)==1;n<6?this.modules[n][8]=o:n<8?this.modules[n+1][8]=o:this.modules[this.moduleCount-15+n][8]=o}for(var n=0;n<15;n++){var o=!e&&(s>>n&1)==1;n<8?this.modules[8][this.moduleCount-n-1]=o:n<9?this.modules[8][15-n-1+1]=o:this.modules[8][15-n-1]=o}this.modules[this.moduleCount-8][8]=!e};Q.mapData=function(e,r){for(var a=-1,s=this.moduleCount-1,n=7,o=0,i=this.moduleCount-1;i>0;i-=2)for(i==6&&i--;;){for(var l=0;l<2;l++)if(this.modules[s][i-l]==null){var x=!1;o<e.length&&(x=(e[o]>>>n&1)==1);var c=me.getMask(r,s,i-l);c&&(x=!x),this.modules[s][i-l]=x,n--,n==-1&&(o++,n=7)}if(s+=a,s<0||this.moduleCount<=s){s-=a,a=-a;break}}};ne.PAD0=236;ne.PAD1=17;ne.createData=function(e,r,a){for(var s=er.getRSBlocks(e,r),n=new tr,o=0;o<a.length;o++){var i=a[o];n.put(i.mode,4),n.put(i.getLength(),me.getLengthInBits(i.mode,e)),i.write(n)}for(var l=0,o=0;o<s.length;o++)l+=s[o].dataCount;if(n.getLengthInBits()>l*8)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+l*8+")");for(n.getLengthInBits()+4<=l*8&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=l*8||(n.put(ne.PAD0,8),n.getLengthInBits()>=l*8));)n.put(ne.PAD1,8);return ne.createBytes(n,s)};ne.createBytes=function(e,r){for(var a=0,s=0,n=0,o=new Array(r.length),i=new Array(r.length),l=0;l<r.length;l++){var x=r[l].dataCount,c=r[l].totalCount-x;s=Math.max(s,x),n=Math.max(n,c),o[l]=new Array(x);for(var u=0;u<o[l].length;u++)o[l][u]=255&e.buffer[u+a];a+=x;var h=me.getErrorCorrectPolynomial(c),b=new ja(o[l],h.getLength()-1),w=b.mod(h);i[l]=new Array(h.getLength()-1);for(var u=0;u<i[l].length;u++){var C=u+w.getLength()-i[l].length;i[l][u]=C>=0?w.get(C):0}}for(var y=0,u=0;u<r.length;u++)y+=r[u].totalCount;for(var f=new Array(y),d=0,u=0;u<s;u++)for(var l=0;l<r.length;l++)u<o[l].length&&(f[d++]=o[l][u]);for(var u=0;u<n;u++)for(var l=0;l<r.length;l++)u<i[l].length&&(f[d++]=i[l][u]);return f};var Na=ne,dt={};Object.defineProperty(dt,"__esModule",{value:!0});var ka=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ea=Vt,Y=ar(Ea),rr=j,Ie=ar(rr);function ar(e){return e&&e.__esModule?e:{default:e}}function Pa(e,r){var a={};for(var s in e)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}var Sa={bgColor:Y.default.oneOfType([Y.default.object,Y.default.string]).isRequired,bgD:Y.default.string.isRequired,fgColor:Y.default.oneOfType([Y.default.object,Y.default.string]).isRequired,fgD:Y.default.string.isRequired,size:Y.default.number.isRequired,title:Y.default.string,viewBoxSize:Y.default.number.isRequired,xmlns:Y.default.string},ut=(0,rr.forwardRef)(function(e,r){var a=e.bgColor,s=e.bgD,n=e.fgD,o=e.fgColor,i=e.size,l=e.title,x=e.viewBoxSize,c=e.xmlns,u=c===void 0?"http://www.w3.org/2000/svg":c,h=Pa(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ie.default.createElement("svg",ka({},h,{height:i,ref:r,viewBox:"0 0 "+x+" "+x,width:i,xmlns:u}),l?Ie.default.createElement("title",null,l):null,Ie.default.createElement("path",{d:s,fill:a}),Ie.default.createElement("path",{d:n,fill:o}))});ut.displayName="QRCodeSvg";ut.propTypes=Sa;dt.default=ut;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.QRCode=void 0;var Ta=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ba=Vt,se=Se(Ba),_a=Qt,Aa=Se(_a),Ia=Na,Ra=Se(Ia),nr=j,Ma=Se(nr),Oa=dt,La=Se(Oa);function Se(e){return e&&e.__esModule?e:{default:e}}function Da(e,r){var a={};for(var s in e)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}var Va={bgColor:se.default.oneOfType([se.default.object,se.default.string]),fgColor:se.default.oneOfType([se.default.object,se.default.string]),level:se.default.string,size:se.default.number,value:se.default.string.isRequired},qe=(0,nr.forwardRef)(function(e,r){var a=e.bgColor,s=a===void 0?"#FFFFFF":a,n=e.fgColor,o=n===void 0?"#000000":n,i=e.level,l=i===void 0?"L":i,x=e.size,c=x===void 0?256:x,u=e.value,h=Da(e,["bgColor","fgColor","level","size","value"]),b=new Ra.default(-1,Aa.default[l]);b.addData(u),b.make();var w=b.modules;return Ma.default.createElement(La.default,Ta({},h,{bgColor:s,bgD:w.map(function(C,y){return C.map(function(f,d){return f?"":"M "+d+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:o,fgD:w.map(function(C,y){return C.map(function(f,d){return f?"M "+d+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:r,size:c,viewBoxSize:w.length}))});Pe.QRCode=qe;qe.displayName="QRCode";qe.propTypes=Va;Pe.default=qe;const Fa=({pixData:e,onPaymentConfirmed:r,theme:a={}})=>{const[s,n]=j.useState(!1),[o,i]=j.useState(0),[l,x]=j.useState(!1),[c,u]=j.useState(!0),[h,b]=j.useState(!1);j.useEffect(()=>{if(!(e!=null&&e.expiresAt))return;const d=()=>{const g=new Date().getTime(),p=new Date(e.expiresAt).getTime()-g;if(p<=0){i(0);return}i(Math.floor(p/1e3))};d();const m=setInterval(d,1e3);return()=>clearInterval(m)},[e==null?void 0:e.expiresAt]),j.useEffect(()=>{if(!e||h)return;const m=setInterval(async()=>{x(!0),setTimeout(()=>{x(!1)},1e3)},5e3);return()=>clearInterval(m)},[e,h]);const w=d=>{const m=Math.floor(d/60),g=d%60;return`${m.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`},C=async()=>{if(e!=null&&e.qrCode)try{await navigator.clipboard.writeText(e.qrCode),n(!0),setTimeout(()=>n(!1),3e3)}catch(d){console.error("Erro ao copiar c√≥digo:",d)}};if(!e)return t.jsxs(v.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12 px-4",children:[t.jsx(v.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-green-400 via-emerald-500 to-teal-600 mb-4 shadow-2xl",children:t.jsx(We,{className:"h-10 w-10 text-white"})}),t.jsx(v.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl md:text-2xl font-bold mb-2 bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent",children:"Gerando c√≥digo PIX..."}),t.jsx(v.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm md:text-base opacity-70",style:{color:a.textColor},children:"Aguarde enquanto preparamos seu pagamento seguro"})]});const y=o<=0&&e.expiresAt,f=o>0&&o<60;return t.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4 md:space-y-6 max-w-2xl mx-auto px-2 md:px-4",children:[t.jsxs(v.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center space-y-3",children:[t.jsxs(v.div,{whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:300},className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-green-400 via-emerald-500 to-teal-600 shadow-2xl mb-3 relative",children:[t.jsx(We,{className:"h-8 w-8 md:h-10 md:w-10 text-white relative z-10"}),t.jsx(v.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-400 rounded-2xl blur-xl"})]}),t.jsx(v.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent",children:"Pague com PIX"}),t.jsxs(v.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-2 border-green-200 dark:border-green-800",children:[t.jsx(rt,{className:"h-5 w-5 text-green-600"}),t.jsxs("span",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["R$ ",e.amount.toFixed(2)]}),t.jsx(rt,{className:"h-5 w-5 text-green-600"})]})]}),t.jsx(Z,{mode:"wait",children:e.expiresAt&&t.jsxs(v.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.4},className:R("relative overflow-hidden flex items-center justify-center gap-3 p-5 md:p-6 rounded-2xl border-2 transition-all shadow-lg",y?"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 border-red-300 dark:border-red-800":f?"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-950/30 dark:to-orange-950/30 border-yellow-300 dark:border-yellow-800":"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border-blue-300 dark:border-blue-800"),children:[t.jsx(v.div,{animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:R("absolute inset-0 w-full h-full opacity-20",y?"bg-gradient-to-r from-transparent via-red-400 to-transparent":f?"bg-gradient-to-r from-transparent via-yellow-400 to-transparent":"bg-gradient-to-r from-transparent via-blue-400 to-transparent")}),t.jsx(v.div,{animate:f?{rotate:[0,-5,5,-5,0]}:{},transition:{duration:.5,repeat:1/0,repeatDelay:1},children:t.jsx(Mr,{className:R("h-7 w-7 md:h-8 md:w-8 relative z-10",y?"text-red-600 dark:text-red-400":f?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400")})}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-2 relative z-10",children:[t.jsx(v.span,{initial:{scale:1.2},animate:{scale:1},className:R("font-mono text-2xl md:text-3xl font-bold tracking-wider",y?"text-red-700 dark:text-red-300":f?"text-yellow-700 dark:text-yellow-300":"text-blue-700 dark:text-blue-300"),children:y?"EXPIRADO":w(o)},o),!y&&t.jsx("span",{className:R("text-sm md:text-base font-semibold",f?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400"),children:f?"‚ö†Ô∏è √öltimos segundos!":"para pagar"})]})]},y?"expired":"active")}),t.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative flex gap-2 p-1.5 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-inner",children:[t.jsx(v.div,{animate:{x:c?0:"calc(100% + 8px)"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute inset-y-1.5 left-1.5 right-1.5 w-[calc(50%-4px)] bg-white dark:bg-gray-950 rounded-xl shadow-lg"}),t.jsxs("button",{onClick:()=>u(!0),className:R("relative z-10 flex-1 py-4 px-4 rounded-xl font-bold text-sm md:text-base transition-all flex items-center justify-center gap-2",c?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:[t.jsx(We,{className:"h-5 w-5"}),"QR Code"]}),t.jsxs("button",{onClick:()=>u(!1),className:R("relative z-10 flex-1 py-4 px-4 rounded-xl font-bold text-sm md:text-base transition-all flex items-center justify-center gap-2",c?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100":"text-green-600 dark:text-green-400"),children:[t.jsx(at,{className:"h-5 w-5"}),"C√≥digo"]})]}),t.jsx(Z,{mode:"wait",children:c?t.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:t.jsx(K,{className:"overflow-hidden border-2 shadow-2xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-950",children:t.jsx(J,{className:"p-6 md:p-10",children:t.jsxs("div",{className:"text-center space-y-6",children:[t.jsxs(v.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},className:"inline-block relative",children:[t.jsx(v.div,{animate:{scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -inset-4 bg-gradient-to-r from-green-400 to-emerald-400 rounded-3xl blur-2xl"}),t.jsx("div",{className:"relative p-6 md:p-8 bg-white rounded-3xl shadow-2xl",children:t.jsx(Pe.QRCodeSVG,{value:e.qrCode,size:256,level:"H",includeMargin:!0,className:"w-full h-auto max-w-[280px] md:max-w-[320px]",fgColor:"#000000",bgColor:"#FFFFFF"})}),t.jsx(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.5,type:"spring"},className:"absolute -bottom-3 -right-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full p-3 shadow-xl",children:t.jsx(Or,{className:"h-6 w-6 text-white"})})]}),t.jsx(Z,{children:l&&t.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[t.jsx(v.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Verificando pagamento..."})]})}),t.jsx(v.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-base md:text-lg font-semibold text-gray-700 dark:text-gray-300",children:"üì± Abra o app do seu banco e escaneie o c√≥digo"})]})})})},"qrcode"):t.jsx(v.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:t.jsx(K,{className:"overflow-hidden border-2 shadow-2xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-950",children:t.jsxs(J,{className:"p-6 md:p-8 space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm md:text-base font-bold block mb-3 text-gray-700 dark:text-gray-300",children:"üí≥ C√≥digo PIX Copia e Cola:"}),t.jsxs(v.div,{whileHover:{scale:1.02},className:"relative group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-400 rounded-2xl blur opacity-20 group-hover:opacity-40 transition-opacity"}),t.jsx("div",{className:"relative p-5 md:p-6 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 overflow-hidden",children:t.jsx("code",{className:"text-xs md:text-sm font-mono break-all block text-gray-700 dark:text-gray-300",children:e.qrCode})})]})]}),t.jsx(v.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:t.jsxs(he,{onClick:C,className:"relative overflow-hidden w-full gap-3 h-14 md:h-16 text-base md:text-lg font-bold shadow-xl hover:shadow-2xl transition-all group",style:{backgroundColor:s?"#10b981":a.checkoutButtonBackgroundColor||"#22c55e",color:a.primaryButtonTextColor||"#ffffff"},children:[t.jsx(v.div,{animate:{x:[-200,400]},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"absolute inset-0 w-20 h-full bg-white/30 skew-x-12"}),t.jsx(Z,{mode:"wait",children:s?t.jsxs(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"flex items-center gap-3",children:[t.jsx(Ee,{className:"h-6 w-6"}),t.jsx("span",{children:"C√≥digo Copiado!"})]},"copied"):t.jsxs(v.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"flex items-center gap-3",children:[t.jsx(at,{className:"h-6 w-6"}),t.jsx("span",{children:"Copiar C√≥digo PIX"})]},"copy")})]})})]})})},"code")}),t.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:t.jsx(K,{className:"overflow-hidden bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-950/20 dark:via-indigo-950/20 dark:to-purple-950/20 border-2 border-blue-200 dark:border-blue-800 shadow-xl",children:t.jsx(J,{className:"p-6 md:p-7",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(v.div,{whileHover:{rotate:[0,-10,10,-10,0],scale:1.1},transition:{duration:.5},className:"shrink-0 mt-1",children:t.jsx(nt,{className:"h-8 w-8 md:h-10 md:w-10 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-lg md:text-xl text-blue-900 dark:text-blue-100",children:"üì≤ Como pagar com PIX:"}),t.jsx("ol",{className:"space-y-3 text-sm md:text-base text-gray-700 dark:text-gray-300",children:["Abra o app do seu banco ou carteira digital",'Escolha "Pix Copia e Cola" ou "Ler QR Code"',"Cole o c√≥digo ou escaneie o QR Code acima","Confirme o pagamento e pronto! ‚úÖ Aprova√ß√£o instant√¢nea"].map((d,m)=>t.jsxs(v.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+m*.1},className:"flex gap-3",children:[t.jsx(v.span,{whileHover:{scale:1.2,rotate:360},transition:{type:"spring"},className:"flex-shrink-0 flex items-center justify-center w-7 h-7 md:w-8 md:h-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-sm md:text-base font-bold shadow-lg",children:m+1}),t.jsx("span",{className:"pt-1",children:d})]},m))})]})]})})})}),t.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.9},className:"relative overflow-hidden flex items-center gap-3 p-5 md:p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-2xl border-2 border-green-200 dark:border-green-800 shadow-lg",children:[t.jsx(v.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(Ft,{className:"h-6 w-6 md:h-7 md:w-7 text-green-600 dark:text-green-400 flex-shrink-0"})}),t.jsx("p",{className:"text-sm md:text-base text-green-700 dark:text-green-300 font-bold",children:"üîí Pagamento 100% seguro ‚Ä¢ Aprova√ß√£o instant√¢nea ‚Ä¢ Sem taxas extras"})]}),t.jsx(Z,{children:y&&t.jsx(v.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:t.jsx(K,{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/20 dark:to-rose-950/20 border-2 border-red-300 dark:border-red-800 shadow-xl",children:t.jsx(J,{className:"p-6 md:p-7",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx(v.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},children:t.jsx(ee,{className:"h-7 w-7 text-red-600 dark:text-red-400 flex-shrink-0"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-base md:text-lg",children:"‚ö†Ô∏è C√≥digo PIX Expirado"}),t.jsx("p",{className:"text-sm md:text-base text-red-600 dark:text-red-400",children:"Este c√≥digo expirou. Por favor, volte e gere um novo c√≥digo PIX para completar seu pagamento."})]})]})})})})})]})};var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$a={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}},Fe={},je={};Object.defineProperty(je,"__esModule",{value:!0}),je.clone=void 0,je.clone=function(e){return e?JSON.parse(JSON.stringify(e)):null};var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.matches=void 0,Le.matches=function(e,r){return Array.isArray(r)?function(a,s,n){var o=String(s).length,i=a.substr(0,o),l=parseInt(i,10);return s=parseInt(String(s).substr(0,i.length),10),n=parseInt(String(n).substr(0,i.length),10),l>=s&&l<=n}(e,r[0],r[1]):function(a,s){return(s=String(s)).substring(0,a.length)===a.substring(0,s.length)}(e,r)},Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.addMatchingCardsToResults=void 0;var za=je,qa=Le;Fe.addMatchingCardsToResults=function(e,r,a){var s,n;for(s=0;s<r.patterns.length;s++){var o=r.patterns[s];if(qa.matches(e,o)){var i=za.clone(r);n=Array.isArray(o)?String(o[0]).length:String(o).length,e.length>=n&&(i.matchStrength=n),a.push(i);break}}};var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.isValidInputType=void 0,De.isValidInputType=function(e){return typeof e=="string"||e instanceof String};var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.findBestMatch=void 0,Ve.findBestMatch=function(e){return function(r){var a=r.filter(function(s){return s.matchStrength}).length;return a>0&&a===r.length}(e)?e.reduce(function(r,a){return r?Number(r.matchStrength)<Number(a.matchStrength)?a:r:a}):null};var $e=Tt&&Tt.__assign||function(){return $e=Object.assign||function(e){for(var r,a=1,s=arguments.length;a<s;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},$e.apply(this,arguments)},sr=$a,Ua=Fe,Ha=De,Wa=Ve,Ne=je,Ce={},W={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},or=[W.VISA,W.MASTERCARD,W.AMERICAN_EXPRESS,W.DINERS_CLUB,W.DISCOVER,W.JCB,W.UNIONPAY,W.MAESTRO,W.ELO,W.MIR,W.HIPER,W.HIPERCARD],ue=Ne.clone(or);function st(e){return Ce[e]||sr[e]}function Qe(e,r){r===void 0&&(r=!1);var a=ue.indexOf(e);if(!r&&a===-1)throw new Error('"'+e+'" is not a supported card type.');return a}function de(e){var r=[];if(!Ha.isValidInputType(e))return r;if(e.length===0)return ue.map(function(s){return Ne.clone(st(s))});ue.forEach(function(s){var n=st(s);Ua.addMatchingCardsToResults(e,n,r)});var a=Wa.findBestMatch(r);return a?[a]:r}de.getTypeInfo=function(e){return Ne.clone(st(e))},de.removeCard=function(e){var r=Qe(e);ue.splice(r,1)},de.addCard=function(e){var r=Qe(e.type,!0);Ce[e.type]=e,r===-1&&ue.push(e.type)},de.updateCard=function(e,r){var a=Ce[e]||sr[e];if(!a)throw new Error('"'+e+"\" is not a recognized type. Use `addCard` instead.'");if(r.type&&a.type!==r.type)throw new Error("Cannot overwrite type parameter.");var s=Ne.clone(a);s=$e($e({},s),r),Ce[s.type]=s},de.changeOrder=function(e,r){var a=Qe(e);ue.splice(a,1),ue.splice(r,0,e)},de.resetModifications=function(){ue=Ne.clone(or),Ce={}},de.types=W;var oe=de,Ga={niceType:"Dankort",type:"dankort",patterns:[5019],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},Qa={niceType:"Laser",type:"laser",patterns:[6706,6771,6709],gaps:[4,8,12],lengths:[16,19],code:{name:"CVV",size:3}},Xa={niceType:"Visa Electron",type:"visa-electron",patterns:[4026,417500,4405,4508,4844,49137],gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},Ya=function(e){var r,a,s=String(e).replace(/[\s]/g,""),n=s.length,o=!1,i=0;if(!/^[0-9]+$/.test(s))return!1;for(var l=n;l>0;l--){if(r=parseInt(s.charAt(l-1)),o){switch(a=2*r){case 10:a=1;break;case 12:a=3;break;case 14:a=5;break;case 16:a=7;break;case 18:a=9}i+=a}else i+=r;o=!o}return i!==0&&i%10==0},Ka=function(e){var r=oe(e.toString().trim().replace(" ",""));if(r.length===1){var a=r.shift();return(a==null?void 0:a.type)||"unknown"}return"unknown"},Xe=function(){return oe.updateCard(oe.types.MAESTRO,{patterns:[493698,[5e3,5018],[502e3,506698],[506779,508999],[56,59],63,67,6]}),oe.updateCard(oe.types.HIPERCARD,{patterns:[384100,384140,384160,606282,637095,637568]}),oe.addCard(Ga),oe.addCard(Qa),oe.addCard(Xa),Object.values(oe.types).concat(["dankort","laser","visa-electron"])},be={amex:["amex","americanexpress","american-express"],dinersclub:["diners","dinersclub","diners-club"]};function Ja(e){var r=e.acceptedCards,a=r===void 0?[]:r,s=e.number,n=e.issuer,o=e.preview,i=o!==void 0&&o,l=e.expiry,x=e.cvc,c=e.focused,u=e.locale,h=u===void 0?{valid:"valid thru"}:u,b=e.name,w=e.placeholders,C=w===void 0?{name:"YOUR NAME HERE"}:w,y=e.callback,f=I.useState(Xe()),d=f[0],m=f[1],g=I.useMemo(function(){return a!=null&&a.length?d.filter(function(P){return a.includes(P)}):d},[a,d]),N=I.useMemo(function(){var P="unknown";if(s){var S=Ka(s);g.includes(S)&&(P=S)}var B=16;return be.amex.includes(P)?B=15:be!=null&&be.dinersclub.includes(P)?B=14:["hipercard","mastercard","visa"].includes(P)&&(B=19),{issuer:P,maxLength:B}},[s,g]),p=I.useMemo(function(){return i&&n?n.toLowerCase():N.issuer},[N.issuer,n,i]),k=I.useMemo(function(){var P=i?19:N.maxLength,S=typeof s=="number"?s.toString():String(s).replace(/[A-Za-z]| /g,"");for(isNaN(parseInt(S,10))&&!i&&(S=""),P>16&&(P=S.length<=16?16:P),S.length>P&&(S=S.slice(0,P));S.length<P;)S+="‚Ä¢";if(be.amex.includes(p)||be.dinersclub.includes(p)){var B=[0,4,10],D=[4,6,5];S="".concat(S.substr(B[0],D[0])," ").concat(S.substr(B[1],D[1])," ").concat(S.substr(B[2],D[2]))}else if(S.length>16)B=[0,4,8,12],D=[4,7],S="".concat(S.substr(B[0],D[0])," ").concat(S.substr(B[1],D[0])," ").concat(S.substr(B[2],D[0])," ").concat(S.substr(B[3],D[1]));else for(var le=1;le<P/4;le++){var Te=4*le+(le-1);S="".concat(S.slice(0,Te)," ").concat(S.slice(Te))}return S},[N.maxLength,p,s,i]),E=I.useMemo(function(){var P,S=typeof l=="number"?l.toString():l,B="",D="";for(S.includes("/")?(B=(P=S.split("/"))[0],D=P[1]):S.length&&(B=S.substr(0,2),D=S.substr(2,6));B.length<2;)B+="‚Ä¢";for(D.length>2&&(D=D.substr(2,4));D.length<2;)D+="‚Ä¢";return"".concat(B,"/").concat(D)},[l]),A=I.useCallback(function(P){if(P.length)m(d.filter(function(B){return P.includes(B)}));else{var S=Xe();m(S)}},[d]);return I.useEffect(function(){k!==s&&typeof y=="function"&&y(N,Ya(String(s))),Xe().toString()!==d.toString()&&A(a)},[a,y,N,k,A,s,d]),I.createElement("div",{key:"Cards",className:"rccs","data-testid":"rccs"},I.createElement("div",{"data-testid":"rccs__card",className:["rccs__card","rccs__card--".concat(p),c==="cvc"&&p!=="american-express"?"rccs__card--flipped":""].join(" ").trim()},I.createElement("div",{className:"rccs__card--front"},I.createElement("div",{className:"rccs__card__background"}),I.createElement("div",{className:"rccs__issuer"}),I.createElement("div",{className:["rccs__cvc__front",c==="cvc"?"rccs--focused":""].join(" ").trim()},x),I.createElement("div",{className:["rccs__number",k.replace(/ /g,"").length>16?"rccs__number--large":"",c==="number"?"rccs--focused":"",k.substr(0,1)!=="‚Ä¢"?"rccs--filled":""].join(" ").trim()},k),I.createElement("div",{className:["rccs__name",c==="name"?"rccs--focused":"",b?"rccs--filled":""].join(" ").trim()},b||C.name),I.createElement("div",{className:["rccs__expiry",c==="expiry"?"rccs--focused":"",E.substr(0,1)!=="‚Ä¢"?"rccs--filled":""].join(" ").trim()},I.createElement("div",{className:"rccs__expiry__valid"},h.valid),I.createElement("div",{className:"rccs__expiry__value"},E)),I.createElement("div",{className:"rccs__chip"})),I.createElement("div",{className:"rccs__card--back"},I.createElement("div",{className:"rccs__card__background"}),I.createElement("div",{className:"rccs__stripe"}),I.createElement("div",{className:"rccs__signature"}),I.createElement("div",{className:["rccs__cvc",c==="cvc"?"rccs--focused":""].join(" ").trim()},x),I.createElement("div",{className:"rccs__issuer"}))))}var ir={exports:{}};function Za(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Ye=Za(j),en=Cr;function tn(e,r){for(var a=Object.getOwnPropertyNames(r),s=0;s<a.length;s++){var n=a[s],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&e[n]===void 0&&Object.defineProperty(e,n,o)}return e}function ot(){return(ot=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function rn(e,r){e.prototype=Object.create(r.prototype),tn(e.prototype.constructor=e,r)}function an(e,r){if(e==null)return{};var a,s,n={},o=Object.keys(e);for(s=0;s<o.length;s++)a=o[s],0<=r.indexOf(a)||(n[a]=e[a]);return n}function ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var nn=function(e,r,a,s,n,o,i,l){if(!e){var x;if(r===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,s,n,o,i,l],u=0;(x=new Error(r.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw x.framesToPop=1,x}},Bt=nn;function _t(e,r,a){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=r,e.selectionEnd=a;else{var s=e.createTextRange();s.collapse(!0),s.moveStart("character",r),s.moveEnd("character",a-r),s.select()}}function sn(e){var r=0,a=0;if("selectionStart"in e&&"selectionEnd"in e)r=e.selectionStart,a=e.selectionEnd;else{var s=document.selection.createRange();s.parentElement()===e&&(r=-s.moveStart("character",-e.value.length),a=-s.moveEnd("character",-e.value.length))}return{start:r,end:a,length:a-r}}var on={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},ln="_";function At(e,r,a){var s="",n="",o=null,i=[];if(r===void 0&&(r=ln),a==null&&(a=on),!e||typeof e!="string")return{maskChar:r,formatChars:a,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var l=!1;return e.split("").forEach(function(x){l=!l&&x==="\\"||(l||!a[x]?(i.push(s.length),s.length===i.length-1&&(n+=x)):o=s.length+1,s+=x,!1)}),{maskChar:r,formatChars:a,prefix:n,mask:s,lastEditablePosition:o,permanents:i}}function G(e,r){return e.permanents.indexOf(r)!==-1}function Ue(e,r,a){var s=e.mask,n=e.formatChars;if(!a)return!1;if(G(e,r))return s[r]===a;var o=n[s[r]];return new RegExp(o).test(a)}function It(e,r){return r.split("").every(function(a,s){return G(e,s)||!Ue(e,s,a)})}function we(e,r){var a=e.maskChar,s=e.prefix;if(!a){for(;r.length>s.length&&G(e,r.length-1);)r=r.slice(0,r.length-1);return r.length}for(var n=s.length,o=r.length;o>=s.length;o--){var i=r[o];if(!G(e,o)&&Ue(e,o,i)){n=o+1;break}}return n}function lr(e,r){return we(e,r)===e.mask.length}function ie(e,r){var a=e.maskChar,s=e.mask,n=e.prefix;if(!a){for((r=it(e,"",r,0)).length<n.length&&(r=n);r.length<s.length&&G(e,r.length);)r+=s[r.length];return r}if(r)return it(e,ie(e,""),r,0);for(var o=0;o<s.length;o++)G(e,o)?r+=s[o]:r+=a;return r}function cn(e,r,a,s){var n=a+s,o=e.maskChar,i=e.mask,l=e.prefix,x=r.split("");if(o)return x.map(function(u,h){return h<a||n<=h?u:G(e,h)?i[h]:o}).join("");for(var c=n;c<x.length;c++)G(e,c)&&(x[c]="");return a=Math.max(l.length,a),x.splice(a,n-a),r=x.join(""),ie(e,r)}function it(e,r,a,s){var n=e.mask,o=e.maskChar,i=e.prefix,l=a.split(""),x=lr(e,r);return!o&&s>r.length&&(r+=n.slice(r.length,s)),l.every(function(c){for(;w=c,G(e,b=s)&&w!==n[b];){if(s>=r.length&&(r+=n[s]),u=c,h=s,o&&G(e,h)&&u===o)return!0;if(++s>=n.length)return!1}var u,h,b,w;return!Ue(e,s,c)&&c!==o||(s<r.length?r=o||x||s<i.length?r.slice(0,s)+c+r.slice(s+1):(r=r.slice(0,s)+c+r.slice(s),ie(e,r)):o||(r+=c),++s<n.length)}),r}function dn(e,r,a,s){var n=e.mask,o=e.maskChar,i=a.split(""),l=s;return i.every(function(x){for(;u=x,G(e,c=s)&&u!==n[c];)if(++s>=n.length)return!1;var c,u;return(Ue(e,s,x)||x===o)&&s++,s<n.length}),s-l}function un(e,r){for(var a=r;0<=a;--a)if(!G(e,a))return a;return null}function ke(e,r){for(var a=e.mask,s=r;s<a.length;++s)if(!G(e,s))return s;return null}function Ke(e){return e||e===0?e+"":""}function mn(e,r,a,s,n){var o=e.mask,i=e.prefix,l=e.lastEditablePosition,x=r,c="",u=0,h=0,b=Math.min(n.start,a.start);return a.end>n.start?h=(u=dn(e,s,c=x.slice(n.start,a.end),b))?n.length:0:x.length<s.length&&(h=s.length-x.length),x=s,h&&(h===1&&!n.length&&(b=n.start===a.start?ke(e,a.start):un(e,a.start)),x=cn(e,x,b,h)),x=it(e,x,c,b),(b+=u)>=o.length?b=o.length:b<i.length&&!u?b=i.length:b>=i.length&&b<l&&u&&(b=ke(e,b)),c||(c=null),{value:x=ie(e,x),enteredString:c,selection:{start:b,end:b}}}function pn(){var e=new RegExp("windows","i"),r=new RegExp("phone","i"),a=navigator.userAgent;return e.test(a)&&r.test(a)}function U(e){return typeof e=="function"}function fn(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function cr(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function Rt(e){return(cr()?fn():function(){return setTimeout(e,1e3/60)})(e)}function Je(e){(cr()||clearTimeout)(e)}var gn=function(e){function r(s){var n=e.call(this,s)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=Rt(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){n.saveSelectionLoopDeferId===null&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){n.saveSelectionLoopDeferId!==null&&(Je(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var C=en.findDOMNode(ve(ve(n))),y=typeof window<"u"&&C instanceof window.Element;if(C&&!y)return null;if(C.nodeName!=="INPUT"&&(C=C.querySelector("input")),!C)throw new Error("react-input-mask: inputComponent doesn't contain input node");return C},n.getInputValue=function(){var C=n.getInputDOMNode();return C?C.value:null},n.setInputValue=function(C){var y=n.getInputDOMNode();y&&(n.value=C,y.value=C)},n.setCursorToEnd=function(){var C=we(n.maskOptions,n.value),y=ke(n.maskOptions,C);y!==null&&n.setCursorPosition(y)},n.setSelection=function(C,y,f){f===void 0&&(f={});var d=n.getInputDOMNode(),m=n.isFocused();d&&m&&(f.deferred||_t(d,C,y),n.selectionDeferId!==null&&Je(n.selectionDeferId),n.selectionDeferId=Rt(function(){n.selectionDeferId=null,_t(d,C,y)}),n.previousSelection={start:C,end:y,length:Math.abs(y-C)})},n.getSelection=function(){return sn(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(C){n.setSelection(C,C)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var C=n.maskOptions,y=C.mask,f=C.maskChar,d=C.permanents,m=C.formatChars;return{mask:y,maskChar:f,permanents:d,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:m}},n.isInputAutofilled=function(C,y,f,d){var m=n.getInputDOMNode();try{if(m.matches(":-webkit-autofill"))return!0}catch{}return!n.focused||d.end<f.length&&y.end===C.length},n.onChange=function(C){var y=ve(ve(n)).beforePasteState,f=ve(ve(n)).previousSelection,d=n.props.beforeMaskedValueChange,m=n.getInputValue(),g=n.value,N=n.getSelection();n.isInputAutofilled(m,N,g,f)&&(g=ie(n.maskOptions,""),f={start:0,end:0,length:0}),y&&(f=y.selection,g=y.value,N={start:f.start+m.length,end:f.start+m.length,length:0},m=g.slice(0,f.start)+m+g.slice(f.end),n.beforePasteState=null);var p=mn(n.maskOptions,m,N,g,f),k=p.enteredString,E=p.selection,A=p.value;if(U(d)){var P=d({value:A,selection:E},{value:g,selection:f},k,n.getBeforeMaskedValueChangeConfig());A=P.value,E=P.selection}n.setInputValue(A),U(n.props.onChange)&&n.props.onChange(C),n.isWindowsPhoneBrowser?n.setSelection(E.start,E.end,{deferred:!0}):n.setSelection(E.start,E.end)},n.onFocus=function(C){var y=n.props.beforeMaskedValueChange,f=n.maskOptions,d=f.mask,m=f.prefix;if(n.focused=!0,n.mounted=!0,d){if(n.value)we(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var g=ie(n.maskOptions,m),N=ie(n.maskOptions,g),p=we(n.maskOptions,N),k=ke(n.maskOptions,p),E={start:k,end:k};if(U(y)){var A=y({value:N,selection:E},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());N=A.value,E=A.selection}var P=N!==n.getInputValue();P&&n.setInputValue(N),P&&U(n.props.onChange)&&n.props.onChange(C),n.setSelection(E.start,E.end)}n.runSaveSelectionLoop()}U(n.props.onFocus)&&n.props.onFocus(C)},n.onBlur=function(C){var y=n.props.beforeMaskedValueChange,f=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,f&&!n.props.alwaysShowMask&&It(n.maskOptions,n.value)){var d="";U(y)&&(d=y({value:d,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var m=d!==n.getInputValue();m&&n.setInputValue(d),m&&U(n.props.onChange)&&n.props.onChange(C)}U(n.props.onBlur)&&n.props.onBlur(C)},n.onMouseDown=function(C){if(!n.focused&&document.addEventListener){n.mouseDownX=C.clientX,n.mouseDownY=C.clientY,n.mouseDownTime=new Date().getTime();var y=function f(d){if(document.removeEventListener("mouseup",f),n.focused){var m=Math.abs(d.clientX-n.mouseDownX),g=Math.abs(d.clientY-n.mouseDownY),N=Math.max(m,g),p=new Date().getTime()-n.mouseDownTime;(N<=10&&p<=200||N<=5&&p<=300)&&n.setCursorToEnd()}};document.addEventListener("mouseup",y)}U(n.props.onMouseDown)&&n.props.onMouseDown(C)},n.onPaste=function(C){U(n.props.onPaste)&&n.props.onPaste(C),C.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(C){n.props.children==null&&U(n.props.inputRef)&&n.props.inputRef(C)};var o=s.mask,i=s.maskChar,l=s.formatChars,x=s.alwaysShowMask,c=s.beforeMaskedValueChange,u=s.defaultValue,h=s.value;n.maskOptions=At(o,i,l),u==null&&(u=""),h==null&&(h=u);var b=Ke(h);if(n.maskOptions.mask&&(x||b)&&(b=ie(n.maskOptions,b),U(c))){var w=s.value;s.value==null&&(w=u),b=c({value:b,selection:null},{value:w=Ke(w),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=b,n}rn(r,e);var a=r.prototype;return a.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=pn(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},a.componentDidUpdate=function(){var s=this.previousSelection,n=this.props,o=n.beforeMaskedValueChange,i=n.alwaysShowMask,l=n.mask,x=n.maskChar,c=n.formatChars,u=this.maskOptions,h=i||this.isFocused(),b=this.props.value!=null,w=b?Ke(this.props.value):this.value,C=s?s.start:null;if(this.maskOptions=At(l,x,c),this.maskOptions.mask){!u.mask&&this.isFocused()&&this.runSaveSelectionLoop();var y=this.maskOptions.mask&&this.maskOptions.mask!==u.mask;if(u.mask||b||(w=this.getInputValue()),(y||this.maskOptions.mask&&(w||h))&&(w=ie(this.maskOptions,w)),y){var f=we(this.maskOptions,w);(C===null||f<C)&&(C=lr(this.maskOptions,w)?f:ke(this.maskOptions,f))}!this.maskOptions.mask||!It(this.maskOptions,w)||h||b&&this.props.value||(w="");var d={start:C,end:C};if(U(o)){var m=o({value:w,selection:d},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());w=m.value,d=m.selection}this.value=w;var g=this.getInputValue()!==this.value;g?(this.setInputValue(this.value),this.forceUpdate()):y&&this.forceUpdate();var N=!1;d.start!=null&&d.end!=null&&(N=!s||s.start!==d.start||s.end!==d.end),(N||g)&&this.setSelection(d.start,d.end)}else u.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},a.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&Je(this.selectionDeferId),this.stopSaveSelectionLoop()},a.render=function(){var s,n=this.props,o=(n.mask,n.alwaysShowMask,n.maskChar,n.formatChars,n.inputRef,n.beforeMaskedValueChange,n.children),i=an(n,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(o){U(o)||Bt(!1);var l=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],x=ot({},i);l.forEach(function(u){return delete x[u]}),s=o(x),l.filter(function(u){return s.props[u]!=null&&s.props[u]!==i[u]}).length&&Bt(!1)}else s=Ye.createElement("input",ot({ref:this.handleRef},i));var c={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(i.disabled||i.readOnly||(c.onChange=this.onChange,c.onPaste=this.onPaste,c.onMouseDown=this.onMouseDown),i.value!=null&&(c.value=this.value)),s=Ye.cloneElement(s,c)},r}(Ye.Component),hn=gn;ir.exports=hn;var xn=ir.exports;const Mt=wr(xn),vn=[{name:"Visa",pattern:/^4/,color:"from-blue-600 to-blue-800"},{name:"Mastercard",pattern:/^5[1-5]/,color:"from-red-600 to-orange-600"},{name:"Amex",pattern:/^3[47]/,color:"from-blue-500 to-blue-700"},{name:"Elo",pattern:/^(4011|4312|4389|4514|4576|5041|5066|5067|6277|6362|6363|6504|6505|6516)/,color:"from-yellow-500 to-yellow-700"},{name:"Hipercard",pattern:/^(38|60)/,color:"from-red-500 to-red-700"}],yn=({onCardDataChange:e,theme:r={},errors:a={}})=>{const[s,n]=j.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvv:""}),[o,i]=j.useState(""),[l,x]=j.useState(""),[c,u]=j.useState({number:null,holderName:null,expiry:null,cvv:null});j.useEffect(()=>{const m=s.number.replace(/\s/g,""),g=vn.find(N=>N.pattern.test(m));if(x((g==null?void 0:g.name)||""),m.length>=13){const N=h(m);u(p=>({...p,number:N}))}else m.length>0&&u(N=>({...N,number:null}));e({...s,brand:g==null?void 0:g.name})},[s]);const h=m=>{if(!/^\d+$/.test(m)||m.length<13||m.length>19)return!1;let g=0,N=!1;for(let p=m.length-1;p>=0;p--){let k=parseInt(m.charAt(p),10);N&&(k*=2,k>9&&(k-=9)),g+=k,N=!N}return g%10===0},b=m=>m.trim().length>=3&&/^[a-zA-Z√Ä-√ø\s]+$/.test(m),w=(m,g)=>{if(!m||!g)return!1;const N=parseInt(m,10),p=parseInt(g,10);if(N<1||N>12)return!1;const k=new Date,E=k.getFullYear()%100,A=k.getMonth()+1;return!(p<E||p===E&&N<A)},C=(m,g)=>{const N=g==="Amex"?4:3;return m.length===N&&/^\d+$/.test(m)},y=(m,g)=>{let N=g;if(m==="number")N=g.replace(/\s/g,"").replace(/\D/g,"").slice(0,16);else if(m==="holderName")N=g.toUpperCase(),N.trim().length>=3&&u(k=>({...k,holderName:b(N)}));else if(m==="cvv"){const k=l==="Amex"?4:3;N=g.replace(/\D/g,"").slice(0,k),N.length===k&&u(E=>({...E,cvv:C(N,l)}))}const p={...s,[m]:N};n(p),e(p)},f=m=>{const g=m.replace(/\D/g,"");if(g.length>=2){const N=g.slice(0,2),p=g.slice(2,4);n(k=>({...k,expiryMonth:N,expiryYear:p})),g.length===4&&u(k=>({...k,expiry:w(N,p)}))}else n(N=>({...N,expiryMonth:g,expiryYear:""}))},d=m=>c[m]===!0?t.jsx(Lr,{className:"h-5 w-5 text-green-500"}):c[m]===!1?t.jsx(ee,{className:"h-5 w-5 text-red-500"}):null;return t.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6 max-w-2xl mx-auto px-2 md:px-4",children:[t.jsxs(v.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center space-y-2",children:[t.jsxs(v.div,{whileHover:{scale:1.05,rotate:5},className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-purple-500 via-indigo-500 to-blue-500 shadow-2xl mb-3 relative",children:[t.jsx(ye,{className:"h-8 w-8 md:h-10 md:w-10 text-white relative z-10"}),t.jsx(v.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-purple-400 rounded-2xl blur-xl"})]}),t.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent",children:"Dados do Cart√£o"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400",children:"Preencha os dados com seguran√ßa"})]}),t.jsxs(v.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative",children:[t.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 rounded-3xl blur-2xl opacity-20 animate-pulse"}),t.jsx("div",{className:"relative",children:t.jsx(Ja,{number:s.number,name:s.holderName,expiry:`${s.expiryMonth}${s.expiryYear}`,cvc:s.cvv,focused:o,locale:{valid:"Validade"},placeholders:{name:"SEU NOME AQUI"}})})]}),t.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(F,{className:"text-sm md:text-base font-semibold flex items-center gap-2",children:[t.jsx(ye,{className:"h-4 w-4"}),"N√∫mero do Cart√£o"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Mt,{mask:"9999 9999 9999 9999",value:s.number.replace(/(\d{4})/g,"$1 ").trim(),onChange:m=>y("number",m.target.value),onFocus:()=>i("number"),onBlur:()=>i(""),maskChar:"",children:m=>t.jsx(q,{...m,type:"text",placeholder:"0000 0000 0000 0000",className:R("h-14 text-lg font-mono pr-12 transition-all duration-300",c.number===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",c.number===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")})}),t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx(Z,{mode:"wait",children:c.number!==null&&t.jsx(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:d("number")})})})]}),l&&t.jsxs(v.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[t.jsx(rt,{className:"h-4 w-4 text-purple-500"}),t.jsxs("span",{children:["Bandeira detectada: ",t.jsx("strong",{children:l})]})]}),a.number&&t.jsxs(v.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[t.jsx(ee,{className:"h-4 w-4"}),a.number]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(F,{className:"text-sm md:text-base font-semibold",children:"Nome do Titular"}),t.jsxs("div",{className:"relative",children:[t.jsx(q,{type:"text",placeholder:"NOME COMO EST√Å NO CART√ÉO",value:s.holderName,onChange:m=>y("holderName",m.target.value),onFocus:()=>i("name"),onBlur:()=>i(""),className:R("h-14 text-lg uppercase pr-12 transition-all duration-300",c.holderName===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",c.holderName===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")}),t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx(Z,{mode:"wait",children:c.holderName!==null&&t.jsx(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:d("holderName")})})})]}),a.holderName&&t.jsxs(v.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[t.jsx(ee,{className:"h-4 w-4"}),a.holderName]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(F,{className:"text-sm md:text-base font-semibold",children:"Validade"}),t.jsxs("div",{className:"relative",children:[t.jsx(Mt,{mask:"99/99",value:`${s.expiryMonth}${s.expiryYear?"/"+s.expiryYear:""}`,onChange:m=>f(m.target.value),onFocus:()=>i("expiry"),onBlur:()=>i(""),maskChar:"",children:m=>t.jsx(q,{...m,type:"text",placeholder:"MM/AA",className:R("h-14 text-lg font-mono pr-12 transition-all duration-300",c.expiry===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",c.expiry===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")})}),t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx(Z,{mode:"wait",children:c.expiry!==null&&t.jsx(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:d("expiry")})})})]}),a.expiry&&t.jsxs(v.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[t.jsx(ee,{className:"h-3 w-3"}),a.expiry]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(F,{className:"text-sm md:text-base font-semibold flex items-center gap-2",children:["CVV",t.jsxs(v.div,{whileHover:{scale:1.1},className:"group relative",children:[t.jsx(jr,{className:"h-4 w-4 text-gray-400 cursor-help"}),t.jsxs(v.div,{initial:{opacity:0,scale:.9},whileHover:{opacity:1,scale:1},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[l==="Amex"?"4 d√≠gitos no verso":"3 d√≠gitos no verso",t.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(q,{type:"text",placeholder:l==="Amex"?"0000":"000",value:s.cvv,onChange:m=>y("cvv",m.target.value),onFocus:()=>i("cvc"),onBlur:()=>i(""),maxLength:l==="Amex"?4:3,className:R("h-14 text-lg font-mono pr-12 transition-all duration-300",c.cvv===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",c.cvv===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")}),t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx(Z,{mode:"wait",children:c.cvv!==null?t.jsx(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:d("cvv")}):t.jsx(Re,{className:"h-5 w-5 text-gray-400"})})})]}),a.cvv&&t.jsxs(v.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[t.jsx(ee,{className:"h-3 w-3"}),a.cvv]})]})]})]}),t.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-3 p-4 md:p-5 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-2xl border-2 border-green-200 dark:border-green-800",children:[t.jsx(v.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(Ft,{className:"h-6 w-6 text-green-600 dark:text-green-400 flex-shrink-0"})}),t.jsx("p",{className:"text-xs md:text-sm text-green-700 dark:text-green-300 font-semibold",children:"üîí Seus dados est√£o protegidos com criptografia SSL de 256 bits"})]})]})},bn=({boletoData:e,theme:r={}})=>{const[a,s]=j.useState(!1),[n,o]=j.useState(0);j.useEffect(()=>{if(!(e!=null&&e.dueDate))return;(()=>{const C=new Date;C.setHours(0,0,0,0);const y=new Date(e.dueDate);y.setHours(0,0,0,0);const f=y.getTime()-C.getTime(),d=Math.ceil(f/(1e3*60*60*24));o(d)})()},[e==null?void 0:e.dueDate]);const i=async()=>{if(e!=null&&e.digitableLine)try{await navigator.clipboard.writeText(e.digitableLine),s(!0),setTimeout(()=>s(!1),3e3)}catch(w){console.error("Erro ao copiar c√≥digo:",w)}},l=()=>{if(e!=null&&e.boletoUrl)window.open(e.boletoUrl,"_blank");else if(e!=null&&e.pdf){const w=document.createElement("a");w.href=e.pdf,w.download=`boleto-${Date.now()}.pdf`,document.body.appendChild(w),w.click(),document.body.removeChild(w)}},x=()=>{if(e!=null&&e.boletoUrl){const w=window.open(e.boletoUrl,"_blank");w==null||w.print()}},c=w=>new Date(w).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),u=w=>w.replace(/^(\d{5})(\d{5})(\d{5})(\d{6})(\d{5})(\d{6})(\d)(\d{14})$/,"$1.$2 $3.$4 $5.$6 $7 $8");if(!e)return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 dark:bg-orange-900/20 mb-4",children:t.jsx(wt,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 animate-pulse"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:r.headingColor},children:"Gerando boleto..."}),t.jsx("p",{className:"text-sm opacity-70",style:{color:r.textColor},children:"Aguarde enquanto preparamos seu boleto banc√°rio"})]});const h=n<0,b=n<=3&&n>=0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:R("flex items-center justify-between p-4 rounded-xl border-2 transition-all",h?"bg-red-50 border-red-200 dark:bg-red-950/20 dark:border-red-800":b?"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20 dark:border-yellow-800":"bg-blue-50 border-blue-200 dark:bg-blue-950/20 dark:border-blue-800"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Dr,{className:R("h-6 w-6",h?"text-red-600 dark:text-red-400":b?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400")}),t.jsxs("div",{children:[t.jsx("p",{className:R("text-sm font-medium",h?"text-red-700 dark:text-red-300":b?"text-yellow-700 dark:text-yellow-300":"text-blue-700 dark:text-blue-300"),children:h?"Vencido":b?"Vence em breve":"Vencimento"}),t.jsx("p",{className:R("text-lg font-bold",h?"text-red-800 dark:text-red-200":b?"text-yellow-800 dark:text-yellow-200":"text-blue-800 dark:text-blue-200"),children:c(e.dueDate)})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm opacity-70",style:{color:r.textColor},children:"Valor"}),t.jsxs("p",{className:"text-xl font-bold",style:{color:r.headingColor},children:["R$ ",e.amount.toFixed(2)]})]})]}),t.jsx(K,{className:"overflow-hidden border-2",children:t.jsx(J,{className:"p-8",children:t.jsxs("div",{className:"text-center space-y-6",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 mb-2",children:t.jsx(wt,{className:"h-8 w-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:r.headingColor},children:"Boleto Banc√°rio"}),t.jsx("p",{className:"text-sm opacity-70",style:{color:r.textColor},children:"Pague em qualquer banco, lot√©rica ou internet banking"})]}),t.jsxs("div",{className:"py-6 px-4 bg-white dark:bg-gray-900 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[t.jsx("div",{className:"flex justify-center items-end gap-[2px] h-20",children:e.barcode.split("").map((w,C)=>{const y=[60,80,70,90,75,85,65,95,70,80],f=y[parseInt(w)%y.length];return t.jsx("div",{className:"w-1 bg-black dark:bg-white",style:{height:`${f}%`}},C)})}),t.jsx("p",{className:"text-xs font-mono mt-3 text-gray-500 dark:text-gray-400",children:e.barcode})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs(he,{onClick:l,variant:"outline",className:"gap-2 h-12 font-semibold",disabled:!e.boletoUrl&&!e.pdf,children:[t.jsx(Vr,{className:"h-4 w-4"}),"Baixar Boleto"]}),t.jsxs(he,{onClick:x,variant:"outline",className:"gap-2 h-12 font-semibold",disabled:!e.boletoUrl,children:[t.jsx(zr,{className:"h-4 w-4"}),"Imprimir"]})]})]})})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-medium block",style:{color:r.textColor},children:"Linha digit√°vel (para pagar no internet banking):"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"px-4 py-4 bg-gray-50 dark:bg-gray-900 rounded-lg border",style:{color:r.textColor},children:t.jsx("code",{className:"text-sm font-mono block text-center",children:u(e.digitableLine)})}),t.jsx(he,{onClick:i,className:"w-full gap-2 h-12 font-semibold",style:{backgroundColor:r.primaryButtonBackgroundColor,color:r.primaryButtonTextColor},children:a?t.jsxs(t.Fragment,{children:[t.jsx(Ee,{className:"h-4 w-4"}),"C√≥digo Copiado!"]}):t.jsxs(t.Fragment,{children:[t.jsx(at,{className:"h-4 w-4"}),"Copiar C√≥digo"]})})]})]}),t.jsx(K,{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 border-orange-200 dark:border-orange-800",children:t.jsx(J,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",style:{color:r.headingColor},children:[t.jsx(Fr,{className:"h-5 w-5"}),"Como pagar o boleto:"]}),t.jsxs("ol",{className:"space-y-3 text-sm",style:{color:r.textColor},children:[t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"1"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Baixe ou imprima"})," o boleto usando os bot√µes acima"]})]}),t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"2"}),t.jsxs("span",{children:["Pague no ",t.jsx("strong",{children:"banco"}),", ",t.jsx("strong",{children:"lot√©rica"})," ou"," ",t.jsx("strong",{children:"internet banking"})," at√© a data de vencimento"]})]}),t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"3"}),t.jsxs("span",{children:["No internet banking, use a"," ",t.jsx("strong",{children:"linha digit√°vel"})," acima"]})]}),t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"4"}),t.jsxs("span",{children:["A confirma√ß√£o do pagamento pode levar at√©"," ",t.jsx("strong",{children:"2 dias √∫teis"})]})]})]})]})})}),h&&t.jsx(K,{className:"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800",children:t.jsx(J,{className:"p-6",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(ee,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium mb-1",children:"Boleto Vencido"}),t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Este boleto est√° vencido. Para pag√°-lo, voc√™ precisar√° gerar uma segunda via ou entrar em contato com o suporte."})]})]})})}),b&&!h&&t.jsx(K,{className:"bg-yellow-50 dark:bg-yellow-950/20 border-yellow-200 dark:border-yellow-800",children:t.jsx(J,{className:"p-6",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(ee,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 font-medium mb-1",children:"Vencimento Pr√≥ximo"}),t.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Seu boleto vence em ",n," ",n===1?"dia":"dias",". N√£o se esque√ßa de pag√°-lo para evitar juros."]})]})]})})})]})},Cn={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},wn=({paymentMethod:e,setPaymentMethod:r,cardData:a,setCardData:s,pixData:n,boletoData:o,installments:i,setInstallments:l,finalTotal:x,cardErrors:c={},getDiscountInfoForMethod:u,theme:h})=>{const b=[{id:"PIX",icon:nt,label:"PIX",description:"Aprova√ß√£o instant√¢nea",gradient:"from-green-400 via-emerald-500 to-teal-600"},{id:"CREDIT_CARD",icon:ye,label:"Cart√£o de Cr√©dito",description:"Parcele em at√© 12x",gradient:"from-purple-500 via-indigo-500 to-blue-500"},{id:"BOLETO",icon:yt,label:"Boleto Banc√°rio",description:"Vencimento em 3 dias",gradient:"from-orange-400 via-amber-500 to-yellow-600"}];return t.jsx(v.div,{...Cn,children:t.jsx(K,{style:{backgroundColor:h.cardBackgroundColor,borderColor:h.cardBorderColor,borderRadius:h.cardBorderRadius,boxShadow:h.cardShadow},children:t.jsxs(J,{className:"p-5 md:p-6 space-y-5",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-1 flex items-center gap-2",style:{color:h.headingColor},children:[t.jsx(ye,{className:"w-6 h-6"}),"Forma de Pagamento"]}),t.jsx("p",{className:"text-sm opacity-75",style:{color:h.textColor},children:"Escolha como deseja pagar"})]}),t.jsx("div",{className:"grid gap-3",children:b.map((w,C)=>{const y=u==null?void 0:u(w.id),f=e===w.id,d=w.icon;return t.jsxs(v.button,{type:"button",onClick:()=>r(w.id),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},whileHover:{scale:1.02},whileTap:{scale:.98},className:R("p-4 md:p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 md:gap-4 relative overflow-hidden group",f&&"shadow-xl"),style:{borderColor:f?h.primaryButtonBackgroundColor:h.inputBorderColor,backgroundColor:f?`${h.primaryButtonBackgroundColor}15`:h.inputBackgroundColor},children:[f&&t.jsx(v.div,{className:R("absolute inset-0 bg-gradient-to-r opacity-10",w.gradient),initial:{opacity:0},animate:{opacity:.1},transition:{duration:.3}}),y&&t.jsx(v.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:t.jsx(Nr,{className:"absolute -top-2 -right-2 bg-green-500 hover:bg-green-600 text-white text-xs px-2 py-0.5 shadow-lg",children:y.label})}),t.jsx("div",{className:R("flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center transition-all",f&&"bg-white/10"),children:t.jsx(d,{className:"h-6 w-6 md:h-6 md:w-6",style:{color:f?h.primaryButtonBackgroundColor:h.textColor}})}),t.jsxs("div",{className:"flex-1 relative z-10",children:[t.jsx("div",{className:"font-semibold text-base md:text-base mb-0.5",style:{color:f?h.primaryButtonBackgroundColor:h.headingColor},children:w.label}),t.jsx("div",{className:"text-xs md:text-sm opacity-75",children:y?`${w.description} + ${y.label}`:w.description})]}),f&&t.jsx(v.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:t.jsx(Ot,{className:"h-6 w-6 md:h-6 md:w-6 flex-shrink-0",style:{color:h.stepCompletedColor}})})]},w.id)})}),t.jsxs(Z,{mode:"wait",children:[e==="CREDIT_CARD"&&t.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[t.jsx(yn,{onCardDataChange:s,theme:h,errors:c}),x>0&&t.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[t.jsxs(F,{htmlFor:"installments",className:"flex items-center gap-2",style:{color:h.labelColor,fontWeight:h.labelFontWeight},children:[t.jsx(ye,{className:"w-4 h-4"}),"N√∫mero de Parcelas"]}),t.jsx("select",{id:"installments",value:i,onChange:w=>l(Number(w.target.value)),className:"w-full mt-1.5 px-4 rounded-lg text-base transition-all duration-300 hover:border-blue-500",style:{backgroundColor:h.inputBackgroundColor,borderColor:h.inputBorderColor,height:48,borderRadius:h.inputBorderRadius,borderWidth:1,borderStyle:"solid",color:h.textColor},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(w=>{const C=x/w;return t.jsxs("option",{value:w,children:[w,"x de R$ ",C.toFixed(2),w===1?" √† vista":""]},w)})})]})]},"credit-card"),e==="PIX"&&t.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n?t.jsx(Fa,{pixData:n,theme:h}):t.jsxs(v.div,{className:"text-center py-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-green-100 to-emerald-100 dark:bg-green-900/20 mb-4",children:t.jsx(nt,{className:"h-8 w-8 text-green-600 dark:text-green-400 animate-pulse"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:h.headingColor},children:'Clique em "Finalizar Compra" para gerar o PIX'}),t.jsx("p",{className:"text-sm opacity-70",style:{color:h.textColor},children:"Voc√™ receber√° o QR Code para pagamento instant√¢neo"})]})},"pix"),e==="BOLETO"&&t.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o?t.jsx(bn,{boletoData:o,theme:h}):t.jsxs(v.div,{className:"text-center py-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-100 to-amber-100 dark:bg-orange-900/20 mb-4",children:t.jsx(yt,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 animate-pulse"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:h.headingColor},children:'Clique em "Finalizar Compra" para gerar o Boleto'}),t.jsx("p",{className:"text-sm opacity-70",style:{color:h.textColor},children:"Voc√™ poder√° baixar e imprimir o boleto banc√°rio"})]})},"boleto")]})]})})})},es=({injectedOrderId:e,injectedTheme:r,previewMode:a=!1})=>{const{orderId:s}=kr(),n=e||s||null,o=Er(),{toast:i}=lt(),[l,x]=j.useState(null),[c,u]=j.useState(null),[h,b]=j.useState(null),[w,C]=j.useState(!0),[y,f]=j.useState(!1),[d,m]=j.useState(1),[g,N]=j.useState({name:"",email:"",phone:"",document:""}),[p,k]=j.useState({street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""}),[E,A]=j.useState("PIX"),[P,S]=j.useState(1),[B,D]=j.useState(null),[le,Te]=j.useState(null),[He,mt]=j.useState(null),[dr,jn]=j.useState({}),M=r?xt(r):h!=null&&h.theme?xt(h.theme):Sr,{calculation:pt,getDiscountInfoForMethod:ur}=qr({userId:(c==null?void 0:c.userId)||null,paymentMethod:E,purchaseAmount:(l==null?void 0:l.subtotal)||0}),pe=pt.hasDiscount?pt.finalTotal+((l==null?void 0:l.shipping)||0)+((l==null?void 0:l.tax)||0):(l==null?void 0:l.total)||0,{initialized:fe,trackPageView:mr,trackInitiateCheckout:pr,trackAddPaymentInfo:fr,trackPurchase:gr}=Ur((c==null?void 0:c.userId)||null),{markAsRecovered:ft}=Hr({orderId:n,currentStep:d,customerData:g,addressData:p,checkoutData:l,userId:(c==null?void 0:c.userId)||null});j.useEffect(()=>{n&&hr()},[n]);const hr=async()=>{var O;try{C(!0);const{data:T,error:xe}=await ae.from("Order").select("*").eq("id",n).single();if(xe||!T)throw new Error("Pedido n√£o encontrado");const Be=Array.isArray(T.items)?T.items:[],_e=Array.isArray((O=T.metadata)==null?void 0:O.originalProducts)?T.metadata.originalProducts:[],_={orderId:T.id,products:Be.map(V=>{const L=_e.find(H=>(H==null?void 0:H.variantId)&&String(H.variantId)===String(V.variantId)||(H==null?void 0:H.productId)&&String(H.productId)===String(V.productId)||(H==null?void 0:H.id)&&(String(H.id)===String(V.productId)||String(H.id)===String(V.id)));return{id:V.productId||V.id,name:V.name||(L==null?void 0:L.name)||(L==null?void 0:L.title)||"Produto",price:Number(V.price)||0,quantity:Number(V.quantity)||1,image:V.image||(L==null?void 0:L.image)||(Array.isArray(L==null?void 0:L.images)?L.images[0]:"")||"",sku:V.sku||(L==null?void 0:L.sku)||""}}),total:Number(T.total)||0,subtotal:Number(T.subtotal)||0,tax:Number(T.tax)||0,shipping:Number(T.shipping)||0,discount:Number(T.discount)||0,items:Be};if(x(_),u(T),!a&&T.userId)try{const V=await Tr.loadCustomization(T.userId);V&&b(V)}catch{console.log("Usando tema padr√£o")}}catch(T){console.error("Erro ao carregar checkout:",T),i({title:"Erro ao carregar checkout",description:T.message||"Tente novamente mais tarde",variant:"destructive"})}finally{C(!1)}};j.useEffect(()=>{fe&&c&&mr()},[fe,c]),j.useEffect(()=>{fe&&d===3&&l&&pr(pe,l.items||[])},[fe,d,pe,l]),j.useEffect(()=>{fe&&E&&d===3&&fr(pe,E)},[fe,E,pe,d]),j.useEffect(()=>{const O=localStorage.getItem(`checkout-${s}`);if(O)try{const T=JSON.parse(O);T.currentStep&&m(T.currentStep),T.customerData&&N(T.customerData),T.addressData&&k(T.addressData),T.paymentMethod&&A(T.paymentMethod),T.pixData&&Te(T.pixData),T.boletoData&&mt(T.boletoData)}catch(T){console.error("Erro ao recuperar estado:",T)}},[s]),j.useEffect(()=>{if(s){const O={currentStep:d,customerData:g,addressData:p,paymentMethod:E,pixData:le,boletoData:He,savedAt:new Date().toISOString()};localStorage.setItem(`checkout-${s}`,JSON.stringify(O))}},[d,g,p,E,le,He,s]);const gt=O=>{if(O===1){if(!g.name||!g.email||!g.phone)return i({title:"Dados incompletos",description:"Preencha todos os campos obrigat√≥rios",variant:"destructive"}),!1;if(M.requestCpfOnlyAtPayment===!1&&!g.document)return i({title:"CPF obrigat√≥rio",description:"Por favor, informe seu CPF",variant:"destructive"}),!1}return O===2&&(!p.zipCode||!p.street||!p.number||!p.neighborhood||!p.city||!p.state)?(i({title:"Endere√ßo incompleto",description:"Preencha todos os campos obrigat√≥rios",variant:"destructive"}),!1):!0},xr=()=>{gt(d)&&(m(d+1),window.scrollTo({top:0,behavior:"smooth"}))},vr=()=>{m(d-1),window.scrollTo({top:0,behavior:"smooth"})},yr=async()=>{var O,T;if(gt(d))try{f(!0);const xe=E.toLowerCase();if(E==="CREDIT_CARD"&&(!B||!B.number||!B.holderName||!B.cvv)){i({title:"Dados do cart√£o incompletos",description:"Por favor, preencha todos os dados do cart√£o.",variant:"destructive"}),f(!1);return}const Be=E==="CREDIT_CARD"&&B?{number:B.number.replace(/\s/g,""),holderName:B.holderName,expiryMonth:B.expiryMonth,expiryYear:B.expiryYear,cvv:B.cvv}:void 0,{error:_e}=await ae.from("Order").update({customerName:g.name,customerEmail:g.email,customerPhone:g.phone,customerCpf:jt(g.document),shippingAddress:{street:p.street,number:p.number,complement:p.complement||"",neighborhood:p.neighborhood,city:p.city,state:p.state,zipCode:p.zipCode,country:"BR"},billingAddress:{street:p.street,number:p.number,complement:p.complement||"",neighborhood:p.neighborhood,city:p.city,state:p.state,zipCode:p.zipCode,country:"BR"},paymentMethod:E,updatedAt:new Date().toISOString()}).eq("id",n);if(_e){console.error("Erro ao atualizar pedido:",_e),i({title:"Erro ao salvar dados",description:"N√£o foi poss√≠vel salvar os dados do pedido",variant:"destructive"}),f(!1);return}const{data:_,error:V}=await ae.functions.invoke("process-payment",{body:{userId:c==null?void 0:c.userId,orderId:n,amount:(l==null?void 0:l.total)||0,currency:"BRL",paymentMethod:xe,customer:{name:g.name,email:g.email,document:jt(g.document),phone:g.phone},billingAddress:{street:p.street,number:p.number,complement:p.complement,neighborhood:p.neighborhood,city:p.city,state:p.state,zipCode:p.zipCode},card:Be,installments:E==="CREDIT_CARD"?P:1}});if(!(_!=null&&_.success)){if(_!=null&&_.requiresSetup||(_==null?void 0:_.error)==="NO_GATEWAY_CONFIGURED"){i({title:"Gateway n√£o configurado",description:(_==null?void 0:_.hint)||"Configure um gateway de pagamento primeiro",variant:"destructive",duration:1e4}),f(!1);return}throw new Error((_==null?void 0:_.message)||(_==null?void 0:_.error)||"Erro ao processar pagamento")}if(V)throw V;try{await ae.functions.invoke("sync-order-to-shopify",{body:{orderId:n,userId:c==null?void 0:c.userId}})}catch(L){console.warn("Erro ao sincronizar Shopify (n√£o-cr√≠tico):",L)}if(_.success)if(fe&&gr(n,pe,(l==null?void 0:l.items)||[],{email:g.email,phone:g.phone,firstName:(O=g.name)==null?void 0:O.split(" ")[0],lastName:(T=g.name)==null?void 0:T.split(" ").slice(1).join(" "),city:p.city,state:p.state,zipCode:p.zipCode,country:"BR"}),ft&&await ft(),E==="CREDIT_CARD")i({title:"Pagamento processado!",description:"Redirecionando..."}),setTimeout(()=>{o(`/checkout/success/${_.transactionId||n}`)},1500);else if(E==="PIX"&&_.pixData){const L={qrCode:_.pixData.qrCode||"",qrCodeBase64:_.pixData.qrCodeBase64||"",expiresAt:_.pixData.expiresAt||"",amount:(l==null?void 0:l.total)||0,transactionId:_.transactionId||""};localStorage.setItem(`pix-${n}`,JSON.stringify(L)),i({title:"PIX gerado!",description:"Redirecionando..."}),setTimeout(()=>{o(`/pix/${n}/${_.transactionId}`)},1e3)}else E==="BOLETO"&&_.boletoData&&(mt(_.boletoData),localStorage.setItem(`boleto-${n}`,JSON.stringify(_.boletoData)),i({title:"Boleto gerado!",description:"Baixe o boleto."}))}catch(xe){console.error("Erro ao processar checkout:",xe),i({title:"Erro ao processar pagamento",description:xe.message||"Tente novamente mais tarde",variant:"destructive"})}finally{f(!1)}};return w?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(et,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-blue-600"}),t.jsx("p",{className:"text-lg font-medium text-slate-700",children:"Carregando checkout..."})]})}):l?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-lg border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 py-4 max-w-6xl",children:t.jsxs("div",{className:"flex items-center justify-between",children:[M.logoUrl?t.jsx("img",{src:M.logoUrl,alt:"Logo",className:"h-10 object-contain"}):t.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Checkout Seguro"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[t.jsx(bt,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"hidden sm:inline",children:"Compra 100% Segura"})]})]})})}),M.noticeBarEnabled&&M.noticeBarMessage&&t.jsx(v.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"py-2 px-4 text-center text-sm font-medium",style:{backgroundColor:M.noticeBarBackgroundColor,color:M.noticeBarTextColor},children:M.noticeBarMessage}),t.jsx(Qr,{currentStep:d,theme:M}),t.jsx("main",{className:"container mx-auto px-4 py-8 max-w-6xl",children:t.jsxs("div",{className:"grid lg:grid-cols-[1fr_420px] gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Z,{mode:"wait",children:[d===1&&t.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:t.jsx(ua,{customerData:g,setCustomerData:N,theme:M})},"step1"),d===2&&t.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:t.jsx(ga,{addressData:p,setAddressData:k,theme:M})},"step2"),d===3&&t.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:t.jsx(wn,{paymentMethod:E,setPaymentMethod:A,cardData:B,setCardData:D,pixData:le,boletoData:He,installments:P,setInstallments:S,finalTotal:pe,cardErrors:dr,getDiscountInfoForMethod:ur,theme:M})},"step3")]}),t.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-4",children:[d>1&&t.jsxs(he,{variant:"outline",onClick:vr,className:"flex-1 h-14 text-base font-semibold border-2",style:{borderColor:M.inputBorderColor},children:[t.jsx($r,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d<3?t.jsxs(he,{onClick:xr,className:R("flex-1 h-14 text-base font-bold shadow-lg hover:shadow-xl transition-all",d===1&&"w-full"),style:{backgroundColor:M.primaryButtonBackgroundColor,color:M.primaryButtonTextColor},children:["Continuar",t.jsx(Pr,{className:"w-5 h-5 ml-2"})]}):t.jsx(he,{onClick:yr,disabled:y||a,className:"flex-1 h-14 text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-xl hover:shadow-2xl transition-all",children:y?t.jsxs(t.Fragment,{children:[t.jsx(et,{className:"w-5 h-5 animate-spin mr-2"}),"Processando..."]}):a?t.jsxs(t.Fragment,{children:[t.jsx(Re,{className:"w-5 h-5 mr-2"}),"Preview Mode"]}):t.jsxs(t.Fragment,{children:[t.jsx(Re,{className:"w-5 h-5 mr-2"}),"Finalizar Compra"]})})]})]}),t.jsx("div",{className:"hidden lg:block",children:t.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"sticky top-24",children:t.jsx(K,{className:"shadow-2xl border-2",style:{borderColor:M.highlightedBorderColor},children:t.jsxs(J,{className:"p-6",children:[t.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",style:{color:M.headingColor},children:[t.jsx(Ct,{className:"w-5 h-5"}),"Resumo do Pedido"]}),t.jsx("div",{className:"space-y-4 mb-6",children:l.products.map((O,T)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-16 h-16 rounded-lg bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:O.image?t.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):t.jsx(Ct,{className:"w-8 h-8 text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-sm truncate",style:{color:M.headingColor},children:O.name}),t.jsxs("p",{className:"text-xs text-slate-600",children:["Qtd: ",O.quantity]})]}),t.jsxs("p",{className:"font-bold text-sm",style:{color:M.headingColor},children:["R$ ",(O.price*O.quantity).toFixed(2)]})]},T))}),t.jsx(ht,{className:"my-4"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["R$ ",l.subtotal.toFixed(2)]})]}),l.shipping>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Frete"}),t.jsxs("span",{children:["R$ ",l.shipping.toFixed(2)]})]}),t.jsx(ht,{className:"my-2"}),t.jsxs("div",{className:"flex justify-between items-center pt-2",children:[t.jsx("span",{className:"text-lg font-bold",style:{color:M.headingColor},children:"Total"}),t.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["R$ ",pe.toFixed(2)]})]})]}),M.showTrustBadges&&t.jsxs("div",{className:"mt-6 pt-6 border-t space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[t.jsx(bt,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{children:"Compra 100% Segura"})]}),M.sslBadgeEnabled&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[t.jsx(Re,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{children:"Certificado SSL"})]})]})]})})})})]})}),t.jsx(Wr,{userId:(c==null?void 0:c.userId)||null,position:"bottom-left"}),M.showFooter&&t.jsx("footer",{className:"border-t bg-white/50 backdrop-blur-sm mt-16 py-8",children:t.jsx("div",{className:"container mx-auto px-4 max-w-6xl text-center text-sm text-slate-600",children:t.jsxs("p",{children:["¬© ",new Date().getFullYear()," - Todos os direitos reservados"]})})})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:t.jsxs(Lt,{variant:"destructive",className:"max-w-md",children:[t.jsx(ee,{className:"h-4 w-4"}),t.jsx(Dt,{children:"Pedido n√£o encontrado. Verifique o link e tente novamente."})]})})};export{es as default};
