import{s as O,c as Xe,r as k,j as e,l as D,b as ft,M as y,d as J,h as Z,_ as lt,I as H,C as we,i as ct,a5 as Ht,a7 as Ir,K as se,B as oe,R as F,as as Ar,am as Rr,an as _r,n as Fr,m as Mr,a as Dr,at as Or,a6 as Lr}from"./index-pv9-bCb3.js";import{S as le}from"./separator-BeLd8iFs.js";import{A as Gt,a as Wt}from"./alert-B43C6rBc.js";import{X as Qt}from"./x-DbzY-YeI.js";import{S as Pt}from"./shopping-bag-Y98h4ULr.js";import{S as $r}from"./star-DOM3_J40.js";import{U as Vr}from"./users-CaUZ3yuZ.js";import{L as z}from"./label-CQc93LhS.js";import{C as re}from"./circle-alert-BPS1f2Xw.js";import{M as zr}from"./mail-DYP9QFby.js";import{P as qr}from"./phone-LzjWidO-.js";import{M as St}from"./map-pin-veKCxWUi.js";import{p as Xt}from"./index-DEi41wil.js";import{Q as et,S as dt}from"./smartphone-DcvmCUKQ.js";import{S as ut}from"./sparkles-BDB7BJqD.js";import{C as Ur}from"./clock-ChbfK8Zb.js";import{C as mt}from"./copy-Bb4h_PaZ.js";import{Z as Hr}from"./zap-oAIump9f.js";import{S as Yt}from"./shield-CHwiDhv_.js";import{C as be}from"./credit-card-BC7kHNq8.js";import{L as Be}from"./lock-CAOkHHzr.js";import{C as Gr}from"./circle-check-BDxkNeMC.js";import{C as Wr}from"./calendar-CPDyfsFN.js";import{D as Qr}from"./download-yHVlzAR2.js";import{E as Xr}from"./external-link-CAKjyOOS.js";import{F as Tt}from"./file-text-Dm9c07Bb.js";import{T as Yr}from"./truck-CbC0Vo2Z.js";import{P as Le}from"./package-Dm3fgyQf.js";import{T as Kr}from"./tag-PVz8hTmO.js";import{S as tt}from"./shield-check-C7fbB0M6.js";const Jr={async saveCustomization(t){try{const{data:r,error:a}=await O.from("CheckoutCustomization").upsert({...t,updatedAt:new Date().toISOString()}).select().single();if(a)throw a;return r}catch(r){throw console.error("Error saving checkout customization:",r),r}},async loadCustomization(t){try{const{data:r,error:a}=await O.from("CheckoutCustomization").select("*").eq("userId",t).eq("isActive",!0).single();if(a&&a.code!=="PGRST116")throw a;return r}catch(r){throw console.error("Error loading checkout customization:",r),r}},async listCustomizations(t){try{const{data:r,error:a}=await O.from("CheckoutCustomization").select("*").eq("userId",t).order("createdAt",{ascending:!1});if(a)throw a;return r}catch(r){throw console.error("Error listing checkout customizations:",r),r}},async activateCustomization(t){try{const r=await O.from("CheckoutCustomization").select("userId").eq("id",t).single();r.data&&await O.from("CheckoutCustomization").update({isActive:!1}).eq("userId",r.data.userId);const{data:a,error:s}=await O.from("CheckoutCustomization").update({isActive:!0,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return a}catch(r){throw console.error("Error activating checkout customization:",r),r}},async deleteCustomization(t){try{const{error:r}=await O.from("CheckoutCustomization").delete().eq("id",t);if(r)throw r}catch(r){throw console.error("Error deleting checkout customization:",r),r}},async duplicateCustomization(t,r){try{const{data:a,error:s}=await O.from("CheckoutCustomization").select("*").eq("id",t).single();if(s)throw s;const{data:o,error:i}=await O.from("CheckoutCustomization").insert({userId:a.userId,name:r,theme:a.theme,isActive:!1}).select().single();if(i)throw i;return o}catch(a){throw console.error("Error duplicating checkout customization:",a),a}},async generatePreviewUrl(t){try{const{data:r,error:a}=await O.from("CheckoutCustomization").insert({userId:t.userId,name:`Preview-${Date.now()}`,theme:t.theme||{},isActive:!1}).select().single();if(a)throw a;return`/checkout/preview/${r.id}`}catch(r){throw console.error("Error generating preview URL:",r),r}},async exportCustomization(t){try{const{data:r,error:a}=await O.from("CheckoutCustomization").select("*").eq("id",t).single();if(a)throw a;return{name:r.name,theme:r.theme,exportedAt:new Date().toISOString(),version:"1.0"}}catch(r){throw console.error("Error exporting checkout customization:",r),r}},async importCustomization(t,r){try{const{data:a,error:s}=await O.from("CheckoutCustomization").insert({userId:t,name:`${r.name} (Importado)`,theme:r.theme,isActive:!1}).select().single();if(s)throw s;return a}catch(a){throw console.error("Error importing checkout customization:",a),a}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Xe("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Xe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Xe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),ta=({userId:t,paymentMethod:r,purchaseAmount:a})=>{const[s,o]=k.useState(!0),[i,l]=k.useState([]),[n,f]=k.useState(null),[d,m]=k.useState({hasDiscount:!1,discountAmount:0,discountPercentage:0,originalTotal:a,finalTotal:a,discountDescription:"",meetsMinimum:!1,cappedAtMaximum:!1});k.useEffect(()=>{t?g():o(!1)},[t]),k.useEffect(()=>{v()},[r,a,i]);const g=async()=>{if(t)try{o(!0);const{data:c,error:h}=await O.from("PaymentMethodDiscount").select("*").eq("userId",t).eq("isActive",!0);if(h)throw h;l(c||[])}catch(c){console.error("Erro ao carregar descontos:",c),l([])}finally{o(!1)}},v=()=>{const c=i.find(S=>S.paymentMethod===r&&S.isActive);if(!c){f(null),m({hasDiscount:!1,discountAmount:0,discountPercentage:0,originalTotal:a,finalTotal:a,discountDescription:"",meetsMinimum:!1,cappedAtMaximum:!1});return}if(f(c),!(a>=c.minPurchaseAmount)){m({hasDiscount:!1,discountAmount:0,discountPercentage:0,originalTotal:a,finalTotal:a,discountDescription:c.description||"",meetsMinimum:!1,cappedAtMaximum:!1});return}let j=0,B=0;c.discountType==="PERCENTAGE"?(B=c.discountValue,j=a*c.discountValue/100):(j=c.discountValue,B=c.discountValue/a*100);let w=!1;c.maxDiscountAmount&&j>c.maxDiscountAmount&&(j=c.maxDiscountAmount,B=c.maxDiscountAmount/a*100,w=!0),j>a&&(j=a);const E=Math.max(0,a-j);m({hasDiscount:!0,discountAmount:j,discountPercentage:B,originalTotal:a,finalTotal:E,discountDescription:c.description||"",meetsMinimum:!0,cappedAtMaximum:w})};return{loading:s,discounts:i,activeDiscount:n,calculation:d,getDiscountLabel:()=>n?n.discountType==="PERCENTAGE"?`${n.discountValue.toFixed(0)}% de desconto`:`R$ ${n.discountValue.toFixed(2)} de desconto`:"",hasDiscountForMethod:c=>i.some(h=>h.paymentMethod===c&&h.isActive),getDiscountInfoForMethod:c=>{const h=i.find(B=>B.paymentMethod===c&&B.isActive);if(!h)return null;let j="";return h.discountType==="PERCENTAGE"?j=`${h.discountValue.toFixed(0)}% OFF`:j=`-R$ ${h.discountValue.toFixed(2)}`,{...h,label:j,formattedValue:h.discountType==="PERCENTAGE"?`${h.discountValue}%`:`R$ ${h.discountValue.toFixed(2)}`}},getEstimatedDiscountForMethod:(c,h=a)=>{const j=i.find(w=>w.paymentMethod===c&&w.isActive);if(!j)return 0;let B=0;return j.discountType==="PERCENTAGE"?B=h*j.discountValue/100:B=j.discountValue,j.maxDiscountAmount&&B>j.maxDiscountAmount&&(B=j.maxDiscountAmount),B>h&&(B=h),B},reload:g}};function ra(t){const[r,a]=k.useState([]),[s,o]=k.useState(!0),[i,l]=k.useState(!1);k.useEffect(()=>{if(!t){o(!1);return}n()},[t]);const n=async()=>{try{const{data:w,error:E}=await O.from("PixelConfig").select("*").eq("userId",t).eq("isActive",!0);if(E)throw E;a(w||[]),w&&w.length>0&&f(w)}catch(w){console.error("Erro ao carregar pixels:",w)}finally{o(!1)}},f=w=>{w.forEach(E=>{if(E.isActive)switch(E.platform){case"FACEBOOK":d(E.pixelId);break;case"TIKTOK":m(E.pixelId);break;case"GOOGLE_ADS":g(E.pixelId);break}}),l(!0)},d=w=>{if(typeof window>"u"||window.fbq)return;const E=`
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '${w}');
    `,S=document.createElement("script");S.innerHTML=E,document.head.appendChild(S),console.log("‚úÖ Meta Pixel inicializado:",w)},m=w=>{if(typeof window>"u"||window.ttq)return;const E=`
      !function (w, d, t) {
        w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
        ttq.load('${w}');
        ttq.page();
      }(window, document, 'ttq');
    `,S=document.createElement("script");S.innerHTML=E,document.head.appendChild(S),console.log("‚úÖ TikTok Pixel inicializado:",w)},g=w=>{if(typeof window>"u"||window.gtag)return;const E=document.createElement("script");E.async=!0,E.src=`https://www.googletagmanager.com/gtag/js?id=${w}`,document.head.appendChild(E);const S=document.createElement("script");S.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${w}');
    `,document.head.appendChild(S),console.log("‚úÖ Google Ads inicializado:",w)},v=k.useCallback((w,E={})=>{!i||r.length===0||r.forEach(S=>{if(S.events.includes(w))try{switch(S.platform){case"FACEBOOK":C(w,E);break;case"TIKTOK":b(w,E);break;case"GOOGLE_ADS":x(w,E);break}}catch(_){console.error(`Erro ao disparar evento ${w} no ${S.platform}:`,_)}})},[i,r]),C=(w,E)=>{if(typeof window>"u"||!window.fbq)return;const S=window.fbq,N={page_view:"PageView",add_to_cart:"AddToCart",initiate_checkout:"InitiateCheckout",add_payment_info:"AddPaymentInfo",purchase:"Purchase",view_content:"ViewContent"}[w]||w;S("track",N,E),console.log("üìä Meta Pixel:",N,E)},b=(w,E)=>{if(typeof window>"u"||!window.ttq)return;const S=window.ttq,N={page_view:"ViewContent",add_to_cart:"AddToCart",initiate_checkout:"InitiateCheckout",add_payment_info:"AddPaymentInfo",purchase:"CompletePayment",view_content:"ViewContent"}[w]||w;S.track(N,E),console.log("üìä TikTok Pixel:",N,E)},x=(w,E)=>{if(typeof window>"u"||!window.gtag)return;const S=window.gtag,N={page_view:"page_view",add_to_cart:"add_to_cart",initiate_checkout:"begin_checkout",add_payment_info:"add_payment_info",purchase:"purchase",view_content:"view_item"}[w]||w;S("event",N,E),console.log("üìä Google Ads:",N,E)},p=k.useCallback(()=>{v("page_view",{})},[v]),c=k.useCallback((w,E)=>{v("add_to_cart",{content_ids:[w.id],content_type:"product",content_name:w.name,value:E,currency:"BRL",num_items:1})},[v]),h=k.useCallback((w,E)=>{v("initiate_checkout",{content_ids:E.map(S=>S.id),content_type:"product",value:w,currency:"BRL",num_items:E.length})},[v]),j=k.useCallback((w,E)=>{v("add_payment_info",{value:w,currency:"BRL",payment_type:E})},[v]),B=k.useCallback((w,E,S,_)=>{const N={transaction_id:w,value:E,currency:"BRL",content_ids:S.map(R=>R.id||R.productId),content_type:"product",num_items:S.length};_&&(N.email=_.email,N.phone=_.phone,N.first_name=_.firstName,N.last_name=_.lastName,N.city=_.city,N.state=_.state,N.zip=_.zipCode,N.country=_.country||"BR"),v("purchase",N)},[v]);return{loading:s,initialized:i,pixels:r,trackPageView:p,trackAddToCart:c,trackInitiateCheckout:h,trackAddPaymentInfo:j,trackPurchase:B,firePixelEvent:v}}function aa({orderId:t,currentStep:r,customerData:a,addressData:s,checkoutData:o,userId:i}){const l=k.useRef(null),n=k.useRef(!1),f=k.useRef(Date.now()),d=k.useCallback(()=>!(r!==3||!t||!(a!=null&&a.email)||!a.email.includes("@")||!o||!o.items||o.items.length===0||n.current),[r,t,a,o]),m=k.useCallback(async()=>{if(d()&&!n.current)try{console.log("üõí Detectado abandono de carrinho:",t),n.current=!0;const{data:x}=await O.from("AbandonedCart").select("id").eq("userId",i||"anonymous").eq("cartId",t).single();if(x){console.log("‚ö†Ô∏è Carrinho abandonado j√° registrado");return}const p=Math.floor((Date.now()-f.current)/1e3),c={userId:i||"anonymous",cartId:t,customerId:null,email:a.email,abandonedAt:new Date().toISOString(),recoveryAttempts:0,lastRecoveryAt:null,recoveredAt:null,orderId:t,metadata:{customerData:{name:a.name,phone:a.phone,document:a.document},addressData:s,checkoutData:{items:o.items,subtotal:o.subtotal,total:o.total},abandonmentContext:{currentStep:r,timeOnCheckout:p,abandonedAt:new Date().toISOString(),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`}}},{error:h}=await O.from("AbandonedCart").insert(c);if(h)console.error("‚ùå Erro ao salvar carrinho abandonado:",h),n.current=!1;else{console.log("‚úÖ Carrinho abandonado salvo com sucesso!");try{localStorage.setItem(`abandoned-cart-${t}`,JSON.stringify({...c,savedAt:new Date().toISOString()}))}catch(j){console.warn("N√£o foi poss√≠vel salvar no localStorage:",j)}}}catch(x){console.error("‚ùå Erro ao processar abandono:",x),n.current=!1}},[d,t,i,a,s,o,r]),g=k.useCallback(()=>{l.current&&clearTimeout(l.current),d()&&(l.current=setTimeout(()=>{console.log("‚è∞ Timeout de inatividade atingido"),m()},5*60*1e3))},[d,m]),v=k.useCallback(()=>{if(d()){const x=JSON.stringify({userId:i||"anonymous",orderId:t,email:a.email,abandonedAt:new Date().toISOString()});navigator.sendBeacon&&new Blob([x],{type:"application/json"}),m()}},[d,i,t,a,m]),C=k.useCallback(()=>{document.hidden&&setTimeout(()=>{document.hidden&&d()&&(console.log("üëÅÔ∏è Usu√°rio saiu da aba por tempo prolongado"),m())},2*60*1e3)},[d,m]);return k.useEffect(()=>{if(!d())return;const x=["mousedown","mousemove","keypress","scroll","touchstart","click"],p=()=>{g()};return x.forEach(c=>{window.addEventListener(c,p,{passive:!0})}),window.addEventListener("beforeunload",v),document.addEventListener("visibilitychange",C),g(),()=>{l.current&&clearTimeout(l.current),x.forEach(c=>{window.removeEventListener(c,p)}),window.removeEventListener("beforeunload",v),document.removeEventListener("visibilitychange",C)}},[d,g,v,C]),k.useEffect(()=>{r!==3&&(n.current=!1,l.current&&clearTimeout(l.current))},[r]),{markAsRecovered:k.useCallback(async()=>{if(t)try{const{error:x}=await O.from("AbandonedCart").update({recovered:!0,recoveredAt:new Date().toISOString(),orderId:t}).eq("cartId",t);if(x)console.error("Erro ao marcar como recuperado:",x);else{console.log("‚úÖ Carrinho marcado como recuperado"),n.current=!1;try{localStorage.removeItem(`abandoned-cart-${t}`)}catch(p){console.warn("Erro ao limpar localStorage:",p)}}}catch(x){console.error("Erro ao marcar carrinho como recuperado:",x)}},[t]),isMonitoring:d()}}function oa({userId:t,position:r="bottom-left",className:a}){const[s,o]=k.useState([]),[i,l]=k.useState(null),[n,f]=k.useState(!1),[d,m]=k.useState(!0);k.useEffect(()=>{if(!t){m(!1);return}g()},[t]);const g=async()=>{try{const{data:h,error:j}=await O.from("SocialProof").select("*").eq("userId",t).eq("isActive",!0).order("createdAt",{ascending:!1});if(j)throw j;h&&h.length>0&&(o(h),console.log("‚úÖ Provas sociais carregadas:",h.length))}catch(h){console.error("Erro ao carregar provas sociais:",h)}finally{m(!1)}};k.useEffect(()=>{if(s.length===0||d)return;const h=setTimeout(()=>{v()},5e3),j=setInterval(()=>{v()},15e3);return()=>{clearTimeout(h),clearInterval(j)}},[s,d]);const v=()=>{if(s.length===0)return;const h=Math.floor(Math.random()*s.length),j=s[h];l(j),f(!0),setTimeout(()=>{C()},j.displayDuration*1e3)},C=()=>{f(!1),setTimeout(()=>{l(null)},300)},b=()=>{C()};if(!i||s.length===0)return null;const x=()=>{switch(i.type){case"RECENT_PURCHASE":return e.jsx(Pt,{className:"h-5 w-5 text-green-600"});case"VISITOR_COUNT":return e.jsx(Vr,{className:"h-5 w-5 text-blue-600"});case"REVIEW":return e.jsx($r,{className:"h-5 w-5 text-yellow-600 fill-yellow-600"});default:return e.jsx(Pt,{className:"h-5 w-5 text-gray-600"})}},p=()=>{switch(i.type){case"RECENT_PURCHASE":return"bg-green-50 border-green-200";case"VISITOR_COUNT":return"bg-blue-50 border-blue-200";case"REVIEW":return"bg-yellow-50 border-yellow-200";default:return"bg-white border-gray-200"}},c=()=>{switch(r){case"bottom-left":return"bottom-4 left-4";case"bottom-right":return"bottom-4 right-4";case"top-left":return"top-4 left-4";case"top-right":return"top-4 right-4";default:return"bottom-4 left-4"}};return e.jsxs("div",{className:D("fixed z-50 max-w-sm transition-all duration-300 ease-in-out",c(),n?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-2 scale-95 pointer-events-none",a),children:[e.jsxs(Gt,{className:D("shadow-lg border-2 relative pr-10",p()),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:x()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(Wt,{className:"text-sm text-gray-800 font-medium",children:i.message})})]}),e.jsx("button",{onClick:b,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/5 transition-colors","aria-label":"Fechar notifica√ß√£o",children:e.jsx(Qt,{className:"h-4 w-4 text-gray-500"})}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-800/20 rounded-b-lg animate-progress",style:{animation:`progress ${i.displayDuration}s linear`}})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes progress {
          from {
            width: 100%;
          }
          to {
            width: 0%;
          }
        }
      `})]})}const Jt=t=>{const r=t.replace(/\D/g,"");return r.length<=5?r:`${r.slice(0,5)}-${r.slice(5,8)}`},Zt=t=>t.replace(/\D/g,""),sa=t=>Zt(t).length===8,na=async t=>{const r=Zt(t);if(!sa(r))throw new Error("CEP inv√°lido. Deve conter 8 d√≠gitos.");try{const a=await fetch(`https://viacep.com.br/ws/${r}/json/`);if(!a.ok)throw new Error("Erro ao buscar CEP");const s=await a.json();return s.erro?null:{street:s.logradouro||"",neighborhood:s.bairro||"",city:s.localidade||"",state:s.uf||"",zipCode:Jt(r)}}catch(a){throw console.error("Erro ao buscar CEP:",a),a}},er={logoUrl:"",faviconUrl:"",logoAlignment:"left",showLogoAtTop:!0,logoWidth:180,logoHeight:50,backgroundColor:"#F9FAFB",backgroundGradient:"linear-gradient(180deg, #F9FAFB 0%, #F3F4F6 100%)",useGradient:!1,textColor:"#1F2937",headingColor:"#111827",noticeBarEnabled:!0,noticeBarMessage:"üéâ FRETE GR√ÅTIS para todo o Brasil em compras acima de R$ 199!",noticeBarBackgroundColor:"#1F2937",noticeBarTextColor:"#FFFFFF",noticeBarAnimation:!0,bannerEnabled:!1,bannerUrl:"",bannerHeight:200,cartDisplay:"drawer",cartBorderColor:"#E5E7EB",cartBackgroundColor:"#FFFFFF",quantityCircleColor:"#8B5CF6",quantityTextColor:"#FFFFFF",showCartIcon:!0,showCartReminder:!0,allowCouponEdit:!0,navigationSteps:3,nextStepStyle:"rounded",showProgressBar:!0,progressBarColor:"#8B5CF6",stepActiveColor:"#8B5CF6",stepInactiveColor:"#D1D5DB",stepCompletedColor:"#10B981",primaryButtonBackgroundColor:"#8B5CF6",primaryButtonTextColor:"#FFFFFF",primaryButtonBorderRadius:12,primaryButtonHover:!0,primaryButtonHoverColor:"#7C3AED",primaryButtonFlow:!0,primaryButtonShadow:!0,checkoutButtonBackgroundColor:"#10B981",checkoutButtonTextColor:"#FFFFFF",checkoutButtonBorderRadius:14,checkoutButtonHover:!0,checkoutButtonHoverColor:"#059669",checkoutButtonFlow:!0,checkoutButtonShadow:!0,checkoutButtonPulse:!0,highlightedBorderColor:"#8B5CF6",highlightedBorderTextColor:"#FFFFFF",highlightedBorderWidth:2,footerBackgroundColor:"#F3F4F6",footerTextColor:"#6B7280",showStoreName:!0,showPaymentMethods:!0,showCnpjCpf:!0,showContactEmail:!0,showAddress:!0,showPhone:!0,showPrivacyPolicy:!0,showTermsConditions:!0,showReturns:!0,footerLinkColor:"#8B5CF6",discountTagTextColor:"#FFFFFF",discountTagBackgroundColor:"#EF4444",discountTagBorderRadius:6,discountTagFontWeight:"700",useVisible:!0,expirationTime:60,forceRemovalTime:90,showCountdownTimer:!0,urgencyMessageColor:"#DC2626",urgencyBackgroundColor:"#FEE2E2",orderBumpEnabled:!0,orderBumpTextColor:"#374151",orderBumpBackgroundColor:"#FFFBEB",orderBumpPriceColor:"#DC2626",orderBumpBorderColor:"#FCD34D",orderBumpBorderWidth:2,orderBumpBorderRadius:12,orderBumpButtonTextColor:"#FFFFFF",orderBumpButtonBackgroundColor:"#EF4444",orderBumpShadow:!0,fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},boxShadow:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},inputBorderColor:"#D1D5DB",inputFocusBorderColor:"#8B5CF6",inputBackgroundColor:"#FFFFFF",inputHeight:48,inputBorderRadius:10,labelColor:"#374151",labelFontWeight:"600",placeholderColor:"#9CA3AF",cardBackgroundColor:"#FFFFFF",cardBorderColor:"#E5E7EB",cardBorderRadius:16,cardShadow:!0,cardPadding:"1.5rem",showTrustBadges:!0,trustBadgeColor:"#10B981",sslBadgeEnabled:!0,securityIconsEnabled:!0,language:"pt",currency:"BRL",presellPage:"cart-in-cart",requestCpfOnlyAtPayment:!1,requestBirthDate:!1,requestGender:!1,disableCarrot:!1,mobileBreakpoint:640,tabletBreakpoint:1024,desktopBreakpoint:1280,enableAnimations:!0,animationDuration:"300ms",animationTiming:"cubic-bezier(0.4, 0, 0.2, 1)",highContrast:!1,focusIndicatorColor:"#8B5CF6",reducedMotion:!1};function At(t){return{...er,...t}}const ia=[11,12,13,14,15,16,17,18,19,21,22,24,27,28,31,32,33,34,35,37,38,41,42,43,44,45,46,47,48,49,51,53,54,55,61,62,64,63,65,66,67,68,69,71,73,74,75,77,79,81,87,82,83,84,85,88,86,89,91,93,94,92,97,95,96,98,99],tr=t=>{const r=t.replace(/\D/g,"");return r.length===0?"":r.length<=2?`(${r}`:r.length<=6?`(${r.slice(0,2)}) ${r.slice(2)}`:r.length<=10?`(${r.slice(0,2)}) ${r.slice(2,6)}-${r.slice(6,10)}`:`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`},rr=t=>t.replace(/\D/g,""),la=t=>ia.includes(t),ca=t=>{const r=rr(t);if(r.length===11)return parseInt(r.charAt(2))===9?"mobile":null;if(r.length===10){const a=parseInt(r.charAt(2));return a>=2&&a<=5?"landline":null}return null},da=t=>{const r=rr(t);if(!r)return{valid:!1,message:"Telefone n√£o pode estar vazio"};if(r.length<10)return{valid:!1,message:`Digite mais ${10-r.length} d√≠gitos`};if(r.length>11)return{valid:!1,message:"Telefone deve ter no m√°ximo 11 d√≠gitos"};const a=parseInt(r.slice(0,2));if(!la(a))return{valid:!1,message:"DDD inv√°lido"};const s=ca(t);return s?/^(\d)\1+$/.test(r)?{valid:!1,message:"Telefone inv√°lido"}:{valid:!0,formatted:tr(r),type:s,message:s==="mobile"?"Celular v√°lido":"Telefone fixo v√°lido"}:r.length===11?{valid:!1,message:"Celular deve come√ßar com 9 ap√≥s o DDD"}:{valid:!1,message:"Formato de telefone inv√°lido"}},ar=t=>{const r=t.replace(/\D/g,"");return r.length===0?"":r.length<=3?r:r.length<=6?`${r.slice(0,3)}.${r.slice(3)}`:r.length<=9?`${r.slice(0,3)}.${r.slice(3,6)}.${r.slice(6)}`:`${r.slice(0,3)}.${r.slice(3,6)}.${r.slice(6,9)}-${r.slice(9,11)}`},or=t=>t.replace(/\D/g,""),ua=t=>{const r=or(t);if(r.length!==11||/^(\d)\1{10}$/.test(r))return!1;let a=0;for(let l=0;l<9;l++)a+=parseInt(r.charAt(l))*(10-l);let s=11-a%11;if((s>=10?0:s)!==parseInt(r.charAt(9)))return!1;a=0;for(let l=0;l<10;l++)a+=parseInt(r.charAt(l))*(11-l);return s=11-a%11,(s>=10?0:s)===parseInt(r.charAt(10))},ma=t=>{const r=or(t);return r?r.length!==11?{valid:!1,message:"CPF deve conter 11 d√≠gitos"}:/^(\d)\1{10}$/.test(r)?{valid:!1,message:"CPF inv√°lido"}:ua(r)?{valid:!0,formatted:ar(r),message:"CPF v√°lido"}:{valid:!1,message:"CPF inv√°lido. Verifique os n√∫meros digitados."}:{valid:!1,message:"CPF n√£o pode estar vazio"}},xt=500,ha=["tempmail.com","guerrillamail.com","mailinator.com","10minutemail.com","throwaway.email","temp-mail.org"],rt={"gmial.com":"gmail.com","gmai.com":"gmail.com","gmil.com":"gmail.com","gmal.com":"gmail.com","gnail.com":"gmail.com","hotmial.com":"hotmail.com","hotmal.com":"hotmail.com","hotmil.com":"hotmail.com","outloo.com":"outlook.com","outlok.com":"outlook.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com"};async function pa(t){const r=t.trim().replace(/\s+/g," ");if(!r)return{isValid:!1,error:"Nome √© obrigat√≥rio",score:0};if(r.length<3)return{isValid:!1,error:"Nome muito curto",score:20};if(!/^[a-zA-Z√Ä-√ø\s'\-]+$/.test(r))return{isValid:!1,error:"Nome cont√©m caracteres inv√°lidos",score:30};const s=r.split(" ").filter(m=>m.length>0);if(s.length<2)return{isValid:!1,error:"Digite nome e sobrenome",suggestion:"Ex: Jo√£o Silva",score:50};const o=["de","da","do","das","dos","e"];if(s.filter(m=>o.includes(m.toLowerCase())?!0:m.length>=2).length<2)return{isValid:!1,error:"Nome ou sobrenome muito curto",score:60};const l=["teste","test","asdf","qwerty","nome","sobrenome"],n=r.toLowerCase();if(l.some(m=>n.includes(m)))return{isValid:!1,error:"Por favor, insira seu nome real",score:40};const f=s[0],d=s.slice(1).join(" ");return{isValid:!0,firstName:ze(f),lastName:ze(d),fullName:ze(r),score:100}}let Rt;function ga(t,r){clearTimeout(Rt),Rt=setTimeout(async()=>{const a=await pa(t);r(a)},xt)}async function fa(t){const r=t.trim().toLowerCase();if(!r)return{isValid:!1,error:"Email √© obrigat√≥rio",score:0};if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r))return{isValid:!1,error:"Email inv√°lido",suggestion:"Ex: seu@email.com",score:20};const[s,o]=r.split("@");return s.length<2?{isValid:!1,error:"Email muito curto",score:30}:o.length<4?{isValid:!1,error:"Dom√≠nio inv√°lido",score:40}:ha.includes(o)?{isValid:!1,error:"Emails tempor√°rios n√£o s√£o permitidos",suggestion:"Use um email permanente",score:30,isDisposable:!0}:rt[o]?{isValid:!1,error:"Poss√≠vel erro no email",suggestion:`Voc√™ quis dizer ${s}@${rt[o]}?`,domain:rt[o],score:70}:s.includes("..")||s.startsWith(".")||s.endsWith(".")?{isValid:!1,error:"Email com formato inv√°lido",score:40}:{isValid:!0,domain:o,isDisposable:!1,score:100}}let _t;function xa(t,r){clearTimeout(_t),_t=setTimeout(async()=>{const a=await fa(t);r(a)},xt)}async function va(t){const r=t.replace(/\D/g,"");if(!r)return{isValid:!1,error:"Telefone √© obrigat√≥rio",score:0};if(r.length<10)return{isValid:!1,error:"Telefone incompleto",suggestion:"Digite o DDD + n√∫mero",score:50};if(r.length>11)return{isValid:!1,error:"Telefone com muitos d√≠gitos",score:30};const a=parseInt(r.substring(0,2));return a<11||a>99?{isValid:!1,error:"DDD inv√°lido",score:40}:/^(\d)\1+$/.test(r)?{isValid:!1,error:"Telefone inv√°lido",score:20}:r.length===11&&r[2]!=="9"?{isValid:!1,error:"Celular deve come√ßar com 9",score:60}:{isValid:!0,score:100}}let Ft;function ya(t,r){clearTimeout(Ft),Ft=setTimeout(async()=>{const a=await va(t);r(a)},xt)}function ze(t){const r=["de","da","do","das","dos","e"];return t.toLowerCase().split(" ").map((a,s)=>s===0?a.charAt(0).toUpperCase()+a.slice(1):r.includes(a)?a:a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}const ba={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3}},Ca=({customerData:t,setCustomerData:r,theme:a})=>{const{toast:s}=ft(),[o,i]=k.useState(null),[l,n]=k.useState(null),[f,d]=k.useState(null),m=p=>{const c=ze(p);r({...t,name:c}),ga(p,i)},g=p=>{r({...t,email:p.toLowerCase().trim()}),xa(p,n)},v=p=>{const c=tr(p);r({...t,phone:c}),ya(c,d)},C=()=>{if(t.phone){const p=da(t.phone);p.valid||s({title:"Telefone inv√°lido",description:p.message,variant:"destructive"})}},b=p=>{const c=ar(p);r({...t,document:c})},x=()=>{if(t.document){const p=ma(t.document);p.valid||s({title:"CPF inv√°lido",description:p.message,variant:"destructive"})}};return e.jsx(y.div,{...ba,children:e.jsx(J,{style:{backgroundColor:a.cardBackgroundColor,borderColor:a.cardBorderColor,borderRadius:a.cardBorderRadius,boxShadow:a.cardShadow},children:e.jsxs(Z,{className:"p-5 md:p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-1 flex items-center gap-2",style:{color:a.headingColor},children:[e.jsx(lt,{className:"w-6 h-6"}),"Dados Pessoais"]}),e.jsx("p",{className:"text-sm opacity-75",style:{color:a.textColor},children:"Preencha suas informa√ß√µes"})]}),e.jsxs("div",{className:"space-y-4 md:space-y-4",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[e.jsxs(z,{htmlFor:"name",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(lt,{className:"w-4 h-4"}),"Nome Completo *"]}),e.jsxs("div",{className:"relative mt-1.5",children:[e.jsx(H,{id:"name",placeholder:"Seu nome completo",value:t.name,onChange:p=>m(p.target.value),className:D("text-base pr-10 transition-all",(o==null?void 0:o.isValid)===!0&&"border-green-500 bg-green-50/50",(o==null?void 0:o.isValid)===!1&&"border-red-500 bg-red-50/50"),style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}}),(o==null?void 0:o.isValid)===!0&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(we,{className:"w-5 h-5 text-green-600"})}),(o==null?void 0:o.isValid)===!1&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(re,{className:"w-5 h-5 text-red-600"})})]}),(o==null?void 0:o.error)&&e.jsxs(y.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-red-600 mt-1 flex items-center gap-1",children:[e.jsx(re,{className:"w-3 h-3"}),o.error]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsxs(z,{htmlFor:"email",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(zr,{className:"w-4 h-4 inline mr-1"}),"E-mail *"]}),e.jsxs("div",{className:"relative mt-1.5",children:[e.jsx(H,{id:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:p=>g(p.target.value),className:D("text-base pr-10 transition-all",(l==null?void 0:l.isValid)===!0&&"border-green-500 bg-green-50/50",(l==null?void 0:l.isValid)===!1&&"border-red-500 bg-red-50/50"),style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}}),(l==null?void 0:l.isValid)===!0&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(we,{className:"w-5 h-5 text-green-600"})})]}),(l==null?void 0:l.suggestion)&&e.jsxs(y.button,{type:"button",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},onClick:()=>g(l.suggestion||""),className:"text-sm text-blue-600 hover:text-blue-700 mt-1 flex items-center gap-1 font-medium hover:underline",children:["Voc√™ quis dizer:"," ",e.jsx("span",{className:"underline",children:l.suggestion}),"?"]})]}),e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsxs(z,{htmlFor:"phone",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(qr,{className:"w-4 h-4 inline mr-1"}),"Telefone *"]}),e.jsx(H,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:t.phone,onChange:p=>v(p.target.value),onBlur:C,maxLength:15,className:"mt-1.5 text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]}),a.requestCpfOnlyAtPayment===!1&&e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsxs(z,{htmlFor:"document",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(Kt,{className:"w-4 h-4 inline mr-1"}),"CPF *"]}),e.jsx(H,{id:"document",placeholder:"000.000.000-00",maxLength:14,value:t.document,onChange:p=>b(p.target.value),onBlur:x,className:"mt-1.5 text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),a.requestBirthDate&&e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[e.jsx(z,{htmlFor:"birthDate",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Data de Nascimento"}),e.jsx(H,{id:"birthDate",type:"date",value:t.birthDate,onChange:p=>r({...t,birthDate:p.target.value}),className:"mt-1.5 text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),a.requestGender&&e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:[e.jsx(z,{htmlFor:"gender",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"G√™nero"}),e.jsxs("select",{id:"gender",value:t.gender,onChange:p=>r({...t,gender:p.target.value}),className:"w-full mt-1.5 px-4 rounded-lg text-base",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,borderWidth:1,borderStyle:"solid",color:a.textColor},children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"masculino",children:"Masculino"}),e.jsx("option",{value:"feminino",children:"Feminino"}),e.jsx("option",{value:"outro",children:"Outro"}),e.jsx("option",{value:"prefiro_nao_dizer",children:"Prefiro n√£o dizer"})]})]})]})]})})})},wa={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3}},ja=({addressData:t,setAddressData:r,theme:a})=>{const{toast:s}=ft(),[o,i]=k.useState(!1),[l,n]=k.useState(!1),f=async m=>{const g=Jt(m);r({...t,zipCode:g}),n(!1),g.replace(/\D/g,"").length===8&&await d(g)},d=async m=>{const g=m.replace(/\D/g,"");if(g.length===8){i(!0);try{const v=await na(g);v?(r(C=>({...C,street:v.street||v.logradouro||"",neighborhood:v.neighborhood||v.bairro||"",city:v.city||v.localidade||"",state:v.state||v.uf||""})),n(!0),s({title:"CEP encontrado!",description:`${v.city||v.localidade} - ${v.state||v.uf}`})):(n(!1),s({title:"CEP n√£o encontrado",description:"Verifique o CEP digitado e tente novamente",variant:"destructive"}))}catch(v){console.error("Erro ao buscar CEP:",v),n(!1),s({title:"Erro ao buscar CEP",description:"Tente novamente mais tarde",variant:"destructive"})}finally{i(!1)}}};return e.jsx(y.div,{...wa,children:e.jsx(J,{style:{backgroundColor:a.cardBackgroundColor,borderColor:a.cardBorderColor,borderRadius:a.cardBorderRadius,boxShadow:a.cardShadow},children:e.jsxs(Z,{className:"p-5 md:p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-1 flex items-center gap-2",style:{color:a.headingColor},children:[e.jsx(St,{className:"w-6 h-6"}),"Endere√ßo de Entrega"]}),e.jsx("p",{className:"text-sm opacity-75",style:{color:a.textColor},children:"Informe onde deseja receber"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[e.jsxs(z,{htmlFor:"zipCode",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(St,{className:"w-4 h-4"}),"CEP *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{id:"zipCode",placeholder:"00000-000",value:t.zipCode,onChange:m=>f(m.target.value),maxLength:9,className:D("mt-1.5 text-base pr-10 transition-all duration-300",l&&"border-green-500 bg-green-50/50"),style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}}),o&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(ct,{className:"h-5 w-5 animate-spin text-blue-600"})}),l&&!o&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(Ht,{className:"h-5 w-5 text-green-600"})})]})]}),e.jsxs("div",{className:"grid grid-cols-[1fr_120px] gap-4",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsxs(z,{htmlFor:"street",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(Ir,{className:"w-4 h-4"}),"Rua *"]}),e.jsx(H,{id:"street",placeholder:"Nome da rua",value:t.street,onChange:m=>r({...t,street:m.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25},children:[e.jsxs(z,{htmlFor:"number",className:"flex items-center gap-2",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:[e.jsx(Kt,{className:"w-4 h-4"}),"N√∫mero *"]}),e.jsx(H,{id:"number",placeholder:"123",value:t.number,onChange:m=>r({...t,number:m.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx(z,{htmlFor:"complement",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Complemento"}),e.jsx(H,{id:"complement",placeholder:"Apto 101",value:t.complement,onChange:m=>r({...t,complement:m.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.35},children:[e.jsx(z,{htmlFor:"neighborhood",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Bairro *"}),e.jsx(H,{id:"neighborhood",placeholder:"Nome do bairro",value:t.neighborhood,onChange:m=>r({...t,neighborhood:m.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]}),e.jsxs("div",{className:"grid grid-cols-[1fr_100px] gap-4",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsx(z,{htmlFor:"city",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"Cidade *"}),e.jsx(H,{id:"city",placeholder:"Cidade",value:t.city,onChange:m=>r({...t,city:m.target.value}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]}),e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.45},children:[e.jsx(z,{htmlFor:"state",style:{color:a.labelColor,fontWeight:a.labelFontWeight},children:"UF *"}),e.jsx(H,{id:"state",placeholder:"SP",maxLength:2,value:t.state,onChange:m=>r({...t,state:m.target.value.toUpperCase()}),className:"mt-1.5 text-base transition-all duration-300",style:{backgroundColor:a.inputBackgroundColor,borderColor:a.inputBorderColor,height:48,borderRadius:a.inputBorderRadius,color:a.textColor}})]})]})]})]})})})};var Re={},sr={L:1,M:0,Q:3,H:2},nr={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Na=nr;function ir(t){this.mode=Na.MODE_8BIT_BYTE,this.data=t}ir.prototype={getLength:function(t){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}};var ka=ir,$e=sr;function ne(t,r){this.totalCount=t,this.dataCount=r}ne.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ne.getRSBlocks=function(t,r){var a=ne.getRsBlockTable(t,r);if(a==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var s=a.length/3,o=new Array,i=0;i<s;i++)for(var l=a[i*3+0],n=a[i*3+1],f=a[i*3+2],d=0;d<l;d++)o.push(new ne(n,f));return o};ne.getRsBlockTable=function(t,r){switch(r){case $e.L:return ne.RS_BLOCK_TABLE[(t-1)*4+0];case $e.M:return ne.RS_BLOCK_TABLE[(t-1)*4+1];case $e.Q:return ne.RS_BLOCK_TABLE[(t-1)*4+2];case $e.H:return ne.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var Ea=ne;function lr(){this.buffer=new Array,this.length=0}lr.prototype={get:function(t){var r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)==1},put:function(t,r){for(var a=0;a<r;a++)this.putBit((t>>>r-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}};var Ba=lr,ae={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ae.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ae.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var U=0;U<8;U++)ae.EXP_TABLE[U]=1<<U;for(var U=8;U<256;U++)ae.EXP_TABLE[U]=ae.EXP_TABLE[U-4]^ae.EXP_TABLE[U-5]^ae.EXP_TABLE[U-6]^ae.EXP_TABLE[U-8];for(var U=0;U<255;U++)ae.LOG_TABLE[ae.EXP_TABLE[U]]=U;var cr=ae,ye=cr;function qe(t,r){if(t.length==null)throw new Error(t.length+"/"+r);for(var a=0;a<t.length&&t[a]==0;)a++;this.num=new Array(t.length-a+r);for(var s=0;s<t.length-a;s++)this.num[s]=t[s+a]}qe.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<t.getLength();s++)r[a+s]^=ye.gexp(ye.glog(this.get(a))+ye.glog(t.get(s)));return new qe(r,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=ye.glog(this.get(0))-ye.glog(t.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<t.getLength();s++)a[s]^=ye.gexp(ye.glog(t.get(s))+r);return new qe(a,0).mod(t)}};var dr=qe,Y=nr,Mt=dr,Pa=cr,me={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},q={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var r=t<<10;q.getBCHDigit(r)-q.getBCHDigit(q.G15)>=0;)r^=q.G15<<q.getBCHDigit(r)-q.getBCHDigit(q.G15);return(t<<10|r)^q.G15_MASK},getBCHTypeNumber:function(t){for(var r=t<<12;q.getBCHDigit(r)-q.getBCHDigit(q.G18)>=0;)r^=q.G18<<q.getBCHDigit(r)-q.getBCHDigit(q.G18);return t<<12|r},getBCHDigit:function(t){for(var r=0;t!=0;)r++,t>>>=1;return r},getPatternPosition:function(t){return q.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,r,a){switch(t){case me.PATTERN000:return(r+a)%2==0;case me.PATTERN001:return r%2==0;case me.PATTERN010:return a%3==0;case me.PATTERN011:return(r+a)%3==0;case me.PATTERN100:return(Math.floor(r/2)+Math.floor(a/3))%2==0;case me.PATTERN101:return r*a%2+r*a%3==0;case me.PATTERN110:return(r*a%2+r*a%3)%2==0;case me.PATTERN111:return(r*a%3+(r+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var r=new Mt([1],0),a=0;a<t;a++)r=r.multiply(new Mt([1,Pa.gexp(a)],0));return r},getLengthInBits:function(t,r){if(1<=r&&r<10)switch(t){case Y.MODE_NUMBER:return 10;case Y.MODE_ALPHA_NUM:return 9;case Y.MODE_8BIT_BYTE:return 8;case Y.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(r<27)switch(t){case Y.MODE_NUMBER:return 12;case Y.MODE_ALPHA_NUM:return 11;case Y.MODE_8BIT_BYTE:return 16;case Y.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(r<41)switch(t){case Y.MODE_NUMBER:return 14;case Y.MODE_ALPHA_NUM:return 13;case Y.MODE_8BIT_BYTE:return 16;case Y.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+r)},getLostPoint:function(t){for(var r=t.getModuleCount(),a=0,s=0;s<r;s++)for(var o=0;o<r;o++){for(var i=0,l=t.isDark(s,o),n=-1;n<=1;n++)if(!(s+n<0||r<=s+n))for(var f=-1;f<=1;f++)o+f<0||r<=o+f||n==0&&f==0||l==t.isDark(s+n,o+f)&&i++;i>5&&(a+=3+i-5)}for(var s=0;s<r-1;s++)for(var o=0;o<r-1;o++){var d=0;t.isDark(s,o)&&d++,t.isDark(s+1,o)&&d++,t.isDark(s,o+1)&&d++,t.isDark(s+1,o+1)&&d++,(d==0||d==4)&&(a+=3)}for(var s=0;s<r;s++)for(var o=0;o<r-6;o++)t.isDark(s,o)&&!t.isDark(s,o+1)&&t.isDark(s,o+2)&&t.isDark(s,o+3)&&t.isDark(s,o+4)&&!t.isDark(s,o+5)&&t.isDark(s,o+6)&&(a+=40);for(var o=0;o<r;o++)for(var s=0;s<r-6;s++)t.isDark(s,o)&&!t.isDark(s+1,o)&&t.isDark(s+2,o)&&t.isDark(s+3,o)&&t.isDark(s+4,o)&&!t.isDark(s+5,o)&&t.isDark(s+6,o)&&(a+=40);for(var m=0,o=0;o<r;o++)for(var s=0;s<r;s++)t.isDark(s,o)&&m++;var g=Math.abs(100*m/r/r-50)/5;return a+=g*10,a}},Sa=q,Ta=ka,ur=Ea,mr=Ba,ge=Sa,Ia=dr;function ie(t,r){this.typeNumber=t,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var X=ie.prototype;X.addData=function(t){var r=new Ta(t);this.dataList.push(r),this.dataCache=null};X.isDark=function(t,r){if(t<0||this.moduleCount<=t||r<0||this.moduleCount<=r)throw new Error(t+","+r);return this.modules[t][r]};X.getModuleCount=function(){return this.moduleCount};X.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var r=ur.getRSBlocks(t,this.errorCorrectLevel),a=new mr,s=0,o=0;o<r.length;o++)s+=r[o].dataCount;for(var o=0;o<this.dataList.length;o++){var i=this.dataList[o];a.put(i.mode,4),a.put(i.getLength(),ge.getLengthInBits(i.mode,t)),i.write(a)}if(a.getLengthInBits()<=s*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};X.makeImpl=function(t,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[a][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ie.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)};X.setupPositionProbePattern=function(t,r){for(var a=-1;a<=7;a++)if(!(t+a<=-1||this.moduleCount<=t+a))for(var s=-1;s<=7;s++)r+s<=-1||this.moduleCount<=r+s||(0<=a&&a<=6&&(s==0||s==6)||0<=s&&s<=6&&(a==0||a==6)||2<=a&&a<=4&&2<=s&&s<=4?this.modules[t+a][r+s]=!0:this.modules[t+a][r+s]=!1)};X.getBestMaskPattern=function(){for(var t=0,r=0,a=0;a<8;a++){this.makeImpl(!0,a);var s=ge.getLostPoint(this);(a==0||t>s)&&(t=s,r=a)}return r};X.createMovieClip=function(t,r,a){var s=t.createEmptyMovieClip(r,a),o=1;this.make();for(var i=0;i<this.modules.length;i++)for(var l=i*o,n=0;n<this.modules[i].length;n++){var f=n*o,d=this.modules[i][n];d&&(s.beginFill(0,100),s.moveTo(f,l),s.lineTo(f+o,l),s.lineTo(f+o,l+o),s.lineTo(f,l+o),s.endFill())}return s};X.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var r=8;r<this.moduleCount-8;r++)this.modules[6][r]==null&&(this.modules[6][r]=r%2==0)};X.setupPositionAdjustPattern=function(){for(var t=ge.getPatternPosition(this.typeNumber),r=0;r<t.length;r++)for(var a=0;a<t.length;a++){var s=t[r],o=t[a];if(this.modules[s][o]==null)for(var i=-2;i<=2;i++)for(var l=-2;l<=2;l++)i==-2||i==2||l==-2||l==2||i==0&&l==0?this.modules[s+i][o+l]=!0:this.modules[s+i][o+l]=!1}};X.setupTypeNumber=function(t){for(var r=ge.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var s=!t&&(r>>a&1)==1;this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=s}for(var a=0;a<18;a++){var s=!t&&(r>>a&1)==1;this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=s}};X.setupTypeInfo=function(t,r){for(var a=this.errorCorrectLevel<<3|r,s=ge.getBCHTypeInfo(a),o=0;o<15;o++){var i=!t&&(s>>o&1)==1;o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(var o=0;o<15;o++){var i=!t&&(s>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!t};X.mapData=function(t,r){for(var a=-1,s=this.moduleCount-1,o=7,i=0,l=this.moduleCount-1;l>0;l-=2)for(l==6&&l--;;){for(var n=0;n<2;n++)if(this.modules[s][l-n]==null){var f=!1;i<t.length&&(f=(t[i]>>>o&1)==1);var d=ge.getMask(r,s,l-n);d&&(f=!f),this.modules[s][l-n]=f,o--,o==-1&&(i++,o=7)}if(s+=a,s<0||this.moduleCount<=s){s-=a,a=-a;break}}};ie.PAD0=236;ie.PAD1=17;ie.createData=function(t,r,a){for(var s=ur.getRSBlocks(t,r),o=new mr,i=0;i<a.length;i++){var l=a[i];o.put(l.mode,4),o.put(l.getLength(),ge.getLengthInBits(l.mode,t)),l.write(o)}for(var n=0,i=0;i<s.length;i++)n+=s[i].dataCount;if(o.getLengthInBits()>n*8)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+n*8+")");for(o.getLengthInBits()+4<=n*8&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=n*8||(o.put(ie.PAD0,8),o.getLengthInBits()>=n*8));)o.put(ie.PAD1,8);return ie.createBytes(o,s)};ie.createBytes=function(t,r){for(var a=0,s=0,o=0,i=new Array(r.length),l=new Array(r.length),n=0;n<r.length;n++){var f=r[n].dataCount,d=r[n].totalCount-f;s=Math.max(s,f),o=Math.max(o,d),i[n]=new Array(f);for(var m=0;m<i[n].length;m++)i[n][m]=255&t.buffer[m+a];a+=f;var g=ge.getErrorCorrectPolynomial(d),v=new Ia(i[n],g.getLength()-1),C=v.mod(g);l[n]=new Array(g.getLength()-1);for(var m=0;m<l[n].length;m++){var b=m+C.getLength()-l[n].length;l[n][m]=b>=0?C.get(b):0}}for(var x=0,m=0;m<r.length;m++)x+=r[m].totalCount;for(var p=new Array(x),c=0,m=0;m<s;m++)for(var n=0;n<r.length;n++)m<i[n].length&&(p[c++]=i[n][m]);for(var m=0;m<o;m++)for(var n=0;n<r.length;n++)m<l[n].length&&(p[c++]=l[n][m]);return p};var Aa=ie,vt={};Object.defineProperty(vt,"__esModule",{value:!0});var Ra=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},_a=Xt,K=pr(_a),hr=k,Ve=pr(hr);function pr(t){return t&&t.__esModule?t:{default:t}}function Fa(t,r){var a={};for(var s in t)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s]);return a}var Ma={bgColor:K.default.oneOfType([K.default.object,K.default.string]).isRequired,bgD:K.default.string.isRequired,fgColor:K.default.oneOfType([K.default.object,K.default.string]).isRequired,fgD:K.default.string.isRequired,size:K.default.number.isRequired,title:K.default.string,viewBoxSize:K.default.number.isRequired,xmlns:K.default.string},yt=(0,hr.forwardRef)(function(t,r){var a=t.bgColor,s=t.bgD,o=t.fgD,i=t.fgColor,l=t.size,n=t.title,f=t.viewBoxSize,d=t.xmlns,m=d===void 0?"http://www.w3.org/2000/svg":d,g=Fa(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ve.default.createElement("svg",Ra({},g,{height:l,ref:r,viewBox:"0 0 "+f+" "+f,width:l,xmlns:m}),n?Ve.default.createElement("title",null,n):null,Ve.default.createElement("path",{d:s,fill:a}),Ve.default.createElement("path",{d:o,fill:i}))});yt.displayName="QRCodeSvg";yt.propTypes=Ma;vt.default=yt;Object.defineProperty(Re,"__esModule",{value:!0});Re.QRCode=void 0;var Da=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Oa=Xt,ce=_e(Oa),La=sr,$a=_e(La),Va=Aa,za=_e(Va),gr=k,qa=_e(gr),Ua=vt,Ha=_e(Ua);function _e(t){return t&&t.__esModule?t:{default:t}}function Ga(t,r){var a={};for(var s in t)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s]);return a}var Wa={bgColor:ce.default.oneOfType([ce.default.object,ce.default.string]),fgColor:ce.default.oneOfType([ce.default.object,ce.default.string]),level:ce.default.string,size:ce.default.number,value:ce.default.string.isRequired},Ye=(0,gr.forwardRef)(function(t,r){var a=t.bgColor,s=a===void 0?"#FFFFFF":a,o=t.fgColor,i=o===void 0?"#000000":o,l=t.level,n=l===void 0?"L":l,f=t.size,d=f===void 0?256:f,m=t.value,g=Ga(t,["bgColor","fgColor","level","size","value"]),v=new za.default(-1,$a.default[n]);v.addData(m),v.make();var C=v.modules;return qa.default.createElement(Ha.default,Da({},g,{bgColor:s,bgD:C.map(function(b,x){return b.map(function(p,c){return p?"":"M "+c+" "+x+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:C.map(function(b,x){return b.map(function(p,c){return p?"M "+c+" "+x+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:r,size:d,viewBoxSize:C.length}))});Re.QRCode=Ye;Ye.displayName="QRCode";Ye.propTypes=Wa;Re.default=Ye;const Qa=({pixData:t,onPaymentConfirmed:r,theme:a={}})=>{const[s,o]=k.useState(!1),[i,l]=k.useState(0),[n,f]=k.useState(!1),[d,m]=k.useState(!0),[g,v]=k.useState(!1);k.useEffect(()=>{if(!(t!=null&&t.expiresAt))return;const c=()=>{const j=new Date().getTime(),w=new Date(t.expiresAt).getTime()-j;if(w<=0){l(0);return}l(Math.floor(w/1e3))};c();const h=setInterval(c,1e3);return()=>clearInterval(h)},[t==null?void 0:t.expiresAt]),k.useEffect(()=>{if(!t||g)return;const h=setInterval(async()=>{f(!0),setTimeout(()=>{f(!1)},1e3)},5e3);return()=>clearInterval(h)},[t,g]);const C=c=>{const h=Math.floor(c/60),j=c%60;return`${h.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},b=async()=>{if(t!=null&&t.qrCode)try{await navigator.clipboard.writeText(t.qrCode),o(!0),setTimeout(()=>o(!1),3e3)}catch(c){console.error("Erro ao copiar c√≥digo:",c)}};if(!t)return e.jsxs(y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12 px-4",children:[e.jsx(y.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-green-400 via-emerald-500 to-teal-600 mb-4 shadow-2xl",children:e.jsx(et,{className:"h-10 w-10 text-white"})}),e.jsx(y.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl md:text-2xl font-bold mb-2 bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent",children:"Gerando c√≥digo PIX..."}),e.jsx(y.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm md:text-base opacity-70",style:{color:a.textColor},children:"Aguarde enquanto preparamos seu pagamento seguro"})]});const x=i<=0&&t.expiresAt,p=i>0&&i<60;return e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4 md:space-y-6 max-w-2xl mx-auto px-2 md:px-4",children:[e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center space-y-3",children:[e.jsxs(y.div,{whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:300},className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-green-400 via-emerald-500 to-teal-600 shadow-2xl mb-3 relative",children:[e.jsx(et,{className:"h-8 w-8 md:h-10 md:w-10 text-white relative z-10"}),e.jsx(y.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-400 rounded-2xl blur-xl"})]}),e.jsx(y.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent",children:"Pague com PIX"}),e.jsxs(y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-2 border-green-200 dark:border-green-800",children:[e.jsx(ut,{className:"h-5 w-5 text-green-600"}),e.jsxs("span",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["R$ ",t.amount.toFixed(2)]}),e.jsx(ut,{className:"h-5 w-5 text-green-600"})]})]}),e.jsx(se,{mode:"wait",children:t.expiresAt&&e.jsxs(y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.4},className:D("relative overflow-hidden flex items-center justify-center gap-3 p-5 md:p-6 rounded-2xl border-2 transition-all shadow-lg",x?"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 border-red-300 dark:border-red-800":p?"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-950/30 dark:to-orange-950/30 border-yellow-300 dark:border-yellow-800":"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border-blue-300 dark:border-blue-800"),children:[e.jsx(y.div,{animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:D("absolute inset-0 w-full h-full opacity-20",x?"bg-gradient-to-r from-transparent via-red-400 to-transparent":p?"bg-gradient-to-r from-transparent via-yellow-400 to-transparent":"bg-gradient-to-r from-transparent via-blue-400 to-transparent")}),e.jsx(y.div,{animate:p?{rotate:[0,-5,5,-5,0]}:{},transition:{duration:.5,repeat:1/0,repeatDelay:1},children:e.jsx(Ur,{className:D("h-7 w-7 md:h-8 md:w-8 relative z-10",x?"text-red-600 dark:text-red-400":p?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400")})}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-2 relative z-10",children:[e.jsx(y.span,{initial:{scale:1.2},animate:{scale:1},className:D("font-mono text-2xl md:text-3xl font-bold tracking-wider",x?"text-red-700 dark:text-red-300":p?"text-yellow-700 dark:text-yellow-300":"text-blue-700 dark:text-blue-300"),children:x?"EXPIRADO":C(i)},i),!x&&e.jsx("span",{className:D("text-sm md:text-base font-semibold",p?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400"),children:p?"‚ö†Ô∏è √öltimos segundos!":"para pagar"})]})]},x?"expired":"active")}),e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative flex gap-2 p-1.5 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-inner",children:[e.jsx(y.div,{animate:{x:d?0:"calc(100% + 8px)"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute inset-y-1.5 left-1.5 right-1.5 w-[calc(50%-4px)] bg-white dark:bg-gray-950 rounded-xl shadow-lg"}),e.jsxs("button",{onClick:()=>m(!0),className:D("relative z-10 flex-1 py-4 px-4 rounded-xl font-bold text-sm md:text-base transition-all flex items-center justify-center gap-2",d?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:[e.jsx(et,{className:"h-5 w-5"}),"QR Code"]}),e.jsxs("button",{onClick:()=>m(!1),className:D("relative z-10 flex-1 py-4 px-4 rounded-xl font-bold text-sm md:text-base transition-all flex items-center justify-center gap-2",d?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100":"text-green-600 dark:text-green-400"),children:[e.jsx(mt,{className:"h-5 w-5"}),"C√≥digo"]})]}),e.jsx(se,{mode:"wait",children:d?e.jsx(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:e.jsx(J,{className:"overflow-hidden border-2 shadow-2xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-950",children:e.jsx(Z,{className:"p-6 md:p-10",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs(y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},className:"inline-block relative",children:[e.jsx(y.div,{animate:{scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -inset-4 bg-gradient-to-r from-green-400 to-emerald-400 rounded-3xl blur-2xl"}),e.jsx("div",{className:"relative p-6 md:p-8 bg-white rounded-3xl shadow-2xl",children:e.jsx(Re.QRCodeSVG,{value:t.qrCode,size:256,level:"H",includeMargin:!0,className:"w-full h-auto max-w-[280px] md:max-w-[320px]",fgColor:"#000000",bgColor:"#FFFFFF"})}),e.jsx(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.5,type:"spring"},className:"absolute -bottom-3 -right-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full p-3 shadow-xl",children:e.jsx(Hr,{className:"h-6 w-6 text-white"})})]}),e.jsx(se,{children:n&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[e.jsx(y.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Verificando pagamento..."})]})}),e.jsx(y.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-base md:text-lg font-semibold text-gray-700 dark:text-gray-300",children:"üì± Abra o app do seu banco e escaneie o c√≥digo"})]})})})},"qrcode"):e.jsx(y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.jsx(J,{className:"overflow-hidden border-2 shadow-2xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-950",children:e.jsxs(Z,{className:"p-6 md:p-8 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm md:text-base font-bold block mb-3 text-gray-700 dark:text-gray-300",children:"üí≥ C√≥digo PIX Copia e Cola:"}),e.jsxs(y.div,{whileHover:{scale:1.02},className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-400 rounded-2xl blur opacity-20 group-hover:opacity-40 transition-opacity"}),e.jsx("div",{className:"relative p-5 md:p-6 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 overflow-hidden",children:e.jsx("code",{className:"text-xs md:text-sm font-mono break-all block text-gray-700 dark:text-gray-300",children:t.qrCode})})]})]}),e.jsx(y.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(oe,{onClick:b,className:"relative overflow-hidden w-full gap-3 h-14 md:h-16 text-base md:text-lg font-bold shadow-xl hover:shadow-2xl transition-all group",style:{backgroundColor:s?"#10b981":a.checkoutButtonBackgroundColor||"#22c55e",color:a.primaryButtonTextColor||"#ffffff"},children:[e.jsx(y.div,{animate:{x:[-200,400]},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"absolute inset-0 w-20 h-full bg-white/30 skew-x-12"}),e.jsx(se,{mode:"wait",children:s?e.jsxs(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"flex items-center gap-3",children:[e.jsx(we,{className:"h-6 w-6"}),e.jsx("span",{children:"C√≥digo Copiado!"})]},"copied"):e.jsxs(y.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"flex items-center gap-3",children:[e.jsx(mt,{className:"h-6 w-6"}),e.jsx("span",{children:"Copiar C√≥digo PIX"})]},"copy")})]})})]})})},"code")}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:e.jsx(J,{className:"overflow-hidden bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-950/20 dark:via-indigo-950/20 dark:to-purple-950/20 border-2 border-blue-200 dark:border-blue-800 shadow-xl",children:e.jsx(Z,{className:"p-6 md:p-7",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(y.div,{whileHover:{rotate:[0,-10,10,-10,0],scale:1.1},transition:{duration:.5},className:"shrink-0 mt-1",children:e.jsx(dt,{className:"h-8 w-8 md:h-10 md:w-10 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-lg md:text-xl text-blue-900 dark:text-blue-100",children:"üì≤ Como pagar com PIX:"}),e.jsx("ol",{className:"space-y-3 text-sm md:text-base text-gray-700 dark:text-gray-300",children:["Abra o app do seu banco ou carteira digital",'Escolha "Pix Copia e Cola" ou "Ler QR Code"',"Cole o c√≥digo ou escaneie o QR Code acima","Confirme o pagamento e pronto! ‚úÖ Aprova√ß√£o instant√¢nea"].map((c,h)=>e.jsxs(y.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+h*.1},className:"flex gap-3",children:[e.jsx(y.span,{whileHover:{scale:1.2,rotate:360},transition:{type:"spring"},className:"flex-shrink-0 flex items-center justify-center w-7 h-7 md:w-8 md:h-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-sm md:text-base font-bold shadow-lg",children:h+1}),e.jsx("span",{className:"pt-1",children:c})]},h))})]})]})})})}),e.jsxs(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.9},className:"relative overflow-hidden flex items-center gap-3 p-5 md:p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-2xl border-2 border-green-200 dark:border-green-800 shadow-lg",children:[e.jsx(y.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Yt,{className:"h-6 w-6 md:h-7 md:w-7 text-green-600 dark:text-green-400 flex-shrink-0"})}),e.jsx("p",{className:"text-sm md:text-base text-green-700 dark:text-green-300 font-bold",children:"üîí Pagamento 100% seguro ‚Ä¢ Aprova√ß√£o instant√¢nea ‚Ä¢ Sem taxas extras"})]}),e.jsx(se,{children:x&&e.jsx(y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.jsx(J,{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/20 dark:to-rose-950/20 border-2 border-red-300 dark:border-red-800 shadow-xl",children:e.jsx(Z,{className:"p-6 md:p-7",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(y.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},children:e.jsx(re,{className:"h-7 w-7 text-red-600 dark:text-red-400 flex-shrink-0"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-base md:text-lg",children:"‚ö†Ô∏è C√≥digo PIX Expirado"}),e.jsx("p",{className:"text-sm md:text-base text-red-600 dark:text-red-400",children:"Este c√≥digo expirou. Por favor, volte e gere um novo c√≥digo PIX para completar seu pagamento."})]})]})})})})})]})};var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xa={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}},We={},Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.clone=void 0,Te.clone=function(t){return t?JSON.parse(JSON.stringify(t)):null};var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.matches=void 0,Ue.matches=function(t,r){return Array.isArray(r)?function(a,s,o){var i=String(s).length,l=a.substr(0,i),n=parseInt(l,10);return s=parseInt(String(s).substr(0,l.length),10),o=parseInt(String(o).substr(0,l.length),10),n>=s&&n<=o}(t,r[0],r[1]):function(a,s){return(s=String(s)).substring(0,a.length)===a.substring(0,s.length)}(t,r)},Object.defineProperty(We,"__esModule",{value:!0}),We.addMatchingCardsToResults=void 0;var Ya=Te,Ka=Ue;We.addMatchingCardsToResults=function(t,r,a){var s,o;for(s=0;s<r.patterns.length;s++){var i=r.patterns[s];if(Ka.matches(t,i)){var l=Ya.clone(r);o=Array.isArray(i)?String(i[0]).length:String(i).length,t.length>=o&&(l.matchStrength=o),a.push(l);break}}};var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.isValidInputType=void 0,He.isValidInputType=function(t){return typeof t=="string"||t instanceof String};var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.findBestMatch=void 0,Ge.findBestMatch=function(t){return function(r){var a=r.filter(function(s){return s.matchStrength}).length;return a>0&&a===r.length}(t)?t.reduce(function(r,a){return r?Number(r.matchStrength)<Number(a.matchStrength)?a:r:a}):null};var Qe=Dt&&Dt.__assign||function(){return Qe=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++)for(var o in r=arguments[a])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t},Qe.apply(this,arguments)},fr=Xa,Ja=We,Za=He,eo=Ge,Ie=Te,Pe={},W={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},xr=[W.VISA,W.MASTERCARD,W.AMERICAN_EXPRESS,W.DINERS_CLUB,W.DISCOVER,W.JCB,W.UNIONPAY,W.MAESTRO,W.ELO,W.MIR,W.HIPER,W.HIPERCARD],pe=Ie.clone(xr);function ht(t){return Pe[t]||fr[t]}function at(t,r){r===void 0&&(r=!1);var a=pe.indexOf(t);if(!r&&a===-1)throw new Error('"'+t+'" is not a supported card type.');return a}function he(t){var r=[];if(!Za.isValidInputType(t))return r;if(t.length===0)return pe.map(function(s){return Ie.clone(ht(s))});pe.forEach(function(s){var o=ht(s);Ja.addMatchingCardsToResults(t,o,r)});var a=eo.findBestMatch(r);return a?[a]:r}he.getTypeInfo=function(t){return Ie.clone(ht(t))},he.removeCard=function(t){var r=at(t);pe.splice(r,1)},he.addCard=function(t){var r=at(t.type,!0);Pe[t.type]=t,r===-1&&pe.push(t.type)},he.updateCard=function(t,r){var a=Pe[t]||fr[t];if(!a)throw new Error('"'+t+"\" is not a recognized type. Use `addCard` instead.'");if(r.type&&a.type!==r.type)throw new Error("Cannot overwrite type parameter.");var s=Ie.clone(a);s=Qe(Qe({},s),r),Pe[s.type]=s},he.changeOrder=function(t,r){var a=at(t);pe.splice(a,1),pe.splice(r,0,t)},he.resetModifications=function(){pe=Ie.clone(xr),Pe={}},he.types=W;var de=he,to={niceType:"Dankort",type:"dankort",patterns:[5019],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},ro={niceType:"Laser",type:"laser",patterns:[6706,6771,6709],gaps:[4,8,12],lengths:[16,19],code:{name:"CVV",size:3}},ao={niceType:"Visa Electron",type:"visa-electron",patterns:[4026,417500,4405,4508,4844,49137],gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},oo=function(t){var r,a,s=String(t).replace(/[\s]/g,""),o=s.length,i=!1,l=0;if(!/^[0-9]+$/.test(s))return!1;for(var n=o;n>0;n--){if(r=parseInt(s.charAt(n-1)),i){switch(a=2*r){case 10:a=1;break;case 12:a=3;break;case 14:a=5;break;case 16:a=7;break;case 18:a=9}l+=a}else l+=r;i=!i}return l!==0&&l%10==0},so=function(t){var r=de(t.toString().trim().replace(" ",""));if(r.length===1){var a=r.shift();return(a==null?void 0:a.type)||"unknown"}return"unknown"},ot=function(){return de.updateCard(de.types.MAESTRO,{patterns:[493698,[5e3,5018],[502e3,506698],[506779,508999],[56,59],63,67,6]}),de.updateCard(de.types.HIPERCARD,{patterns:[384100,384140,384160,606282,637095,637568]}),de.addCard(to),de.addCard(ro),de.addCard(ao),Object.values(de.types).concat(["dankort","laser","visa-electron"])},Ee={amex:["amex","americanexpress","american-express"],dinersclub:["diners","dinersclub","diners-club"]};function no(t){var r=t.acceptedCards,a=r===void 0?[]:r,s=t.number,o=t.issuer,i=t.preview,l=i!==void 0&&i,n=t.expiry,f=t.cvc,d=t.focused,m=t.locale,g=m===void 0?{valid:"valid thru"}:m,v=t.name,C=t.placeholders,b=C===void 0?{name:"YOUR NAME HERE"}:C,x=t.callback,p=F.useState(ot()),c=p[0],h=p[1],j=F.useMemo(function(){return a!=null&&a.length?c.filter(function(N){return a.includes(N)}):c},[a,c]),B=F.useMemo(function(){var N="unknown";if(s){var R=so(s);j.includes(R)&&(N=R)}var A=16;return Ee.amex.includes(N)?A=15:Ee!=null&&Ee.dinersclub.includes(N)?A=14:["hipercard","mastercard","visa"].includes(N)&&(A=19),{issuer:N,maxLength:A}},[s,j]),w=F.useMemo(function(){return l&&o?o.toLowerCase():B.issuer},[B.issuer,o,l]),E=F.useMemo(function(){var N=l?19:B.maxLength,R=typeof s=="number"?s.toString():String(s).replace(/[A-Za-z]| /g,"");for(isNaN(parseInt(R,10))&&!l&&(R=""),N>16&&(N=R.length<=16?16:N),R.length>N&&(R=R.slice(0,N));R.length<N;)R+="‚Ä¢";if(Ee.amex.includes(w)||Ee.dinersclub.includes(w)){var A=[0,4,10],L=[4,6,5];R="".concat(R.substr(A[0],L[0])," ").concat(R.substr(A[1],L[1])," ").concat(R.substr(A[2],L[2]))}else if(R.length>16)A=[0,4,8,12],L=[4,7],R="".concat(R.substr(A[0],L[0])," ").concat(R.substr(A[1],L[0])," ").concat(R.substr(A[2],L[0])," ").concat(R.substr(A[3],L[1]));else for(var fe=1;fe<N/4;fe++){var Fe=4*fe+(fe-1);R="".concat(R.slice(0,Fe)," ").concat(R.slice(Fe))}return R},[B.maxLength,w,s,l]),S=F.useMemo(function(){var N,R=typeof n=="number"?n.toString():n,A="",L="";for(R.includes("/")?(A=(N=R.split("/"))[0],L=N[1]):R.length&&(A=R.substr(0,2),L=R.substr(2,6));A.length<2;)A+="‚Ä¢";for(L.length>2&&(L=L.substr(2,4));L.length<2;)L+="‚Ä¢";return"".concat(A,"/").concat(L)},[n]),_=F.useCallback(function(N){if(N.length)h(c.filter(function(A){return N.includes(A)}));else{var R=ot();h(R)}},[c]);return F.useEffect(function(){E!==s&&typeof x=="function"&&x(B,oo(String(s))),ot().toString()!==c.toString()&&_(a)},[a,x,B,E,_,s,c]),F.createElement("div",{key:"Cards",className:"rccs","data-testid":"rccs"},F.createElement("div",{"data-testid":"rccs__card",className:["rccs__card","rccs__card--".concat(w),d==="cvc"&&w!=="american-express"?"rccs__card--flipped":""].join(" ").trim()},F.createElement("div",{className:"rccs__card--front"},F.createElement("div",{className:"rccs__card__background"}),F.createElement("div",{className:"rccs__issuer"}),F.createElement("div",{className:["rccs__cvc__front",d==="cvc"?"rccs--focused":""].join(" ").trim()},f),F.createElement("div",{className:["rccs__number",E.replace(/ /g,"").length>16?"rccs__number--large":"",d==="number"?"rccs--focused":"",E.substr(0,1)!=="‚Ä¢"?"rccs--filled":""].join(" ").trim()},E),F.createElement("div",{className:["rccs__name",d==="name"?"rccs--focused":"",v?"rccs--filled":""].join(" ").trim()},v||b.name),F.createElement("div",{className:["rccs__expiry",d==="expiry"?"rccs--focused":"",S.substr(0,1)!=="‚Ä¢"?"rccs--filled":""].join(" ").trim()},F.createElement("div",{className:"rccs__expiry__valid"},g.valid),F.createElement("div",{className:"rccs__expiry__value"},S)),F.createElement("div",{className:"rccs__chip"})),F.createElement("div",{className:"rccs__card--back"},F.createElement("div",{className:"rccs__card__background"}),F.createElement("div",{className:"rccs__stripe"}),F.createElement("div",{className:"rccs__signature"}),F.createElement("div",{className:["rccs__cvc",d==="cvc"?"rccs--focused":""].join(" ").trim()},f),F.createElement("div",{className:"rccs__issuer"}))))}var vr={exports:{}};function io(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var st=io(k),lo=Ar;function co(t,r){for(var a=Object.getOwnPropertyNames(r),s=0;s<a.length;s++){var o=a[s],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&t[o]===void 0&&Object.defineProperty(t,o,i)}return t}function pt(){return(pt=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t}).apply(this,arguments)}function uo(t,r){t.prototype=Object.create(r.prototype),co(t.prototype.constructor=t,r)}function mo(t,r){if(t==null)return{};var a,s,o={},i=Object.keys(t);for(s=0;s<i.length;s++)a=i[s],0<=r.indexOf(a)||(o[a]=t[a]);return o}function Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ho=function(t,r,a,s,o,i,l,n){if(!t){var f;if(r===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,s,o,i,l,n],m=0;(f=new Error(r.replace(/%s/g,function(){return d[m++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}},Ot=ho;function Lt(t,r,a){if("selectionStart"in t&&"selectionEnd"in t)t.selectionStart=r,t.selectionEnd=a;else{var s=t.createTextRange();s.collapse(!0),s.moveStart("character",r),s.moveEnd("character",a-r),s.select()}}function po(t){var r=0,a=0;if("selectionStart"in t&&"selectionEnd"in t)r=t.selectionStart,a=t.selectionEnd;else{var s=document.selection.createRange();s.parentElement()===t&&(r=-s.moveStart("character",-t.value.length),a=-s.moveEnd("character",-t.value.length))}return{start:r,end:a,length:a-r}}var go={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},fo="_";function $t(t,r,a){var s="",o="",i=null,l=[];if(r===void 0&&(r=fo),a==null&&(a=go),!t||typeof t!="string")return{maskChar:r,formatChars:a,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var n=!1;return t.split("").forEach(function(f){n=!n&&f==="\\"||(n||!a[f]?(l.push(s.length),s.length===l.length-1&&(o+=f)):i=s.length+1,s+=f,!1)}),{maskChar:r,formatChars:a,prefix:o,mask:s,lastEditablePosition:i,permanents:l}}function Q(t,r){return t.permanents.indexOf(r)!==-1}function Ke(t,r,a){var s=t.mask,o=t.formatChars;if(!a)return!1;if(Q(t,r))return s[r]===a;var i=o[s[r]];return new RegExp(i).test(a)}function Vt(t,r){return r.split("").every(function(a,s){return Q(t,s)||!Ke(t,s,a)})}function Se(t,r){var a=t.maskChar,s=t.prefix;if(!a){for(;r.length>s.length&&Q(t,r.length-1);)r=r.slice(0,r.length-1);return r.length}for(var o=s.length,i=r.length;i>=s.length;i--){var l=r[i];if(!Q(t,i)&&Ke(t,i,l)){o=i+1;break}}return o}function yr(t,r){return Se(t,r)===t.mask.length}function ue(t,r){var a=t.maskChar,s=t.mask,o=t.prefix;if(!a){for((r=gt(t,"",r,0)).length<o.length&&(r=o);r.length<s.length&&Q(t,r.length);)r+=s[r.length];return r}if(r)return gt(t,ue(t,""),r,0);for(var i=0;i<s.length;i++)Q(t,i)?r+=s[i]:r+=a;return r}function xo(t,r,a,s){var o=a+s,i=t.maskChar,l=t.mask,n=t.prefix,f=r.split("");if(i)return f.map(function(m,g){return g<a||o<=g?m:Q(t,g)?l[g]:i}).join("");for(var d=o;d<f.length;d++)Q(t,d)&&(f[d]="");return a=Math.max(n.length,a),f.splice(a,o-a),r=f.join(""),ue(t,r)}function gt(t,r,a,s){var o=t.mask,i=t.maskChar,l=t.prefix,n=a.split(""),f=yr(t,r);return!i&&s>r.length&&(r+=o.slice(r.length,s)),n.every(function(d){for(;C=d,Q(t,v=s)&&C!==o[v];){if(s>=r.length&&(r+=o[s]),m=d,g=s,i&&Q(t,g)&&m===i)return!0;if(++s>=o.length)return!1}var m,g,v,C;return!Ke(t,s,d)&&d!==i||(s<r.length?r=i||f||s<l.length?r.slice(0,s)+d+r.slice(s+1):(r=r.slice(0,s)+d+r.slice(s),ue(t,r)):i||(r+=d),++s<o.length)}),r}function vo(t,r,a,s){var o=t.mask,i=t.maskChar,l=a.split(""),n=s;return l.every(function(f){for(;m=f,Q(t,d=s)&&m!==o[d];)if(++s>=o.length)return!1;var d,m;return(Ke(t,s,f)||f===i)&&s++,s<o.length}),s-n}function yo(t,r){for(var a=r;0<=a;--a)if(!Q(t,a))return a;return null}function Ae(t,r){for(var a=t.mask,s=r;s<a.length;++s)if(!Q(t,s))return s;return null}function nt(t){return t||t===0?t+"":""}function bo(t,r,a,s,o){var i=t.mask,l=t.prefix,n=t.lastEditablePosition,f=r,d="",m=0,g=0,v=Math.min(o.start,a.start);return a.end>o.start?g=(m=vo(t,s,d=f.slice(o.start,a.end),v))?o.length:0:f.length<s.length&&(g=s.length-f.length),f=s,g&&(g===1&&!o.length&&(v=o.start===a.start?Ae(t,a.start):yo(t,a.start)),f=xo(t,f,v,g)),f=gt(t,f,d,v),(v+=m)>=i.length?v=i.length:v<l.length&&!m?v=l.length:v>=l.length&&v<n&&m&&(v=Ae(t,v)),d||(d=null),{value:f=ue(t,f),enteredString:d,selection:{start:v,end:v}}}function Co(){var t=new RegExp("windows","i"),r=new RegExp("phone","i"),a=navigator.userAgent;return t.test(a)&&r.test(a)}function G(t){return typeof t=="function"}function wo(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function br(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function zt(t){return(br()?wo():function(){return setTimeout(t,1e3/60)})(t)}function it(t){(br()||clearTimeout)(t)}var jo=function(t){function r(s){var o=t.call(this,s)||this;o.focused=!1,o.mounted=!1,o.previousSelection=null,o.selectionDeferId=null,o.saveSelectionLoopDeferId=null,o.saveSelectionLoop=function(){o.previousSelection=o.getSelection(),o.saveSelectionLoopDeferId=zt(o.saveSelectionLoop)},o.runSaveSelectionLoop=function(){o.saveSelectionLoopDeferId===null&&o.saveSelectionLoop()},o.stopSaveSelectionLoop=function(){o.saveSelectionLoopDeferId!==null&&(it(o.saveSelectionLoopDeferId),o.saveSelectionLoopDeferId=null,o.previousSelection=null)},o.getInputDOMNode=function(){if(!o.mounted)return null;var b=lo.findDOMNode(Ce(Ce(o))),x=typeof window<"u"&&b instanceof window.Element;if(b&&!x)return null;if(b.nodeName!=="INPUT"&&(b=b.querySelector("input")),!b)throw new Error("react-input-mask: inputComponent doesn't contain input node");return b},o.getInputValue=function(){var b=o.getInputDOMNode();return b?b.value:null},o.setInputValue=function(b){var x=o.getInputDOMNode();x&&(o.value=b,x.value=b)},o.setCursorToEnd=function(){var b=Se(o.maskOptions,o.value),x=Ae(o.maskOptions,b);x!==null&&o.setCursorPosition(x)},o.setSelection=function(b,x,p){p===void 0&&(p={});var c=o.getInputDOMNode(),h=o.isFocused();c&&h&&(p.deferred||Lt(c,b,x),o.selectionDeferId!==null&&it(o.selectionDeferId),o.selectionDeferId=zt(function(){o.selectionDeferId=null,Lt(c,b,x)}),o.previousSelection={start:b,end:x,length:Math.abs(x-b)})},o.getSelection=function(){return po(o.getInputDOMNode())},o.getCursorPosition=function(){return o.getSelection().start},o.setCursorPosition=function(b){o.setSelection(b,b)},o.isFocused=function(){return o.focused},o.getBeforeMaskedValueChangeConfig=function(){var b=o.maskOptions,x=b.mask,p=b.maskChar,c=b.permanents,h=b.formatChars;return{mask:x,maskChar:p,permanents:c,alwaysShowMask:!!o.props.alwaysShowMask,formatChars:h}},o.isInputAutofilled=function(b,x,p,c){var h=o.getInputDOMNode();try{if(h.matches(":-webkit-autofill"))return!0}catch{}return!o.focused||c.end<p.length&&x.end===b.length},o.onChange=function(b){var x=Ce(Ce(o)).beforePasteState,p=Ce(Ce(o)).previousSelection,c=o.props.beforeMaskedValueChange,h=o.getInputValue(),j=o.value,B=o.getSelection();o.isInputAutofilled(h,B,j,p)&&(j=ue(o.maskOptions,""),p={start:0,end:0,length:0}),x&&(p=x.selection,j=x.value,B={start:p.start+h.length,end:p.start+h.length,length:0},h=j.slice(0,p.start)+h+j.slice(p.end),o.beforePasteState=null);var w=bo(o.maskOptions,h,B,j,p),E=w.enteredString,S=w.selection,_=w.value;if(G(c)){var N=c({value:_,selection:S},{value:j,selection:p},E,o.getBeforeMaskedValueChangeConfig());_=N.value,S=N.selection}o.setInputValue(_),G(o.props.onChange)&&o.props.onChange(b),o.isWindowsPhoneBrowser?o.setSelection(S.start,S.end,{deferred:!0}):o.setSelection(S.start,S.end)},o.onFocus=function(b){var x=o.props.beforeMaskedValueChange,p=o.maskOptions,c=p.mask,h=p.prefix;if(o.focused=!0,o.mounted=!0,c){if(o.value)Se(o.maskOptions,o.value)<o.maskOptions.mask.length&&o.setCursorToEnd();else{var j=ue(o.maskOptions,h),B=ue(o.maskOptions,j),w=Se(o.maskOptions,B),E=Ae(o.maskOptions,w),S={start:E,end:E};if(G(x)){var _=x({value:B,selection:S},{value:o.value,selection:null},null,o.getBeforeMaskedValueChangeConfig());B=_.value,S=_.selection}var N=B!==o.getInputValue();N&&o.setInputValue(B),N&&G(o.props.onChange)&&o.props.onChange(b),o.setSelection(S.start,S.end)}o.runSaveSelectionLoop()}G(o.props.onFocus)&&o.props.onFocus(b)},o.onBlur=function(b){var x=o.props.beforeMaskedValueChange,p=o.maskOptions.mask;if(o.stopSaveSelectionLoop(),o.focused=!1,p&&!o.props.alwaysShowMask&&Vt(o.maskOptions,o.value)){var c="";G(x)&&(c=x({value:c,selection:null},{value:o.value,selection:o.previousSelection},null,o.getBeforeMaskedValueChangeConfig()).value);var h=c!==o.getInputValue();h&&o.setInputValue(c),h&&G(o.props.onChange)&&o.props.onChange(b)}G(o.props.onBlur)&&o.props.onBlur(b)},o.onMouseDown=function(b){if(!o.focused&&document.addEventListener){o.mouseDownX=b.clientX,o.mouseDownY=b.clientY,o.mouseDownTime=new Date().getTime();var x=function p(c){if(document.removeEventListener("mouseup",p),o.focused){var h=Math.abs(c.clientX-o.mouseDownX),j=Math.abs(c.clientY-o.mouseDownY),B=Math.max(h,j),w=new Date().getTime()-o.mouseDownTime;(B<=10&&w<=200||B<=5&&w<=300)&&o.setCursorToEnd()}};document.addEventListener("mouseup",x)}G(o.props.onMouseDown)&&o.props.onMouseDown(b)},o.onPaste=function(b){G(o.props.onPaste)&&o.props.onPaste(b),b.defaultPrevented||(o.beforePasteState={value:o.getInputValue(),selection:o.getSelection()},o.setInputValue(""))},o.handleRef=function(b){o.props.children==null&&G(o.props.inputRef)&&o.props.inputRef(b)};var i=s.mask,l=s.maskChar,n=s.formatChars,f=s.alwaysShowMask,d=s.beforeMaskedValueChange,m=s.defaultValue,g=s.value;o.maskOptions=$t(i,l,n),m==null&&(m=""),g==null&&(g=m);var v=nt(g);if(o.maskOptions.mask&&(f||v)&&(v=ue(o.maskOptions,v),G(d))){var C=s.value;s.value==null&&(C=m),v=d({value:v,selection:null},{value:C=nt(C),selection:null},null,o.getBeforeMaskedValueChangeConfig()).value}return o.value=v,o}uo(r,t);var a=r.prototype;return a.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=Co(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},a.componentDidUpdate=function(){var s=this.previousSelection,o=this.props,i=o.beforeMaskedValueChange,l=o.alwaysShowMask,n=o.mask,f=o.maskChar,d=o.formatChars,m=this.maskOptions,g=l||this.isFocused(),v=this.props.value!=null,C=v?nt(this.props.value):this.value,b=s?s.start:null;if(this.maskOptions=$t(n,f,d),this.maskOptions.mask){!m.mask&&this.isFocused()&&this.runSaveSelectionLoop();var x=this.maskOptions.mask&&this.maskOptions.mask!==m.mask;if(m.mask||v||(C=this.getInputValue()),(x||this.maskOptions.mask&&(C||g))&&(C=ue(this.maskOptions,C)),x){var p=Se(this.maskOptions,C);(b===null||p<b)&&(b=yr(this.maskOptions,C)?p:Ae(this.maskOptions,p))}!this.maskOptions.mask||!Vt(this.maskOptions,C)||g||v&&this.props.value||(C="");var c={start:b,end:b};if(G(i)){var h=i({value:C,selection:c},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());C=h.value,c=h.selection}this.value=C;var j=this.getInputValue()!==this.value;j?(this.setInputValue(this.value),this.forceUpdate()):x&&this.forceUpdate();var B=!1;c.start!=null&&c.end!=null&&(B=!s||s.start!==c.start||s.end!==c.end),(B||j)&&this.setSelection(c.start,c.end)}else m.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},a.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&it(this.selectionDeferId),this.stopSaveSelectionLoop()},a.render=function(){var s,o=this.props,i=(o.mask,o.alwaysShowMask,o.maskChar,o.formatChars,o.inputRef,o.beforeMaskedValueChange,o.children),l=mo(o,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(i){G(i)||Ot(!1);var n=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],f=pt({},l);n.forEach(function(m){return delete f[m]}),s=i(f),n.filter(function(m){return s.props[m]!=null&&s.props[m]!==l[m]}).length&&Ot(!1)}else s=st.createElement("input",pt({ref:this.handleRef},l));var d={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(l.disabled||l.readOnly||(d.onChange=this.onChange,d.onPaste=this.onPaste,d.onMouseDown=this.onMouseDown),l.value!=null&&(d.value=this.value)),s=st.cloneElement(s,d)},r}(st.Component),No=jo;vr.exports=No;var ko=vr.exports;const qt=Rr(ko),Eo=[{name:"Visa",pattern:/^4/,color:"from-blue-600 to-blue-800"},{name:"Mastercard",pattern:/^5[1-5]/,color:"from-red-600 to-orange-600"},{name:"Amex",pattern:/^3[47]/,color:"from-blue-500 to-blue-700"},{name:"Elo",pattern:/^(4011|4312|4389|4514|4576|5041|5066|5067|6277|6362|6363|6504|6505|6516)/,color:"from-yellow-500 to-yellow-700"},{name:"Hipercard",pattern:/^(38|60)/,color:"from-red-500 to-red-700"}],Bo=({onCardDataChange:t,theme:r={},errors:a={}})=>{const[s,o]=k.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvv:""}),[i,l]=k.useState(""),[n,f]=k.useState(""),[d,m]=k.useState({number:null,holderName:null,expiry:null,cvv:null});k.useEffect(()=>{const h=s.number.replace(/\s/g,""),j=Eo.find(B=>B.pattern.test(h));if(f((j==null?void 0:j.name)||""),h.length>=13){const B=g(h);m(w=>({...w,number:B}))}else h.length>0&&m(B=>({...B,number:null}));t({...s,brand:j==null?void 0:j.name})},[s]);const g=h=>{if(!/^\d+$/.test(h)||h.length<13||h.length>19)return!1;let j=0,B=!1;for(let w=h.length-1;w>=0;w--){let E=parseInt(h.charAt(w),10);B&&(E*=2,E>9&&(E-=9)),j+=E,B=!B}return j%10===0},v=h=>h.trim().length>=3&&/^[a-zA-Z√Ä-√ø\s]+$/.test(h),C=(h,j)=>{if(!h||!j)return!1;const B=parseInt(h,10),w=parseInt(j,10);if(B<1||B>12)return!1;const E=new Date,S=E.getFullYear()%100,_=E.getMonth()+1;return!(w<S||w===S&&B<_)},b=(h,j)=>{const B=j==="Amex"?4:3;return h.length===B&&/^\d+$/.test(h)},x=(h,j)=>{let B=j;if(h==="number")B=j.replace(/\s/g,"").replace(/\D/g,"").slice(0,16);else if(h==="holderName")B=j.toUpperCase(),B.trim().length>=3&&m(E=>({...E,holderName:v(B)}));else if(h==="cvv"){const E=n==="Amex"?4:3;B=j.replace(/\D/g,"").slice(0,E),B.length===E&&m(S=>({...S,cvv:b(B,n)}))}const w={...s,[h]:B};o(w),t(w)},p=h=>{const j=h.replace(/\D/g,"");if(j.length>=2){const B=j.slice(0,2),w=j.slice(2,4);o(E=>({...E,expiryMonth:B,expiryYear:w})),j.length===4&&m(E=>({...E,expiry:C(B,w)}))}else o(B=>({...B,expiryMonth:j,expiryYear:""}))},c=h=>d[h]===!0?e.jsx(Gr,{className:"h-5 w-5 text-green-500"}):d[h]===!1?e.jsx(re,{className:"h-5 w-5 text-red-500"}):null;return e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6 max-w-2xl mx-auto px-2 md:px-4",children:[e.jsxs(y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center space-y-2",children:[e.jsxs(y.div,{whileHover:{scale:1.05,rotate:5},className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-purple-500 via-indigo-500 to-blue-500 shadow-2xl mb-3 relative",children:[e.jsx(be,{className:"h-8 w-8 md:h-10 md:w-10 text-white relative z-10"}),e.jsx(y.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-purple-400 rounded-2xl blur-xl"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent",children:"Dados do Cart√£o"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400",children:"Preencha os dados com seguran√ßa"})]}),e.jsxs(y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative",children:[e.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 rounded-3xl blur-2xl opacity-20 animate-pulse"}),e.jsx("div",{className:"relative",children:e.jsx(no,{number:s.number,name:s.holderName,expiry:`${s.expiryMonth}${s.expiryYear}`,cvc:s.cvv,focused:i,locale:{valid:"Validade"},placeholders:{name:"SEU NOME AQUI"}})})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(z,{className:"text-sm md:text-base font-semibold flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"N√∫mero do Cart√£o"]}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{mask:"9999 9999 9999 9999",value:s.number.replace(/(\d{4})/g,"$1 ").trim(),onChange:h=>x("number",h.target.value),onFocus:()=>l("number"),onBlur:()=>l(""),maskChar:"",children:h=>e.jsx(H,{...h,type:"text",placeholder:"0000 0000 0000 0000",className:D("h-14 text-lg font-mono pr-12 transition-all duration-300",d.number===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",d.number===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")})}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx(se,{mode:"wait",children:d.number!==null&&e.jsx(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:c("number")})})})]}),n&&e.jsxs(y.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ut,{className:"h-4 w-4 text-purple-500"}),e.jsxs("span",{children:["Bandeira detectada: ",e.jsx("strong",{children:n})]})]}),a.number&&e.jsxs(y.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(re,{className:"h-4 w-4"}),a.number]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{className:"text-sm md:text-base font-semibold",children:"Nome do Titular"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{type:"text",placeholder:"NOME COMO EST√Å NO CART√ÉO",value:s.holderName,onChange:h=>x("holderName",h.target.value),onFocus:()=>l("name"),onBlur:()=>l(""),className:D("h-14 text-lg uppercase pr-12 transition-all duration-300",d.holderName===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",d.holderName===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx(se,{mode:"wait",children:d.holderName!==null&&e.jsx(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:c("holderName")})})})]}),a.holderName&&e.jsxs(y.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(re,{className:"h-4 w-4"}),a.holderName]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{className:"text-sm md:text-base font-semibold",children:"Validade"}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{mask:"99/99",value:`${s.expiryMonth}${s.expiryYear?"/"+s.expiryYear:""}`,onChange:h=>p(h.target.value),onFocus:()=>l("expiry"),onBlur:()=>l(""),maskChar:"",children:h=>e.jsx(H,{...h,type:"text",placeholder:"MM/AA",className:D("h-14 text-lg font-mono pr-12 transition-all duration-300",d.expiry===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",d.expiry===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")})}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx(se,{mode:"wait",children:d.expiry!==null&&e.jsx(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:c("expiry")})})})]}),a.expiry&&e.jsxs(y.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(re,{className:"h-3 w-3"}),a.expiry]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(z,{className:"text-sm md:text-base font-semibold flex items-center gap-2",children:["CVV",e.jsxs(y.div,{whileHover:{scale:1.1},className:"group relative",children:[e.jsx(_r,{className:"h-4 w-4 text-gray-400 cursor-help"}),e.jsxs(y.div,{initial:{opacity:0,scale:.9},whileHover:{opacity:1,scale:1},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[n==="Amex"?"4 d√≠gitos no verso":"3 d√≠gitos no verso",e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{type:"text",placeholder:n==="Amex"?"0000":"000",value:s.cvv,onChange:h=>x("cvv",h.target.value),onFocus:()=>l("cvc"),onBlur:()=>l(""),maxLength:n==="Amex"?4:3,className:D("h-14 text-lg font-mono pr-12 transition-all duration-300",d.cvv===!0&&"border-green-500 bg-green-50 dark:bg-green-950/20",d.cvv===!1&&"border-red-500 bg-red-50 dark:bg-red-950/20","focus:ring-2 focus:ring-purple-500")}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx(se,{mode:"wait",children:d.cvv!==null?e.jsx(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},children:c("cvv")}):e.jsx(Be,{className:"h-5 w-5 text-gray-400"})})})]}),a.cvv&&e.jsxs(y.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(re,{className:"h-3 w-3"}),a.cvv]})]})]})]}),e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-3 p-4 md:p-5 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-2xl border-2 border-green-200 dark:border-green-800",children:[e.jsx(y.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Yt,{className:"h-6 w-6 text-green-600 dark:text-green-400 flex-shrink-0"})}),e.jsx("p",{className:"text-xs md:text-sm text-green-700 dark:text-green-300 font-semibold",children:"üîí Seus dados est√£o protegidos com criptografia SSL de 256 bits"})]})]})},Po=({boletoData:t,theme:r={}})=>{const[a,s]=k.useState(!1),[o,i]=k.useState(0);k.useEffect(()=>{if(!(t!=null&&t.dueDate))return;(()=>{const b=new Date;b.setHours(0,0,0,0);const x=new Date(t.dueDate);x.setHours(0,0,0,0);const p=x.getTime()-b.getTime(),c=Math.ceil(p/(1e3*60*60*24));i(c)})()},[t==null?void 0:t.dueDate]);const l=async()=>{if(t!=null&&t.digitableLine)try{await navigator.clipboard.writeText(t.digitableLine),s(!0),setTimeout(()=>s(!1),3e3)}catch(C){console.error("Erro ao copiar c√≥digo:",C)}},n=()=>{if(t!=null&&t.boletoUrl)window.open(t.boletoUrl,"_blank");else if(t!=null&&t.pdf){const C=document.createElement("a");C.href=t.pdf,C.download=`boleto-${Date.now()}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C)}},f=()=>{if(t!=null&&t.boletoUrl){const C=window.open(t.boletoUrl,"_blank");C==null||C.print()}},d=C=>new Date(C).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),m=C=>C.replace(/^(\d{5})(\d{5})(\d{5})(\d{6})(\d{5})(\d{6})(\d)(\d{14})$/,"$1.$2 $3.$4 $5.$6 $7 $8");if(!t)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 dark:bg-orange-900/20 mb-4",children:e.jsx(It,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 animate-pulse"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:r.headingColor},children:"Gerando boleto..."}),e.jsx("p",{className:"text-sm opacity-70",style:{color:r.textColor},children:"Aguarde enquanto preparamos seu boleto banc√°rio"})]});const g=o<0,v=o<=3&&o>=0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:D("flex items-center justify-between p-4 rounded-xl border-2 transition-all",g?"bg-red-50 border-red-200 dark:bg-red-950/20 dark:border-red-800":v?"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20 dark:border-yellow-800":"bg-blue-50 border-blue-200 dark:bg-blue-950/20 dark:border-blue-800"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Wr,{className:D("h-6 w-6",g?"text-red-600 dark:text-red-400":v?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400")}),e.jsxs("div",{children:[e.jsx("p",{className:D("text-sm font-medium",g?"text-red-700 dark:text-red-300":v?"text-yellow-700 dark:text-yellow-300":"text-blue-700 dark:text-blue-300"),children:g?"Vencido":v?"Vence em breve":"Vencimento"}),e.jsx("p",{className:D("text-lg font-bold",g?"text-red-800 dark:text-red-200":v?"text-yellow-800 dark:text-yellow-200":"text-blue-800 dark:text-blue-200"),children:d(t.dueDate)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm opacity-70",style:{color:r.textColor},children:"Valor"}),e.jsxs("p",{className:"text-xl font-bold",style:{color:r.headingColor},children:["R$ ",t.amount.toFixed(2)]})]})]}),e.jsx(J,{className:"overflow-hidden border-2",children:e.jsx(Z,{className:"p-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 mb-2",children:e.jsx(It,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:r.headingColor},children:"Boleto Banc√°rio"}),e.jsx("p",{className:"text-sm opacity-70",style:{color:r.textColor},children:"Pague em qualquer banco, lot√©rica ou internet banking"})]}),e.jsxs("div",{className:"py-6 px-4 bg-white dark:bg-gray-900 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-center items-end gap-[2px] h-20",children:t.barcode.split("").map((C,b)=>{const x=[60,80,70,90,75,85,65,95,70,80],p=x[parseInt(C)%x.length];return e.jsx("div",{className:"w-1 bg-black dark:bg-white",style:{height:`${p}%`}},b)})}),e.jsx("p",{className:"text-xs font-mono mt-3 text-gray-500 dark:text-gray-400",children:t.barcode})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(oe,{onClick:n,variant:"outline",className:"gap-2 h-12 font-semibold",disabled:!t.boletoUrl&&!t.pdf,children:[e.jsx(Qr,{className:"h-4 w-4"}),"Baixar Boleto"]}),e.jsxs(oe,{onClick:f,variant:"outline",className:"gap-2 h-12 font-semibold",disabled:!t.boletoUrl,children:[e.jsx(ea,{className:"h-4 w-4"}),"Imprimir"]})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium block",style:{color:r.textColor},children:"Linha digit√°vel (para pagar no internet banking):"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"px-4 py-4 bg-gray-50 dark:bg-gray-900 rounded-lg border",style:{color:r.textColor},children:e.jsx("code",{className:"text-sm font-mono block text-center",children:m(t.digitableLine)})}),e.jsx(oe,{onClick:l,className:"w-full gap-2 h-12 font-semibold",style:{backgroundColor:r.primaryButtonBackgroundColor,color:r.primaryButtonTextColor},children:a?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-4 w-4"}),"C√≥digo Copiado!"]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"h-4 w-4"}),"Copiar C√≥digo"]})})]})]}),e.jsx(J,{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 border-orange-200 dark:border-orange-800",children:e.jsx(Z,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",style:{color:r.headingColor},children:[e.jsx(Xr,{className:"h-5 w-5"}),"Como pagar o boleto:"]}),e.jsxs("ol",{className:"space-y-3 text-sm",style:{color:r.textColor},children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"1"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Baixe ou imprima"})," o boleto usando os bot√µes acima"]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"2"}),e.jsxs("span",{children:["Pague no ",e.jsx("strong",{children:"banco"}),", ",e.jsx("strong",{children:"lot√©rica"})," ou"," ",e.jsx("strong",{children:"internet banking"})," at√© a data de vencimento"]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"3"}),e.jsxs("span",{children:["No internet banking, use a"," ",e.jsx("strong",{children:"linha digit√°vel"})," acima"]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-orange-600 text-white text-xs font-bold",children:"4"}),e.jsxs("span",{children:["A confirma√ß√£o do pagamento pode levar at√©"," ",e.jsx("strong",{children:"2 dias √∫teis"})]})]})]})]})})}),g&&e.jsx(J,{className:"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800",children:e.jsx(Z,{className:"p-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(re,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium mb-1",children:"Boleto Vencido"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Este boleto est√° vencido. Para pag√°-lo, voc√™ precisar√° gerar uma segunda via ou entrar em contato com o suporte."})]})]})})}),v&&!g&&e.jsx(J,{className:"bg-yellow-50 dark:bg-yellow-950/20 border-yellow-200 dark:border-yellow-800",children:e.jsx(Z,{className:"p-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(re,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 font-medium mb-1",children:"Vencimento Pr√≥ximo"}),e.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Seu boleto vence em ",o," ",o===1?"dia":"dias",". N√£o se esque√ßa de pag√°-lo para evitar juros."]})]})]})})})]})},So={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},To=({paymentMethod:t,setPaymentMethod:r,cardData:a,setCardData:s,pixData:o,boletoData:i,installments:l,setInstallments:n,finalTotal:f,cardErrors:d={},getDiscountInfoForMethod:m,theme:g})=>{const v=[{id:"PIX",icon:dt,label:"PIX",description:"Aprova√ß√£o instant√¢nea",gradient:"from-green-400 via-emerald-500 to-teal-600"},{id:"CREDIT_CARD",icon:be,label:"Cart√£o de Cr√©dito",description:"Parcele em at√© 12x",gradient:"from-purple-500 via-indigo-500 to-blue-500"},{id:"BOLETO",icon:Tt,label:"Boleto Banc√°rio",description:"Vencimento em 3 dias",gradient:"from-orange-400 via-amber-500 to-yellow-600"}];return e.jsx(y.div,{...So,children:e.jsx(J,{style:{backgroundColor:g.cardBackgroundColor,borderColor:g.cardBorderColor,borderRadius:g.cardBorderRadius,boxShadow:g.cardShadow},children:e.jsxs(Z,{className:"p-5 md:p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-1 flex items-center gap-2",style:{color:g.headingColor},children:[e.jsx(be,{className:"w-6 h-6"}),"Forma de Pagamento"]}),e.jsx("p",{className:"text-sm opacity-75",style:{color:g.textColor},children:"Escolha como deseja pagar"})]}),e.jsx("div",{className:"grid gap-3",children:v.map((C,b)=>{const x=m==null?void 0:m(C.id),p=t===C.id,c=C.icon;return e.jsxs(y.button,{type:"button",onClick:()=>r(C.id),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},whileHover:{scale:1.02},whileTap:{scale:.98},className:D("p-4 md:p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 md:gap-4 relative overflow-hidden group",p&&"shadow-xl"),style:{borderColor:p?g.primaryButtonBackgroundColor:g.inputBorderColor,backgroundColor:p?`${g.primaryButtonBackgroundColor}15`:g.inputBackgroundColor},children:[p&&e.jsx(y.div,{className:D("absolute inset-0 bg-gradient-to-r opacity-10",C.gradient),initial:{opacity:0},animate:{opacity:.1},transition:{duration:.3}}),x&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:e.jsx(Fr,{className:"absolute -top-2 -right-2 bg-green-500 hover:bg-green-600 text-white text-xs px-2 py-0.5 shadow-lg",children:x.label})}),e.jsx("div",{className:D("flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center transition-all",p&&"bg-white/10"),children:e.jsx(c,{className:"h-6 w-6 md:h-6 md:w-6",style:{color:p?g.primaryButtonBackgroundColor:g.textColor}})}),e.jsxs("div",{className:"flex-1 relative z-10",children:[e.jsx("div",{className:"font-semibold text-base md:text-base mb-0.5",style:{color:p?g.primaryButtonBackgroundColor:g.headingColor},children:C.label}),e.jsx("div",{className:"text-xs md:text-sm opacity-75",children:x?`${C.description} + ${x.label}`:C.description})]}),p&&e.jsx(y.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:e.jsx(Ht,{className:"h-6 w-6 md:h-6 md:w-6 flex-shrink-0",style:{color:g.stepCompletedColor}})})]},C.id)})}),e.jsxs(se,{mode:"wait",children:[t==="CREDIT_CARD"&&e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsx(Bo,{onCardDataChange:s,theme:g,errors:d}),f>0&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs(z,{htmlFor:"installments",className:"flex items-center gap-2",style:{color:g.labelColor,fontWeight:g.labelFontWeight},children:[e.jsx(be,{className:"w-4 h-4"}),"N√∫mero de Parcelas"]}),e.jsx("select",{id:"installments",value:l,onChange:C=>n(Number(C.target.value)),className:"w-full mt-1.5 px-4 rounded-lg text-base transition-all duration-300 hover:border-blue-500",style:{backgroundColor:g.inputBackgroundColor,borderColor:g.inputBorderColor,height:48,borderRadius:g.inputBorderRadius,borderWidth:1,borderStyle:"solid",color:g.textColor},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(C=>{const b=f/C;return e.jsxs("option",{value:C,children:[C,"x de R$ ",b.toFixed(2),C===1?" √† vista":""]},C)})})]})]},"credit-card"),t==="PIX"&&e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o?e.jsx(Qa,{pixData:o,theme:g}):e.jsxs(y.div,{className:"text-center py-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-green-100 to-emerald-100 dark:bg-green-900/20 mb-4",children:e.jsx(dt,{className:"h-8 w-8 text-green-600 dark:text-green-400 animate-pulse"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:g.headingColor},children:'Clique em "Finalizar Compra" para gerar o PIX'}),e.jsx("p",{className:"text-sm opacity-70",style:{color:g.textColor},children:"Voc√™ receber√° o QR Code para pagamento instant√¢neo"})]})},"pix"),t==="BOLETO"&&e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:i?e.jsx(Po,{boletoData:i,theme:g}):e.jsxs(y.div,{className:"text-center py-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-100 to-amber-100 dark:bg-orange-900/20 mb-4",children:e.jsx(Tt,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 animate-pulse"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:g.headingColor},children:'Clique em "Finalizar Compra" para gerar o Boleto'}),e.jsx("p",{className:"text-sm opacity-70",style:{color:g.textColor},children:"Voc√™ poder√° baixar e imprimir o boleto banc√°rio"})]})},"boleto")]})]})})})},Io=t=>t.replace(/\D/g,""),Ut=t=>Io(t),Ao=({injectedOrderId:t,injectedTheme:r,previewMode:a=!1})=>{var Bt;const{orderId:s}=Mr(),o=t||s||null,i=Dr(),{toast:l}=ft(),[n,f]=k.useState(null),[d,m]=k.useState(null),[g,v]=k.useState(null),[C,b]=k.useState(!0),[x,p]=k.useState(!1),[c,h]=k.useState(1),[j,B]=k.useState(!1),[w,E]=k.useState(!1),[S,_]=k.useState({name:"",email:"",phone:"",document:""}),[N,R]=k.useState({street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""}),[A,L]=k.useState("PIX"),[fe,Fe]=k.useState(1),[ee,Cr]=k.useState(null),[je,bt]=k.useState(null),[Ne,Je]=k.useState(null),[wr,Ro]=k.useState({}),[_o,Fo]=k.useState(!1),{calculation:ke,activeDiscount:Me,getDiscountLabel:jr,getDiscountInfoForMethod:Nr}=ta({userId:(d==null?void 0:d.userId)||null,paymentMethod:A,purchaseAmount:(n==null?void 0:n.subtotal)||0}),te=ke.hasDiscount?ke.finalTotal+((n==null?void 0:n.shipping)||0)+((n==null?void 0:n.tax)||0):(n==null?void 0:n.total)||0,{initialized:xe,trackPageView:Ct,trackInitiateCheckout:wt,trackAddPaymentInfo:jt,trackPurchase:kr}=ra((d==null?void 0:d.userId)||null);k.useEffect(()=>{xe&&d&&Ct()},[xe,d,Ct]),k.useEffect(()=>{xe&&c===3&&n&&wt(te,n.items||[])},[xe,c,te,n,wt]),k.useEffect(()=>{xe&&A&&c===3&&jt(te,A)},[xe,A,te,c,jt]);const{markAsRecovered:Nt,isMonitoring:kt}=aa({orderId:o,currentStep:c,customerData:S,addressData:N,checkoutData:n,userId:(d==null?void 0:d.userId)||null});k.useEffect(()=>{kt&&console.log("üîç Monitoramento de abandono ativo")},[kt]),k.useEffect(()=>{const P=localStorage.getItem(`checkout-${s}`);if(P)try{const T=JSON.parse(P);T.currentStep&&h(T.currentStep),T.customerData&&_(T.customerData),T.addressData&&R(T.addressData),T.paymentMethod&&L(T.paymentMethod),T.pixData&&bt(T.pixData),T.boletoData&&Je(T.boletoData)}catch(T){console.error("Erro ao recuperar estado:",T)}},[s]),k.useEffect(()=>{if(s){const P={currentStep:c,customerData:S,addressData:N,paymentMethod:A,pixData:je,boletoData:Ne,savedAt:new Date().toISOString()};localStorage.setItem(`checkout-${s}`,JSON.stringify(P))}},[c,S,N,A,je,Ne,s]);const u=r?At(r):g!=null&&g.theme?At(g.theme):er;k.useEffect(()=>{o&&Er()},[o]);const Er=async()=>{var P;try{b(!0);const{data:T,error:ve}=await O.from("Order").select("*").eq("id",o).single();if(ve||!T)throw new Error("Pedido n√£o encontrado");const Ze=Array.isArray(T.items)?T.items:[],Oe=Array.isArray((P=T.metadata)==null?void 0:P.originalProducts)?T.metadata.originalProducts:[],I={orderId:T.id,products:Ze.map(V=>{const M=Oe.find($=>($==null?void 0:$.variantId)&&String($.variantId)===String(V.variantId)||($==null?void 0:$.productId)&&String($.productId)===String(V.productId)||($==null?void 0:$.id)&&(String($.id)===String(V.productId)||String($.id)===String(V.id)));return{id:V.productId||V.id,name:V.name||(M==null?void 0:M.name)||(M==null?void 0:M.title)||"Produto",price:Number(V.price)||0,quantity:Number(V.quantity)||1,image:V.image||(M==null?void 0:M.image)||(Array.isArray(M==null?void 0:M.images)?M.images[0]:"")||"",sku:V.sku||(M==null?void 0:M.sku)||""}}),total:Number(T.total)||0,subtotal:Number(T.subtotal)||0,tax:Number(T.tax)||0,shipping:Number(T.shipping)||0,discount:Number(T.discount)||0};if(f(I),m(T),!a&&T.userId)try{const V=await Jr.loadCustomization(T.userId);V&&v(V)}catch{console.log("Usando tema padr√£o")}}catch(T){console.error("Erro ao carregar checkout:",T),l({title:"Erro ao carregar checkout",description:T.message||"Tente novamente mais tarde",variant:"destructive"})}finally{b(!1)}},Et=P=>{if(P===1){if(!S.name||!S.email||!S.phone)return l({title:"Dados incompletos",description:"Preencha todos os campos obrigat√≥rios",variant:"destructive"}),!1;if(u.requestCpfOnlyAtPayment===!1&&!S.document)return l({title:"CPF obrigat√≥rio",description:"Por favor, informe seu CPF",variant:"destructive"}),!1}return P===2&&(!N.zipCode||!N.street||!N.number||!N.neighborhood||!N.city||!N.state)?(l({title:"Endere√ßo incompleto",description:"Preencha todos os campos obrigat√≥rios",variant:"destructive"}),!1):!0},Br=()=>{Et(c)&&(h(c+1),window.scrollTo({top:0,behavior:"smooth"}))},Pr=()=>{h(c-1),window.scrollTo({top:0,behavior:"smooth"})},Sr=async()=>{var P,T;if(Et(c))try{p(!0);const ve=A.toLowerCase();if(console.log("üîç [DEBUG] Payment method original:",A),console.log("üîç [DEBUG] Payment method normalized:",ve),A==="CREDIT_CARD"&&(!ee||!ee.number||!ee.holderName||!ee.cvv)){l({title:"Dados do cart√£o incompletos",description:"Por favor, preencha todos os dados do cart√£o.",variant:"destructive"}),p(!1);return}const Ze=A==="CREDIT_CARD"&&ee?{number:ee.number.replace(/\s/g,""),holderName:ee.holderName,expiryMonth:ee.expiryMonth,expiryYear:ee.expiryYear,cvv:ee.cvv}:void 0;console.log("üìù [UPDATE] Atualizando pedido com dados do cadastro...");const{error:Oe}=await O.from("Order").update({customerName:S.name,customerEmail:S.email,customerPhone:S.phone,customerCpf:Ut(S.document),shippingAddress:{street:N.street,number:N.number,complement:N.complement||"",neighborhood:N.neighborhood,city:N.city,state:N.state,zipCode:N.zipCode,country:"BR"},billingAddress:{street:N.street,number:N.number,complement:N.complement||"",neighborhood:N.neighborhood,city:N.city,state:N.state,zipCode:N.zipCode,country:"BR"},paymentMethod:A,updatedAt:new Date().toISOString()}).eq("id",o);if(Oe){console.error("‚ùå [UPDATE] Erro ao atualizar pedido:",Oe),l({title:"Erro ao salvar dados",description:"N√£o foi poss√≠vel salvar os dados do pedido",variant:"destructive"}),p(!1);return}console.log("‚úÖ [UPDATE] Pedido atualizado com sucesso!",{orderId:o,customerName:S.name,customerEmail:S.email});const{data:I,error:V}=await O.functions.invoke("process-payment",{body:{userId:d==null?void 0:d.userId,orderId:o,amount:(n==null?void 0:n.total)||0,currency:"BRL",paymentMethod:ve,customer:{name:S.name,email:S.email,document:Ut(S.document),phone:S.phone},billingAddress:{street:N.street,number:N.number,complement:N.complement,neighborhood:N.neighborhood,city:N.city,state:N.state,zipCode:N.zipCode},card:Ze,installments:A==="CREDIT_CARD"?fe:1}});if(console.log("üîç [DEBUG] Resposta process-payment:",{data:I,error:V}),console.log("üîç [DEBUG] data.success:",I==null?void 0:I.success),console.log("üîç [DEBUG] paymentMethod:",A),console.log("üîç [DEBUG] data.pixData:",I==null?void 0:I.pixData),console.log("üîç [DEBUG] data.transactionId:",I==null?void 0:I.transactionId),console.log("üîç [DEBUG] effectiveOrderId:",o),!(I!=null&&I.success)){if(I!=null&&I.requiresSetup||(I==null?void 0:I.error)==="NO_GATEWAY_CONFIGURED"){l({title:"Gateway n√£o configurado",description:(I==null?void 0:I.hint)||"Configure um gateway de pagamento primeiro",variant:"destructive",duration:1e4}),p(!1);return}throw new Error((I==null?void 0:I.message)||(I==null?void 0:I.error)||"Erro ao processar pagamento")}if(V)throw V;try{console.log("üîÑ [SHOPIFY] Sincronizando pedido com Shopify...",{orderId:o});const{data:M,error:$}=await O.functions.invoke("sync-order-to-shopify",{body:{orderId:o,userId:d==null?void 0:d.userId}});M!=null&&M.success?console.log("‚úÖ [SHOPIFY] Pedido sincronizado com sucesso!",{shopifyOrderId:M.shopifyOrderId,shopifyOrderNumber:M.shopifyOrderNumber,adminUrl:M.shopifyAdminUrl}):$&&console.warn("‚ö†Ô∏è [SHOPIFY] Erro ao sincronizar (n√£o-cr√≠tico):",$)}catch(M){console.warn("‚ö†Ô∏è [SHOPIFY] Erro ao tentar sincronizar com Shopify:",M)}if(I.success)if(xe&&(kr(o,te,(n==null?void 0:n.items)||[],{email:S.email,phone:S.phone,firstName:(P=S.name)==null?void 0:P.split(" ")[0],lastName:(T=S.name)==null?void 0:T.split(" ").slice(1).join(" "),city:N.city,state:N.state,zipCode:N.zipCode,country:"BR"}),console.log("üìä Purchase event tracked:",o,te)),Nt&&(await Nt(),console.log("‚úÖ Carrinho marcado como recuperado")),A==="CREDIT_CARD")l({title:"Pagamento processado!",description:"Redirecionando para confirma√ß√£o..."}),setTimeout(()=>{i(`/checkout/success/${I.transactionId||o}`)},1500);else if(A==="PIX"&&I.pixData){console.log("‚úÖ [DEBUG] Entrando no bloco de PIX"),console.log("‚úÖ [DEBUG] Vai redirecionar para:",`/pix/${o}/${I.transactionId}`),console.log("‚úÖ [DEBUG] pixData recebido:",I.pixData);const M={qrCode:I.pixData.qrCode||"",qrCodeBase64:I.pixData.qrCodeBase64||"",expiresAt:I.pixData.expiresAt||"",amount:(n==null?void 0:n.total)||0,transactionId:I.transactionId||""};try{const $=JSON.stringify(M);localStorage.setItem(`pix-${o}`,$),console.log("‚úÖ [DEBUG] Dados salvos no localStorage")}catch($){console.error("‚ùå [DEBUG] Erro ao salvar no localStorage:",$)}l({title:"PIX gerado com sucesso!",description:"Redirecionando para pagamento..."}),console.log("üöÄ [DEBUG] Iniciando redirecionamento..."),setTimeout(()=>{console.log("üöÄ [DEBUG] Executando navigate..."),i(`/pix/${o}/${I.transactionId}`)},1e3)}else A==="BOLETO"&&I.boletoData?(Je(I.boletoData),localStorage.setItem(`boleto-${o}`,JSON.stringify(I.boletoData)),l({title:"Boleto gerado!",description:"Baixe o boleto para completar o pagamento."})):(console.log("‚ùå [DEBUG] N√ÉO entrou em nenhum bloco de pagamento"),console.log("‚ùå [DEBUG] Motivo:"),console.log("   - paymentMethod:",A),console.log("   - paymentMethod === 'CREDIT_CARD'?",A==="CREDIT_CARD"),console.log("   - paymentMethod === 'PIX'?",A==="PIX"),console.log("   - data.pixData existe?",!!I.pixData),console.log("   - paymentMethod === 'BOLETO'?",A==="BOLETO"),console.log("   - data.boletoData existe?",!!I.boletoData))}catch(ve){console.error("Erro ao processar checkout:",ve),l({title:"Erro ao processar pagamento",description:ve.message||"Tente novamente mais tarde",variant:"destructive"})}finally{p(!1)}};if(C)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.backgroundColor},children:e.jsxs("div",{className:"text-center",children:[e.jsx(ct,{className:"h-12 w-12 animate-spin mx-auto mb-4",style:{color:u.primaryButtonBackgroundColor}}),e.jsx("p",{style:{color:u.textColor},children:"Carregando checkout..."})]})});if(!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:u.backgroundColor},children:e.jsxs(Gt,{variant:"destructive",className:"max-w-md",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx(Wt,{children:"Pedido n√£o encontrado. Verifique o link e tente novamente."})]})});const Tr=3,De=[{number:1,label:"Dados",icon:lt},{number:2,label:"Endere√ßo",icon:Yr},{number:3,label:"Pagamento",icon:be}];return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:u.backgroundColor,color:u.textColor,fontFamily:u.fontFamily},children:[u.noticeBarEnabled&&u.noticeBarMessage&&e.jsx("div",{className:"py-3 px-4 text-center text-sm md:text-base font-medium",style:{backgroundColor:u.noticeBarBackgroundColor,color:u.noticeBarTextColor},children:u.noticeBarMessage}),e.jsx("header",{className:"border-b sticky top-0 z-30 backdrop-blur-lg",style:{backgroundColor:u.useGradient?`linear-gradient(135deg, ${u.backgroundColor}, ${u.backgroundGradient})`:`${u.backgroundColor}F5`,borderColor:u.cardBorderColor},children:e.jsx("div",{className:"container mx-auto px-4 py-4 md:py-6 max-w-6xl",children:e.jsx("div",{className:D("flex items-center",u.logoAlignment==="center"&&"justify-center",u.logoAlignment==="right"&&"justify-end",u.logoAlignment==="left"&&"justify-start"),children:u.logoUrl&&e.jsx("img",{src:u.logoUrl,alt:"Logo",className:"h-8 md:h-10 object-contain",style:{width:u.logoWidth||"auto",height:u.logoHeight||40}})})})}),u.bannerEnabled&&u.bannerUrl&&e.jsx("div",{className:"w-full",children:e.jsx("img",{src:u.bannerUrl,alt:"Banner",className:"w-full object-cover",style:{height:u.bannerHeight||90}})}),e.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8 max-w-6xl pb-32 lg:pb-8",children:[u.showProgressBar&&e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsx("div",{className:"lg:hidden flex items-center justify-between mb-4",children:De.map((P,T)=>e.jsxs(F.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center gap-1.5 flex-1",children:[e.jsx("div",{className:D("w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all",c===P.number&&"ring-2 ring-offset-2"),style:{backgroundColor:c>P.number?u.stepCompletedColor:c===P.number?u.stepActiveColor:u.stepInactiveColor,color:c>=P.number?u.primaryButtonTextColor:u.textColor},children:c>P.number?e.jsx(we,{className:"h-5 w-5"}):e.jsx(P.icon,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs font-medium text-center",style:{color:c>=P.number?u.headingColor:u.textColor,opacity:c>=P.number?1:.5},children:P.label})]}),T<De.length-1&&e.jsx("div",{className:"w-8 h-0.5 mx-1 rounded-full transition-all mt-[-20px]",style:{backgroundColor:c>P.number?u.stepCompletedColor:u.stepInactiveColor}})]},P.number))}),e.jsx("div",{className:"hidden lg:flex items-center justify-between mb-4",children:De.map((P,T)=>e.jsxs(F.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:D("w-12 h-12 rounded-full flex items-center justify-center font-semibold transition-all",c>P.number&&"scale-110"),style:{backgroundColor:c>P.number?u.stepCompletedColor:c===P.number?u.stepActiveColor:u.stepInactiveColor,color:c>=P.number?u.primaryButtonTextColor:u.textColor},children:c>P.number?e.jsx(we,{className:"h-6 w-6"}):e.jsx(P.icon,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:c>=P.number?u.headingColor:u.textColor,opacity:c>=P.number?1:.5},children:P.label})]}),T<De.length-1&&e.jsx("div",{className:"flex-1 h-1 mx-2 rounded-full transition-all",style:{backgroundColor:c>P.number?u.stepCompletedColor:u.stepInactiveColor}})]},P.number))})]}),e.jsx("div",{className:"lg:hidden mb-6",children:e.jsx(J,{style:{backgroundColor:u.cardBackgroundColor,borderColor:u.cardBorderColor,borderRadius:u.cardBorderRadius},children:e.jsxs(Z,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-base",style:{color:u.headingColor},children:"Seu Pedido"}),e.jsx("button",{onClick:()=>E(!0),className:"text-sm underline",style:{color:u.primaryButtonBackgroundColor},children:"Ver detalhes"})]}),e.jsx("div",{className:"space-y-3 mb-4",children:n.products.map((P,T)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-shrink-0 rounded-lg overflow-hidden",style:{width:50,height:50,backgroundColor:u.inputBackgroundColor},children:[P.image?e.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Le,{className:"h-5 w-5 opacity-30"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:u.quantityCircleColor,color:u.quantityTextColor},children:P.quantity})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:P.name}),e.jsxs("p",{className:"text-xs opacity-75",children:[P.quantity,"x R$ ",P.price.toFixed(2)]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsxs("p",{className:"font-bold text-sm",style:{color:u.headingColor},children:["R$ ",(P.price*P.quantity).toFixed(2)]})})]},T))}),e.jsx(le,{className:"my-3"}),e.jsx(le,{}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("span",{className:"text-lg font-bold",style:{color:u.headingColor},children:"Total"}),e.jsxs("span",{className:"text-xl font-bold",style:{color:u.primaryButtonBackgroundColor},children:["R$ ",te.toFixed(2)]})]})]})})}),e.jsxs("div",{className:"grid lg:grid-cols-[1fr_420px] gap-8",children:[e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[c===1&&e.jsx(Ca,{customerData:S,setCustomerData:_,theme:u}),c===2&&e.jsx(ja,{addressData:N,setAddressData:R,theme:u}),c===3&&e.jsx(To,{paymentMethod:A,setPaymentMethod:L,cardData:ee,setCardData:Cr,pixData:je,boletoData:Ne,installments:fe,setInstallments:Fe,finalTotal:te,cardErrors:wr,getDiscountInfoForMethod:Nr,theme:u}),e.jsxs("div",{className:"flex items-center justify-between gap-3 pt-4",children:[c>1&&e.jsxs(oe,{variant:"outline",onClick:Pr,className:"flex items-center gap-2 px-6 md:px-8",style:{borderColor:u.inputBorderColor,color:u.textColor,height:52,borderWidth:2},children:[e.jsx(Zr,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),e.jsx("div",{className:D("flex-1",c===1&&"ml-auto"),children:c<Tr?e.jsxs(oe,{onClick:Br,className:"w-full flex items-center justify-center gap-2 font-semibold text-base shadow-lg",style:{backgroundColor:u.primaryButtonBackgroundColor,color:u.primaryButtonTextColor,height:52,borderRadius:u.primaryButtonBorderRadius},children:["Continuar",e.jsx(Or,{className:"h-5 w-5"})]}):e.jsxs(e.Fragment,{children:[!je&&!Ne&&e.jsx(oe,{onClick:Sr,disabled:x||a,className:"w-full font-bold text-base md:text-lg shadow-lg",style:{backgroundColor:u.checkoutButtonBackgroundColor,color:u.checkoutButtonTextColor,height:56,borderRadius:u.checkoutButtonBorderRadius},children:x?e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"h-5 w-5 animate-spin mr-2"}),"Processando..."]}):a?e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),"Checkout Desabilitado (Preview)"]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),"Finalizar Compra - R$"," ",((Bt=n==null?void 0:n.total)==null?void 0:Bt.toFixed(2))||"0.00"]})}),(je||Ne)&&e.jsxs(oe,{onClick:()=>{bt(null),Je(null),s&&localStorage.removeItem(`checkout-${s}`),l({title:"Pronto para novo pagamento",description:"Clique em Finalizar Compra novamente"})},variant:"outline",className:"w-full gap-2 h-12 font-semibold",style:{borderColor:u.primaryButtonBackgroundColor,color:u.primaryButtonBackgroundColor},children:[e.jsx(Lr,{className:"h-5 w-5"}),"Gerar Novo Pagamento"]})]})})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"sticky top-8 rounded-xl border p-6 space-y-5",style:{backgroundColor:u.cardBackgroundColor,borderColor:u.cardBorderColor,borderRadius:u.cardBorderRadius,boxShadow:u.cardShadow},children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:u.headingColor},children:"Resumo do Pedido"})}),e.jsx("div",{className:"space-y-4",children:n.products.map((P,T)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative flex-shrink-0 rounded-lg overflow-hidden",style:{width:70,height:70,backgroundColor:u.inputBackgroundColor},children:[P.image?e.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Le,{className:"h-8 w-8",style:{opacity:.3}})}),u.showCartIcon&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shadow-md",style:{backgroundColor:u.quantityCircleColor,color:u.quantityTextColor},children:P.quantity})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",style:{color:u.headingColor},children:P.name}),P.sku&&e.jsxs("p",{className:"text-xs opacity-60",children:["SKU: ",P.sku]}),e.jsxs("p",{className:"text-xs opacity-75 mt-1",children:["Quantidade: ",P.quantity]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("p",{className:"font-bold",style:{color:u.headingColor},children:["R$ ",(P.price*P.quantity).toFixed(2)]}),P.quantity>1&&e.jsxs("p",{className:"text-xs opacity-60",children:["R$ ",P.price.toFixed(2)," un."]})]})]},T))}),e.jsx(le,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.subtotal.toFixed(2)]})]}),n.shipping>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Frete"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.shipping.toFixed(2)]})]}),n.tax>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Taxa"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.tax.toFixed(2)]})]}),n.discount&&n.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm font-medium",style:{color:u.stepCompletedColor},children:[e.jsx("span",{children:"Desconto"}),e.jsxs("span",{children:["-R$ ",n.discount.toFixed(2)]})]}),ke.hasDiscount&&e.jsxs("div",{className:"space-y-1 py-2 px-3 rounded-lg bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex justify-between text-sm font-semibold",style:{color:u.stepCompletedColor},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kr,{className:"h-4 w-4"}),e.jsxs("span",{children:["Desconto ",jr()]})]}),e.jsxs("span",{children:["-R$ ",ke.discountAmount.toFixed(2)]})]}),(Me==null?void 0:Me.description)&&e.jsx("p",{className:"text-xs opacity-75 pl-6",children:Me.description}),ke.cappedAtMaximum&&e.jsx("p",{className:"text-xs opacity-75 pl-6 text-orange-600 dark:text-orange-400",children:"Desconto m√°ximo aplicado"})]}),e.jsx(le,{}),e.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2",children:[e.jsx("span",{style:{color:u.headingColor},children:"Total"}),e.jsxs("span",{style:{color:u.headingColor},children:["R$ ",te.toFixed(2)]})]})]}),u.showTrustBadges&&e.jsxs(e.Fragment,{children:[e.jsx(le,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(tt,{className:"h-5 w-5",style:{color:u.trustBadgeColor}}),e.jsx("span",{className:"opacity-75",children:"Compra 100% Segura"})]}),u.sslBadgeEnabled&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Be,{className:"h-5 w-5",style:{color:u.trustBadgeColor}}),e.jsx("span",{className:"opacity-75",children:"Certificado SSL"})]})]})]})]})})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 p-4 border-t backdrop-blur-xl z-40 safe-area-bottom",style:{backgroundColor:`${u.cardBackgroundColor}F8`,borderColor:u.cardBorderColor,boxShadow:"0 -4px 16px rgba(0,0,0,0.08)"},children:e.jsxs(oe,{onClick:()=>E(!w),className:"w-full flex items-center justify-between shadow-lg font-semibold rounded-xl",style:{backgroundColor:u.primaryButtonBackgroundColor,color:u.primaryButtonTextColor,height:56},children:[e.jsxs("span",{className:"flex items-center gap-2.5",children:[e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{className:"text-base",children:w?"Ocultar Resumo":"Ver Resumo"})]}),e.jsxs("span",{className:"font-bold text-lg",children:["R$ ",te.toFixed(2)]})]})}),w&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 z-50 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>E(!1),children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 rounded-t-3xl p-6 max-h-[85vh] overflow-y-auto animate-in slide-in-from-bottom duration-300",style:{backgroundColor:u.cardBackgroundColor,color:u.textColor,boxShadow:"0 -8px 32px rgba(0,0,0,0.12)"},onClick:P=>P.stopPropagation(),children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-1.5 rounded-full opacity-30",style:{backgroundColor:u.textColor}})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold",style:{color:u.headingColor},children:"Resumo do Pedido"}),e.jsx("button",{onClick:()=>E(!1),className:"p-2 rounded-full hover:bg-gray-100/10 transition-colors active:scale-95",children:e.jsx(Qt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"space-y-4 mb-6",children:n.products.map((P,T)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative flex-shrink-0 rounded-lg overflow-hidden",style:{width:70,height:70,backgroundColor:u.inputBackgroundColor},children:[P.image?e.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Le,{className:"h-8 w-8 opacity-30"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:u.quantityCircleColor,color:u.quantityTextColor},children:P.quantity})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:P.name}),e.jsxs("p",{className:"text-xs opacity-75",children:["Qtd: ",P.quantity]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-bold",children:["R$ ",(P.price*P.quantity).toFixed(2)]})})]},T))}),e.jsx(le,{className:"mb-4"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.subtotal.toFixed(2)]})]}),n.shipping>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Frete"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.shipping.toFixed(2)]})]}),n.tax>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Taxa"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.tax.toFixed(2)]})]}),n.discount&&n.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm font-medium",style:{color:u.stepCompletedColor},children:[e.jsx("span",{children:"Desconto"}),e.jsxs("span",{children:["-R$ ",n.discount.toFixed(2)]})]}),e.jsx(le,{}),e.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2",children:[e.jsx("span",{style:{color:u.headingColor},children:"Total"}),e.jsxs("span",{style:{color:u.headingColor},children:["R$ ",te.toFixed(2)]})]})]}),e.jsx(oe,{onClick:()=>E(!1),className:"w-full font-semibold text-base shadow-lg rounded-xl",style:{backgroundColor:u.primaryButtonBackgroundColor,color:u.primaryButtonTextColor,height:52},children:"Fechar"})]})})]}),e.jsx(oa,{userId:(d==null?void 0:d.userId)||null,position:"bottom-left"}),e.jsx("footer",{className:"border-t py-8 md:py-10 mt-12 md:mt-16",style:{backgroundColor:u.footerBackgroundColor,borderColor:u.cardBorderColor,color:u.footerTextColor},children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs("div",{className:"text-center space-y-5 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2.5 md:gap-3",children:[e.jsx(Be,{className:"h-5 w-5 md:h-6 md:w-6 text-green-600"}),e.jsx("span",{className:"font-bold text-lg md:text-xl",children:"Checkout Seguro"})]}),u.showTrustBadges&&e.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-8 flex-wrap text-xs md:text-sm",children:[u.sslBadgeEnabled&&e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx(tt,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600"}),e.jsx("span",{className:"whitespace-nowrap",children:"Certificado SSL"})]}),u.showPaymentMethods&&e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx(be,{className:"h-4 w-4 md:h-5 md:w-5"}),e.jsx("span",{className:"whitespace-nowrap",children:"Pagamento Seguro"})]}),u.securityIconsEnabled&&e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx(tt,{className:"h-4 w-4 md:h-5 md:w-5"}),e.jsx("span",{className:"whitespace-nowrap",children:"Dados Protegidos"})]})]}),(u.showCnpjCpf||u.showContactEmail||u.showPhone||u.showAddress)&&e.jsxs("div",{className:"text-xs md:text-sm space-y-1 opacity-80 max-w-md mx-auto",children:[u.showStoreName&&e.jsx("p",{className:"font-semibold text-sm md:text-base",children:"Minha Loja"}),u.showCnpjCpf&&e.jsx("p",{children:"CNPJ: 00.000.000/0001-00"}),u.showAddress&&e.jsx("p",{className:"text-balance",children:"Endere√ßo: Rua Exemplo, 123 - S√£o Paulo/SP"}),u.showContactEmail&&e.jsx("p",{children:"E-mail: contato@loja.com.br"}),u.showPhone&&e.jsx("p",{children:"Telefone: (11) 99999-9999"})]}),(u.showPrivacyPolicy||u.showTermsConditions||u.showReturns)&&e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"my-3 md:my-4"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-6 text-xs md:text-sm flex-wrap px-4",children:[u.showPrivacyPolicy&&e.jsx("a",{href:"#",style:{color:u.footerLinkColor},className:"hover:underline transition-all whitespace-nowrap",children:"Pol√≠tica de Privacidade"}),u.showTermsConditions&&e.jsx("a",{href:"#",style:{color:u.footerLinkColor},className:"hover:underline transition-all whitespace-nowrap",children:"Termos e Condi√ß√µes"}),u.showReturns&&e.jsx("a",{href:"#",style:{color:u.footerLinkColor},className:"hover:underline transition-all whitespace-nowrap",children:"Trocas e Devolu√ß√µes"})]})]}),e.jsx(le,{className:"my-3 md:my-4"}),e.jsxs("p",{className:"text-xs md:text-xs opacity-60 pb-2",children:["¬© ",new Date().getFullYear()," - Todos os direitos reservados"]})]})})})]})},ms=Object.freeze(Object.defineProperty({__proto__:null,default:Ao},Symbol.toStringTag,{value:"Module"}));export{er as D,Ao as P,ms as a,Jr as c};
