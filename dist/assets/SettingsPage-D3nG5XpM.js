import{a0 as y,f as R,r as i,j as e,g as F,h as T,i as _,k as B,l as M,a1 as ae,a2 as te,a3 as ne,I as S,a4 as U,B as L,v as re,G as oe,E as G,y as ie,A as H,F as O,a5 as ce,O as E,d as le,a6 as de,a7 as he,a8 as ue,a9 as me,aa as pe,ab as A}from"./index-N2rqs_Df.js";import{L as k}from"./label-BMP8cpIh.js";import{S as xe}from"./switch-CH6au33w.js";import{S as K}from"./separator-BeOIMf_X.js";import{u as fe}from"./index-BqNtL8bJ.js";import{S as ge}from"./shield-check-BpiwDB-b.js";const je=()=>{var v,j;const s=y(h=>h.user),r=y(h=>h.updateUser),{toast:o}=R(),[t,l]=i.useState((s==null?void 0:s.name)||""),[a,m]=i.useState((s==null?void 0:s.email)||""),[c,d]=i.useState((s==null?void 0:s.avatarUrl)||null),[n,x]=i.useState(!1),p=h=>{if(h.target.files&&h.target.files[0]){const C=h.target.files[0],u=new FileReader;u.onloadend=()=>{d(u.result)},u.readAsDataURL(C)}},g=()=>{x(!0),setTimeout(()=>{r({name:t,email:a,avatarUrl:c||(s==null?void 0:s.avatarUrl)}),x(!1),o({title:"Perfil Atualizado!",description:"Suas informações foram salvas com sucesso."})},1e3)};return e.jsxs(F,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Perfil"}),e.jsx(B,{children:"Atualize seu avatar e detalhes do perfil."})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ae,{className:"h-20 w-20",children:[e.jsx(te,{src:c||(s==null?void 0:s.avatarUrl)}),e.jsx(ne,{children:((j=(v=s==null?void 0:s.name)==null?void 0:v.charAt(0))==null?void 0:j.toUpperCase())||"P"})]}),e.jsxs("div",{className:"grid gap-1.5",children:[e.jsx(k,{htmlFor:"picture",children:"Avatar"}),e.jsx(S,{id:"picture",type:"file",className:"w-full",onChange:p,accept:"image/png, image/jpeg, image/gif"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF até 10MB"})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"name",children:"Nome"}),e.jsx(S,{id:"name",value:t,onChange:h=>l(h.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(S,{id:"email",type:"email",value:a,onChange:h=>m(h.target.value)})]})]}),e.jsx(U,{className:"border-t px-6 py-4",children:e.jsx(L,{onClick:g,loading:n,children:"Salvar Alterações"})})]})},ve=()=>{const{toast:s}=R(),r=y(d=>d.isTwoFactorEnabled),o=y(d=>d.setTwoFactorEnabled),[t,l]=i.useState(r),[a,m]=i.useState(!1),c=()=>{m(!0),setTimeout(()=>{o(t),m(!1),s({title:"Segurança Atualizada",description:"Suas configurações de segurança foram salvas com sucesso.",variant:"success"})},1e3)};return e.jsxs(F,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Segurança"}),e.jsx(B,{children:"Gerencie sua senha e autenticação de dois fatores."})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"current-password",children:"Senha Atual"}),e.jsx(S,{id:"current-password",type:"password"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"new-password",children:"Nova Senha"}),e.jsx(S,{id:"new-password",type:"password"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),e.jsx(S,{id:"confirm-password",type:"password"})]})]}),e.jsx(K,{}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Autenticação de Dois Fatores (2FA)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurança à sua conta."})]}),e.jsx(xe,{checked:t,onCheckedChange:l})]})]}),e.jsx(U,{className:"border-t px-6 py-4",children:e.jsx(L,{onClick:c,loading:a,children:"Salvar Alterações"})})]})};var w="Checkbox",[be]=re(w),[Ce,z]=be(w);function ke(s){const{__scopeCheckbox:r,checked:o,children:t,defaultChecked:l,disabled:a,form:m,name:c,onCheckedChange:d,required:n,value:x="on",internal_do_not_use_render:p}=s,[g,v]=ie({prop:o,defaultProp:l??!1,onChange:d,caller:w}),[j,h]=i.useState(null),[C,u]=i.useState(null),f=i.useRef(!1),I=j?!!m||!!j.closest("form"):!0,P={checked:g,disabled:a,setChecked:v,control:j,setControl:h,name:c,form:m,value:x,hasConsumerStoppedPropagationRef:f,required:n,defaultChecked:b(l)?!1:l,isFormControl:I,bubbleInput:C,setBubbleInput:u};return e.jsx(Ce,{scope:r,...P,children:Ne(p)?p(P):t})}var X="CheckboxTrigger",$=i.forwardRef(({__scopeCheckbox:s,onKeyDown:r,onClick:o,...t},l)=>{const{control:a,value:m,disabled:c,checked:d,required:n,setControl:x,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:j}=z(X,s),h=H(l,x),C=i.useRef(d);return i.useEffect(()=>{const u=a==null?void 0:a.form;if(u){const f=()=>p(C.current);return u.addEventListener("reset",f),()=>u.removeEventListener("reset",f)}},[a,p]),e.jsx(G.button,{type:"button",role:"checkbox","aria-checked":b(d)?"mixed":d,"aria-required":n,"data-state":Y(d),"data-disabled":c?"":void 0,disabled:c,value:m,...t,ref:h,onKeyDown:O(r,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:O(o,u=>{p(f=>b(f)?!0:!f),j&&v&&(g.current=u.isPropagationStopped(),g.current||u.stopPropagation())})})});$.displayName=X;var D=i.forwardRef((s,r)=>{const{__scopeCheckbox:o,name:t,checked:l,defaultChecked:a,required:m,disabled:c,value:d,onCheckedChange:n,form:x,...p}=s;return e.jsx(ke,{__scopeCheckbox:o,checked:l,defaultChecked:a,disabled:c,required:m,onCheckedChange:n,name:t,form:x,value:d,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx($,{...p,ref:r,__scopeCheckbox:o}),g&&e.jsx(W,{__scopeCheckbox:o})]})})});D.displayName=w;var J="CheckboxIndicator",V=i.forwardRef((s,r)=>{const{__scopeCheckbox:o,forceMount:t,...l}=s,a=z(J,o);return e.jsx(oe,{present:t||b(a.checked)||a.checked===!0,children:e.jsx(G.span,{"data-state":Y(a.checked),"data-disabled":a.disabled?"":void 0,...l,ref:r,style:{pointerEvents:"none",...s.style}})})});V.displayName=J;var Q="CheckboxBubbleInput",W=i.forwardRef(({__scopeCheckbox:s,...r},o)=>{const{control:t,hasConsumerStoppedPropagationRef:l,checked:a,defaultChecked:m,required:c,disabled:d,name:n,value:x,form:p,bubbleInput:g,setBubbleInput:v}=z(Q,s),j=H(o,v),h=fe(a),C=ce(t);i.useEffect(()=>{const f=g;if(!f)return;const I=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(I,"checked").set,ee=!l.current;if(h!==a&&q){const se=new Event("click",{bubbles:ee});f.indeterminate=b(a),q.call(f,b(a)?!1:a),f.dispatchEvent(se)}},[g,h,a,l]);const u=i.useRef(b(a)?!1:a);return e.jsx(G.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??u.current,required:c,disabled:d,name:n,value:x,form:p,...r,tabIndex:-1,ref:j,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});W.displayName=Q;function Ne(s){return typeof s=="function"}function b(s){return s==="indeterminate"}function Y(s){return b(s)?"indeterminate":s?"checked":"unchecked"}const Z=i.forwardRef(({className:s,...r},o)=>e.jsx(D,{ref:o,className:E("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:e.jsx(V,{className:E("flex items-center justify-center text-current"),children:e.jsx(le,{className:"h-4 w-4"})})}));Z.displayName=D.displayName;const N=({id:s,title:r,checked:o,onCheckedChange:t})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:s,checked:o,onCheckedChange:t}),e.jsx(k,{htmlFor:s,className:"text-sm font-normal",children:r})]}),Se=()=>{const{toast:s}=R(),r=y(n=>n.notificationSettings),o=y(n=>n.updateNotificationSettings),[t,l]=i.useState(r),[a,m]=i.useState(!1);i.useEffect(()=>{l(r)},[r]);const c=(n,x)=>{l(p=>({...p,[n]:x}))},d=()=>{m(!0),setTimeout(()=>{o(t),m(!1),s({title:"Preferências Salvas",description:"Suas configurações de notificação foram atualizadas.",variant:"success"})},1e3)};return e.jsxs(F,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Notificações"}),e.jsx(B,{children:"Gerencie como você recebe notificações."})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Notificações por Email"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx(N,{id:"emailSummary",title:"Resumos Semanais de Desempenho",checked:t.emailSummary,onCheckedChange:n=>c("emailSummary",n)}),e.jsx(N,{id:"emailAlerts",title:"Alertas Críticos de Campanha",checked:t.emailAlerts,onCheckedChange:n=>c("emailAlerts",n)}),e.jsx(N,{id:"emailNews",title:"Notícias e Atualizações da Plataforma",checked:t.emailNews,onCheckedChange:n=>c("emailNews",n)})]})]}),e.jsx(K,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Notificações Push"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx(N,{id:"pushMentions",title:"Menções no Chat IA",checked:t.pushMentions,onCheckedChange:n=>c("pushMentions",n)}),e.jsx(N,{id:"pushIntegrations",title:"Status de Conexão de Integrações",checked:t.pushIntegrations,onCheckedChange:n=>c("pushIntegrations",n)}),e.jsx(N,{id:"pushSuggestions",title:"Novas Sugestões da IA",checked:t.pushSuggestions,onCheckedChange:n=>c("pushSuggestions",n)})]})]})]}),e.jsx(U,{className:"border-t px-6 py-4",children:e.jsx(L,{onClick:d,loading:a,children:"Salvar Preferências"})})]})},ye=[{path:"",label:"Perfil",icon:de},{path:"security",label:"Segurança",icon:ge},{path:"notifications",label:"Notificações",icon:he}],Fe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie as configurações da sua conta e preferências."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("nav",{className:"flex flex-col w-full md:w-1/5 shrink-0 gap-1",children:ye.map(s=>{const r=s.path?`/settings/${s.path}`:"/settings",o=s.icon;return e.jsxs(ue,{to:r,end:s.path==="",className:({isActive:t})=>E(me({variant:"ghost",size:"default"}),"w-full justify-start text-base md:text-sm h-12",t?"bg-muted hover:bg-muted font-semibold text-primary":"hover:bg-muted/50 text-muted-foreground"),children:[e.jsx(o,{className:"mr-3 h-5 w-5"}),e.jsx("span",{children:s.label})]},s.path)})}),e.jsx("div",{className:"flex-1",children:e.jsxs(pe,{children:[e.jsx(A,{index:!0,element:e.jsx(je,{})}),e.jsx(A,{path:"security",element:e.jsx(ve,{})}),e.jsx(A,{path:"notifications",element:e.jsx(Se,{})})]})})]})]});export{Fe as default};
