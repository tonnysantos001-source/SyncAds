import{j as e}from"./vendor-ui-D3JNL6pE.js";import{r as a,f as s}from"./vendor-react-X41Bjl18.js";import{f as r,g as t,s as i,B as l,C as n,a as d,b as o,d as c,c as m}from"./index-BW39Rbqj.js";import{L as x,v as h,o as u,av as g,r as j,R as p,ab as b}from"./vendor-icons-BvRy6l6m.js";import{m as f}from"./vendor-animation-DtB50Lbk.js";import"./vendor-supabase-HUq0BeMy.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-DqG_mm-v.js";function v(){const[v,N]=a.useState(!1),[y,k]=a.useState(!1),[w,E]=a.useState(!0),[C,V]=a.useState(null),[S,q]=a.useState(0),{user:R}=r(),{toast:A}=t(),F=s();a.useEffect(()=>{T()},[R?.id]),a.useEffect(()=>{if(S>0){const e=setTimeout(()=>q(S-1),1e3);return()=>clearTimeout(e)}},[S]);const T=async()=>{if(R?.id){E(!0);try{const{data:e}=await i.from("User").select("emailVerified").eq("id",R.id).single();N(!0===e?.emailVerified)}catch(e){}finally{E(!1)}}},I={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return w?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(x,{className:"h-8 w-8 animate-spin text-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-purple-950 p-4 sm:p-8",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(f.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-full blur-3xl"}),e.jsx(f.div,{animate:{scale:[1,1.3,1],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-500/30 to-purple-500/30 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[e.jsxs(l,{variant:"ghost",onClick:()=>F("/onboarding"),className:"mb-6",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Voltar"]}),e.jsxs(f.div,{initial:"hidden",animate:"visible",variants:I,className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"VerificaÃ§Ã£o de Email"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Confirme seu endereÃ§o de email para ativar todos os recursos"})]}),v?e.jsx(f.div,{initial:"hidden",animate:"visible",variants:I,transition:{delay:.2},children:e.jsxs(n,{className:"border-2 border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30",children:[e.jsxs(d,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500 rounded-full blur-xl opacity-50"}),e.jsx("div",{className:"relative h-20 w-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(u,{className:"h-10 w-10 text-white"})})]})}),e.jsx(o,{className:"text-2xl text-green-700 dark:text-green-400",children:"Email Verificado!"}),e.jsxs(c,{className:"text-base",children:["Seu email ",e.jsx("strong",{children:R?.email})," foi verificado com sucesso"]})]}),e.jsxs(m,{className:"text-center",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"âœ¨ Recursos Ativados:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-green-600"}),"Acesso completo ao assistente de IA"]}),e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-green-600"}),"NotificaÃ§Ãµes por email habilitadas"]}),e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-green-600"}),"RecuperaÃ§Ã£o de senha disponÃ­vel"]}),e.jsxs("li",{className:"flex items-center justify-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-green-600"}),"RelatÃ³rios e exportaÃ§Ãµes ativados"]})]})]}),e.jsx(l,{onClick:()=>F("/onboarding"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white",children:"Continuar ConfiguraÃ§Ã£o"})]})]})}):e.jsx(f.div,{initial:"hidden",animate:"visible",variants:I,transition:{delay:.2},children:e.jsxs(n,{className:"border-2 border-orange-200 dark:border-orange-800",children:[e.jsxs(d,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-500 rounded-full blur-xl opacity-50"}),e.jsx("div",{className:"relative h-20 w-20 bg-gradient-to-br from-orange-500 to-amber-600 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"h-10 w-10 text-white"})})]})}),e.jsx(o,{className:"text-2xl text-gray-900 dark:text-white",children:"Verifique seu Email"}),e.jsxs(c,{className:"text-base",children:["Enviamos um link de verificaÃ§Ã£o para"," ",e.jsx("strong",{className:"text-gray-900 dark:text-white",children:R?.email})]})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-blue-600"}),"Como verificar:"]}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 list-decimal list-inside",children:[e.jsx("li",{children:"Abra sua caixa de entrada de email"}),e.jsxs("li",{children:["Procure por um email de ",e.jsx("strong",{children:"SyncAds"})]}),e.jsx("li",{children:"Clique no link de verificaÃ§Ã£o"}),e.jsx("li",{children:'Volte aqui e clique em "Verificar Status"'})]})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950/30 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"NÃ£o recebeu o email?"}),e.jsx("br",{}),"Verifique sua pasta de spam ou lixo eletrÃ´nico. VocÃª tambÃ©m pode reenviar o email clicando no botÃ£o abaixo."]})}),C&&e.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Ãšltimo email enviado Ã s"," ",C.toLocaleTimeString("pt-BR")]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l,{onClick:T,variant:"outline",className:"flex-1 border-2",disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"mr-2 h-4 w-4 animate-spin"}),"Verificando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Verificar Status"]})}),e.jsx(l,{onClick:async()=>{if(R?.email){k(!0);try{const{error:e}=await i.auth.resend({type:"signup",email:R.email});if(e)throw e;V(new Date),q(60),A({title:"Email enviado!",description:`Enviamos um link de verificaÃ§Ã£o para ${R.email}`})}catch(e){A({title:"Erro ao enviar email",description:e.message||"Tente novamente mais tarde",variant:"destructive"})}finally{k(!1)}}else A({title:"Erro",description:"Email nÃ£o encontrado",variant:"destructive"})},disabled:y||S>0,className:"flex-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white",children:y?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):S>0?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Aguarde ",S,"s"]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Reenviar Email"]})})]}),e.jsx("div",{className:"text-center pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsx("button",{onClick:()=>F("/onboarding"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white underline",children:"Continuar sem verificar (nÃ£o recomendado)"})})]})]})}),e.jsx(f.div,{initial:"hidden",animate:"visible",variants:I,transition:{delay:.4},className:"mt-6",children:e.jsxs(n,{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/30 dark:to-pink-950/30 border-purple-200 dark:border-purple-800",children:[e.jsx(d,{children:e.jsxs(o,{className:"text-lg flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-purple-600"}),"Por que verificar meu email?"]})}),e.jsxs(m,{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[e.jsxs("p",{children:["ğŸ”’"," ",e.jsx("strong",{children:"SeguranÃ§a:"})," Garante que apenas vocÃª tem acesso Ã  sua conta"]}),e.jsxs("p",{children:["ğŸ””"," ",e.jsx("strong",{children:"NotificaÃ§Ãµes:"})," Receba alertas importantes sobre sua conta"]}),e.jsxs("p",{children:["ğŸ”„"," ",e.jsx("strong",{children:"RecuperaÃ§Ã£o:"})," Possibilita a recuperaÃ§Ã£o de senha quando necessÃ¡rio"]}),e.jsxs("p",{children:["âœ¨"," ",e.jsx("strong",{children:"Recursos:"})," Libera funcionalidades avanÃ§adas da plataforma"]})]})]})})]})]})}export{v as default};
