import{g as x,D as L,E as A,F as B,j as e,k as c,L as b,C as I,l as _,o as T,t as R,q as U,G as z,U as M,I as t,B as u,H as f}from"./index-DSVq9u4m.js";import{u as j,t as y,o as w,s as i}from"./types-6nyAZi2f.js";import{L as o}from"./label-BNwN-oYL.js";import{A as v}from"./arrow-left-BKFarEkg.js";import{C as N}from"./circle-check-B2F47o05.js";import{A as O}from"./arrow-right-7M5BxNzl.js";import{M as q}from"./map-pin-DnEUJyOF.js";const H=w({name:i().min(3,"Nome deve ter no mínimo 3 caracteres"),email:i().email("Email inválido"),password:i().min(6,"Senha deve ter no mínimo 6 caracteres"),cpf:i().min(11,"CPF inválido").max(14),birthDate:i().min(1,"Data de nascimento é obrigatória")}),G=w({cep:i().min(8,"CEP inválido").max(9),street:i().min(3,"Rua é obrigatória"),number:i().min(1,"Número é obrigatório"),complement:i().optional(),neighborhood:i().min(2,"Bairro é obrigatório"),city:i().min(2,"Cidade é obrigatória"),state:i().length(2,"Estado deve ter 2 caracteres")});function ee(){const[l,g]=x.useState(1),[n,S]=x.useState(null),[k,h]=x.useState(!1),{register:C}=L(),F=A(),{toast:d}=B(),s=j({resolver:y(H),defaultValues:{name:"",email:"",password:"",cpf:"",birthDate:""}}),r=j({resolver:y(G),defaultValues:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}}),E=async()=>{const a=r.getValues("cep").replace(/\D/g,"");if(a.length===8){h(!0);try{const m=await(await fetch(`https://viacep.com.br/ws/${a}/json/`)).json();if(m.erro){d({title:"CEP não encontrado",description:"Verifique o CEP e tente novamente.",variant:"destructive"});return}r.setValue("street",m.logradouro||""),r.setValue("neighborhood",m.bairro||""),r.setValue("city",m.localidade||""),r.setValue("state",m.uf||""),d({title:"CEP encontrado!",description:"Endereço preenchido automaticamente."})}catch{d({title:"Erro ao buscar CEP",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{h(!1)}}},D=a=>{S(a),g(2)},P=async a=>{if(n)try{await C(n.email,n.password,n.name,n.cpf,n.birthDate,a),d({title:"Conta criada com sucesso!",description:"Bem-vindo ao SyncAds."}),F("/onboarding")}catch(p){d({title:"Erro ao criar conta",description:p.message||"Tente novamente mais tarde.",variant:"destructive"})}},$=a=>a.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),V=a=>a.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1");return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden p-4 py-12",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(c.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-full blur-3xl"}),e.jsx(c.div,{animate:{scale:[1,1.3,1],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-500/30 to-purple-500/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"})]}),e.jsxs(b,{to:"/landing",className:"absolute top-6 left-6 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors z-10",children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),e.jsxs(I,{className:"w-full max-w-2xl relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-800/50 shadow-2xl z-10",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs(_,{className:"text-center pt-8 pb-6",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs(c.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl blur-xl opacity-50"}),e.jsx("div",{className:"relative h-16 w-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl",children:e.jsx("span",{className:"text-white font-black text-3xl",children:"S"})})]})}),e.jsx(T,{className:"text-3xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Criar Conta"}),e.jsx(R,{className:"text-base",children:l===1?"Preencha seus dados pessoais":"Agora, informe seu endereço"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ${l>=1?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-500"}`,children:l>1?e.jsx(N,{className:"h-5 w-5"}):"1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dados"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx(c.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",initial:{width:"0%"},animate:{width:l>=2?"100%":"0%"},transition:{duration:.5}})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ${l>=2?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-500"}`,children:"2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Endereço"})]})]})]}),e.jsxs(U,{className:"pb-8",children:[e.jsx(z,{mode:"wait",children:l===1?e.jsxs(c.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},onSubmit:s.handleSubmit(D),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-blue-600"}),"Nome Completo"]}),e.jsx(t,{id:"name",...s.register("name"),placeholder:"Seu nome completo",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),s.formState.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(t,{id:"email",type:"email",...s.register("email"),placeholder:"seu@email.com",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),s.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Senha"}),e.jsx(t,{id:"password",type:"password",...s.register("password"),placeholder:"Mínimo 6 caracteres",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),s.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.password.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"cpf",children:"CPF"}),e.jsx(t,{id:"cpf",...s.register("cpf"),placeholder:"000.000.000-00",maxLength:14,onChange:a=>{a.target.value=$(a.target.value),s.setValue("cpf",a.target.value)},className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),s.formState.errors.cpf&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.cpf.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"birthDate",children:"Data de Nascimento"}),e.jsx(t,{id:"birthDate",type:"date",...s.register("birthDate"),className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),s.formState.errors.birthDate&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.birthDate.message})]})]}),e.jsxs(u,{type:"submit",disabled:s.formState.isSubmitting,className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/30",children:["Próximo: Endereço",e.jsx(O,{className:"ml-2 h-5 w-5"})]})]},"step1"):e.jsxs(c.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},onSubmit:r.handleSubmit(P),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"cep",className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-purple-600"}),"CEP"]}),e.jsxs("div",{className:"relative",children:[e.jsx(t,{id:"cep",...r.register("cep"),placeholder:"00000-000",maxLength:9,onChange:a=>{a.target.value=V(a.target.value),r.setValue("cep",a.target.value)},onBlur:E,className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),k&&e.jsx(f,{className:"absolute right-3 top-3 h-5 w-5 animate-spin text-purple-600"})]}),r.formState.errors.cep&&e.jsx("p",{className:"text-sm text-red-500",children:r.formState.errors.cep.message}),e.jsx("p",{className:"text-xs text-gray-500",children:"O endereço será preenchido automaticamente"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(o,{htmlFor:"street",children:"Rua"}),e.jsx(t,{id:"street",...r.register("street"),placeholder:"Nome da rua",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),r.formState.errors.street&&e.jsx("p",{className:"text-sm text-red-500",children:r.formState.errors.street.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"number",children:"Número"}),e.jsx(t,{id:"number",...r.register("number"),placeholder:"123",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),r.formState.errors.number&&e.jsx("p",{className:"text-sm text-red-500",children:r.formState.errors.number.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"complement",children:"Complemento (opcional)"}),e.jsx(t,{id:"complement",...r.register("complement"),placeholder:"Apto, bloco, etc.",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"neighborhood",children:"Bairro"}),e.jsx(t,{id:"neighborhood",...r.register("neighborhood"),placeholder:"Nome do bairro",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),r.formState.errors.neighborhood&&e.jsx("p",{className:"text-sm text-red-500",children:r.formState.errors.neighborhood.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(o,{htmlFor:"city",children:"Cidade"}),e.jsx(t,{id:"city",...r.register("city"),placeholder:"Nome da cidade",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),r.formState.errors.city&&e.jsx("p",{className:"text-sm text-red-500",children:r.formState.errors.city.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"state",children:"Estado"}),e.jsx(t,{id:"state",...r.register("state"),placeholder:"UF",maxLength:2,className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500 uppercase",onChange:a=>{a.target.value=a.target.value.toUpperCase(),r.setValue("state",a.target.value)}}),r.formState.errors.state&&e.jsx("p",{className:"text-sm text-red-500",children:r.formState.errors.state.message})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(u,{type:"button",variant:"outline",onClick:()=>g(1),className:"flex-1 border-gray-300 dark:border-gray-700",children:[e.jsx(v,{className:"mr-2 h-5 w-5"}),"Voltar"]}),e.jsx(u,{type:"submit",disabled:r.formState.isSubmitting,className:"flex-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/30",children:r.formState.isSubmitting?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"mr-2 h-5 w-5 animate-spin"}),"Criando conta..."]}):e.jsxs(e.Fragment,{children:["Criar Conta",e.jsx(N,{className:"ml-2 h-5 w-5"})]})})]})]},"step2")}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Já tem uma conta?"," ",e.jsx(b,{to:"/login",className:"font-semibold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent hover:underline",children:"Faça login"})]})})]})]})]})}export{ee as default};
