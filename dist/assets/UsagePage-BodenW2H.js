import{j as e}from"./vendor-ui-DAyDU-p2.js";import{r as s}from"./vendor-react-BDwqAlkB.js";import{g as t,s as a,C as r,a as l,b as i,W as n,d,e as c,c as o,G as m,X as x,Y as g,J as h,Z as p,t as u,r as j,L as y,I as b}from"./index-BxunKSmL.js";import{T as f,a as N,b as v,c as w,d as _,e as q}from"./table-Dqc8scda.js";import{S as G}from"./SuperAdminLayout-BKYxTG5r.js";import{m as k}from"./vendor-animation-x8f1c1kX.js";import{R as S,A as I,C as M,X as O,Y as R,T as C,L as E,a as D,c as A,d as T}from"./vendor-charts-DgCBwi6-.js";import"./vendor-supabase-rKXMzPQL.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-D3VdSFIC.js";import"./vendor-icons-ByXnbRBH.js";function L(){const{toast:L}=t(),[$,z]=s.useState([]),[F,P]=s.useState(""),[U,Q]=s.useState(!0),[K,B]=s.useState(null),[W,X]=s.useState([]),[Y,J]=s.useState([]);s.useEffect(()=>{V(),Z(),H()},[]);const V=async()=>{try{const{data:e,error:s}=await a.from("User").select("id, name, email, plan, createdAt").order("createdAt",{ascending:!1});if(s)throw s;const t=(e||[]).map(e=>e.id),{data:r}=await a.from("ChatConversation").select("userId, id").in("userId",t),l=(r||[]).map(e=>e.id),{data:i}=await a.from("ChatMessage").select("conversationId").in("conversationId",l),n=new Map;(r||[]).forEach(e=>{const s=(i||[]).filter(s=>s.conversationId===e.id).length,t=n.get(e.userId)||0;n.set(e.userId,t+s)});const{data:d}=await a.from("AiUsage").select("userId, totalTokens, estimatedCost, createdAt").in("userId",t).order("createdAt",{ascending:!1}),c=new Map;(d||[]).forEach(e=>{c.has(e.userId)||c.set(e.userId,e)});const{data:o}=await a.from("GlobalAiConnection").select("provider").eq("isActive",!0).limit(1).maybeSingle(),m=(e||[]).map(e=>{const s=c.get(e.id);return{clientId:e.id,clientName:e.name||"Sem nome",clientSlug:e.email||"",plan:e.plan||"FREE",totalMessages:n.get(e.id)||0,totalTokens:s?.totalTokens||0,estimatedCost:s?.estimatedCost||0,aiProvider:o?.provider||"N/A",lastUsed:s?.createdAt||null}});z(m)}catch(e){L({title:"Erro ao carregar uso de IA",description:e.message,variant:"destructive"})}finally{Q(!1)}},Z=async()=>{try{const e=new Date;e.setDate(e.getDate()-7);const{data:s,error:t}=await a.from("ai_usage_logs").select("*").gte("created_at",e.toISOString());if(t)throw t;if(!s||0===s.length)return void B(null);const r=s.filter(e=>"GROQ"===e.provider),l=s.filter(e=>"GOOGLE"===e.provider||"GEMINI"===e.provider),i=e=>({total_requests:e.length,avg_latency_ms:e.length>0?Math.round(e.reduce((e,s)=>e+(s.latency_ms||0),0)/e.length):0,success_rate:e.length>0?Math.round(e.filter(e=>e.success).length/e.length*100):0}),n=new Date;n.setDate(n.getDate()-1);const d=s.filter(e=>new Date(e.created_at)>=n),c=d.filter(e=>"GROQ"===e.provider).length,o=d.filter(e=>"GOOGLE"===e.provider||"GEMINI"===e.provider).length,m=d.length,x={};s.forEach(e=>{e.selected_reason&&(x[e.selected_reason]=(x[e.selected_reason]||0)+1)}),B({groq:i(r),gemini:i(l),routing_decisions:{total:s.length,by_reason:x},last_24h:{total_requests:m,groq_percentage:m>0?Math.round(c/m*100):0,gemini_percentage:m>0?Math.round(o/m*100):0}})}catch(e){B(null)}},H=async()=>{try{const e=new Date;e.setDate(e.getDate()-7);const{data:s,error:t}=await a.from("ai_usage_logs").select("*").gte("created_at",e.toISOString()).order("created_at",{ascending:!0});if(t)throw t;if(!s||0===s.length)return void X([]);const r=s.reduce((e,s)=>{const t=new Date(s.created_at).toLocaleDateString("pt-BR");return e[t]||(e[t]=[]),e[t].push(s),e},{}),l=Object.entries(r).map(([e,s])=>{const t=s.filter(e=>"GROQ"===e.provider),a=s.filter(e=>"GOOGLE"===e.provider||"GEMINI"===e.provider);return{date:e,groq_requests:t.length,gemini_requests:a.length,groq_latency:t.length>0?Math.round(t.reduce((e,s)=>e+(s.latency_ms||0),0)/t.length):0,gemini_latency:a.length>0?Math.round(a.reduce((e,s)=>e+(s.latency_ms||0),0)/a.length):0,groq_success_rate:t.length>0?Math.round(t.filter(e=>e.success).length/t.length*100):0,gemini_success_rate:a.length>0?Math.round(a.filter(e=>e.success).length/a.length*100):0}});X(l),ee(s,l)}catch(e){X([])}},ee=(e,s)=>{const t=[],a=e.filter(e=>new Date(e.created_at)>new Date(Date.now()-864e5)),r=a.filter(e=>"GROQ"===e.provider&&e.latency_ms>3e3),l=a.filter(e=>("GOOGLE"===e.provider||"GEMINI"===e.provider)&&e.latency_ms>3e3);r.length>0&&t.push({id:"groq-latency",type:"warning",title:"Lat√™ncia Alta - Groq",message:`${r.length} requisi√ß√µes com lat√™ncia > 3s nas √∫ltimas 24h`,timestamp:(new Date).toISOString(),provider:"GROQ"}),l.length>0&&t.push({id:"gemini-latency",type:"warning",title:"Lat√™ncia Alta - Gemini",message:`${l.length} requisi√ß√µes com lat√™ncia > 3s nas √∫ltimas 24h`,timestamp:(new Date).toISOString(),provider:"GEMINI"});const i=a.filter(e=>"GROQ"===e.provider&&!e.success),n=a.filter(e=>("GOOGLE"===e.provider||"GEMINI"===e.provider)&&!e.success),d=a.filter(e=>"GROQ"===e.provider).length>0?i.length/a.filter(e=>"GROQ"===e.provider).length*100:0,c=a.filter(e=>"GOOGLE"===e.provider||"GEMINI"===e.provider).length>0?n.length/a.filter(e=>"GOOGLE"===e.provider||"GEMINI"===e.provider).length*100:0;if(d>5&&t.push({id:"groq-errors",type:"error",title:"Taxa de Erro Alta - Groq",message:`${d.toFixed(1)}% de erros (${i.length} falhas)`,timestamp:(new Date).toISOString(),provider:"GROQ"}),c>5&&t.push({id:"gemini-errors",type:"error",title:"Taxa de Erro Alta - Gemini",message:`${c.toFixed(1)}% de erros (${n.length} falhas)`,timestamp:(new Date).toISOString(),provider:"GEMINI"}),s.length>0){const e=s[s.length-1];100===e.groq_success_rate&&e.groq_latency<1500&&t.push({id:"groq-excellent",type:"success",title:"Performance Excelente - Groq",message:`100% de sucesso com lat√™ncia m√©dia de ${e.groq_latency}ms`,timestamp:(new Date).toISOString(),provider:"GROQ"}),100===e.gemini_success_rate&&e.gemini_latency<2e3&&t.push({id:"gemini-excellent",type:"success",title:"Performance Excelente - Gemini",message:`100% de sucesso com lat√™ncia m√©dia de ${e.gemini_latency}ms`,timestamp:(new Date).toISOString(),provider:"GEMINI"})}J(t)},se=$.filter(e=>e.clientName.toLowerCase().includes(F.toLowerCase())||e.clientSlug.toLowerCase().includes(F.toLowerCase())),te={totalMessages:$.reduce((e,s)=>e+s.totalMessages,0),totalTokens:$.reduce((e,s)=>e+s.totalTokens,0),totalCost:$.reduce((e,s)=>e+s.estimatedCost,0),avgMessagesPerClient:$.length>0?$.reduce((e,s)=>e+s.totalMessages,0)/$.length:0},ae=s=>{const t={FREE:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100",STARTER:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",PRO:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",ENTERPRISE:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"};return e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t[s]||t.FREE}`,children:s})},re=s=>{const t={openai:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",anthropic:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",google:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","N/A":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100"};return e.jsx(c,{variant:"outline",className:t[s]||t["N/A"],children:s.toUpperCase()})};return U?e.jsx(G,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsx(G,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Uso de IA"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Acompanhe o uso de intelig√™ncia artificial por cliente"})]}),K&&e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-6",children:e.jsxs(r,{className:"border-purple-500/30 bg-gradient-to-br from-purple-900/20 to-pink-900/20 backdrop-blur-xl",children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(i,{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-purple-400"}),"AI Router - √öltimos 7 dias"]}),e.jsx(d,{className:"text-gray-400",children:"M√©tricas de roteamento inteligente entre Groq e Gemini"})]}),e.jsxs(c,{className:"bg-purple-500/20 text-purple-300 border-purple-500/30",children:[K.routing_decisions.total," requisi√ß√µes"]})]})}),e.jsxs(o,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-white",children:"‚ö° Groq"}),e.jsx(c,{variant:"outline",className:"bg-blue-500/10 text-blue-300 border-blue-500/30",children:"R√°pido"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Requisi√ß√µes:"}),e.jsx("span",{className:"text-white font-medium",children:K.groq.total_requests})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Lat√™ncia m√©dia:"}),e.jsxs("span",{className:"text-white font-medium",children:[K.groq.avg_latency_ms,"ms"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Taxa de sucesso:"}),e.jsxs("span",{className:"text-green-400 font-medium",children:[K.groq.success_rate,"%"]})]})]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-white",children:"üîµ Gemini"}),e.jsx(c,{variant:"outline",className:"bg-purple-500/10 text-purple-300 border-purple-500/30",children:"Multimodal"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Requisi√ß√µes:"}),e.jsx("span",{className:"text-white font-medium",children:K.gemini.total_requests})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Lat√™ncia m√©dia:"}),e.jsxs("span",{className:"text-white font-medium",children:[K.gemini.avg_latency_ms,"ms"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Taxa de sucesso:"}),e.jsxs("span",{className:"text-green-400 font-medium",children:[K.gemini.success_rate,"%"]})]})]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-white",children:"üìä √öltimas 24h"}),e.jsxs(c,{variant:"outline",className:"bg-gray-500/10 text-gray-300 border-gray-500/30",children:[K.last_24h.total_requests," reqs"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Groq:"}),e.jsxs("span",{className:"text-blue-400 font-medium",children:[K.last_24h.groq_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-2 rounded-full",style:{width:`${K.last_24h.groq_percentage}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Gemini:"}),e.jsxs("span",{className:"text-purple-400 font-medium",children:[K.last_24h.gemini_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-400 h-2 rounded-full",style:{width:`${K.last_24h.gemini_percentage}%`}})})]})]})]})]}),e.jsxs("div",{className:"mt-4 bg-gray-900/30 rounded-lg p-4 border border-gray-700/30",children:[e.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4 text-purple-400"}),"Principais Raz√µes de Roteamento"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(K.routing_decisions.by_reason).sort(([,e],[,s])=>s-e).slice(0,4).map(([s,t])=>e.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[e.jsxs("div",{className:"text-xs text-gray-400 truncate",title:s,children:[s.slice(0,30),"..."]}),e.jsxs("div",{className:"text-sm font-semibold text-white mt-1",children:[t," vezes"]})]},s))})]})]})]})}),Y.length>0&&e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Y.map(s=>e.jsxs(r,{className:"border "+("error"===s.type?"border-red-500/50 bg-red-900/10":"warning"===s.type?"border-yellow-500/50 bg-yellow-900/10":"border-green-500/50 bg-green-900/10"),children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["error"===s.type&&e.jsx(x,{className:"h-5 w-5 text-red-400"}),"warning"===s.type&&e.jsx(g,{className:"h-5 w-5 text-yellow-400"}),"success"===s.type&&e.jsx(h,{className:"h-5 w-5 text-green-400"}),e.jsx(i,{className:"text-sm font-semibold text-white",children:s.title})]}),s.provider&&e.jsx(c,{variant:"outline",className:"GROQ"===s.provider?"bg-blue-500/10 text-blue-300 border-blue-500/30":"bg-purple-500/10 text-purple-300 border-purple-500/30",children:s.provider})]})}),e.jsx(o,{children:e.jsx("p",{className:"text-sm text-gray-400",children:s.message})})]},s.id))})}),W.length>0&&e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6 grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"text-white flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5 text-blue-400"}),"Requisi√ß√µes por Dia"]}),e.jsx(d,{children:"Compara√ß√£o de volume Groq vs Gemini"})]}),e.jsx(o,{children:e.jsx(S,{width:"100%",height:250,children:e.jsxs(I,{data:W,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorGroq",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorGemini",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:0})]})]}),e.jsx(M,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(O,{dataKey:"date",stroke:"#9ca3af",fontSize:12}),e.jsx(R,{stroke:"#9ca3af",fontSize:12}),e.jsx(C,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),e.jsx(E,{}),e.jsx(D,{type:"monotone",dataKey:"groq_requests",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorGroq)",name:"Groq"}),e.jsx(D,{type:"monotone",dataKey:"gemini_requests",stroke:"#a855f7",fillOpacity:1,fill:"url(#colorGemini)",name:"Gemini"})]})})})]}),e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"text-white flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-yellow-400"}),"Lat√™ncia M√©dia (ms)"]}),e.jsx(d,{children:"Tempo de resposta por provider"})]}),e.jsx(o,{children:e.jsx(S,{width:"100%",height:250,children:e.jsxs(A,{data:W,children:[e.jsx(M,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(O,{dataKey:"date",stroke:"#9ca3af",fontSize:12}),e.jsx(R,{stroke:"#9ca3af",fontSize:12}),e.jsx(C,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),e.jsx(E,{}),e.jsx(T,{type:"monotone",dataKey:"groq_latency",stroke:"#3b82f6",strokeWidth:2,name:"Groq",dot:{fill:"#3b82f6",r:4}}),e.jsx(T,{type:"monotone",dataKey:"gemini_latency",stroke:"#a855f7",strokeWidth:2,name:"Gemini",dot:{fill:"#a855f7",r:4}})]})})})]}),e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl md:col-span-2",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"text-white flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5 text-green-400"}),"Taxa de Sucesso (%)"]}),e.jsx(d,{children:"Confiabilidade dos providers ao longo do tempo"})]}),e.jsx(o,{children:e.jsx(S,{width:"100%",height:250,children:e.jsxs(A,{data:W,children:[e.jsx(M,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(O,{dataKey:"date",stroke:"#9ca3af",fontSize:12}),e.jsx(R,{stroke:"#9ca3af",fontSize:12,domain:[0,100],ticks:[0,25,50,75,100]}),e.jsx(C,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),e.jsx(E,{}),e.jsx(T,{type:"monotone",dataKey:"groq_success_rate",stroke:"#10b981",strokeWidth:3,name:"Groq",dot:{fill:"#10b981",r:5}}),e.jsx(T,{type:"monotone",dataKey:"gemini_success_rate",stroke:"#8b5cf6",strokeWidth:3,name:"Gemini",dot:{fill:"#8b5cf6",r:5}})]})})})]})]}),K&&e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5 text-purple-400"}),"Compara√ß√£o A/B: Groq vs Gemini"]}),e.jsx(d,{children:"An√°lise comparativa de performance e efici√™ncia"})]}),e.jsxs(o,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:"‚ö° Groq (Llama 3.3)"}),e.jsx(c,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:"Velocidade"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Total de Requisi√ß√µes"}),e.jsx("span",{className:"text-2xl font-bold text-blue-400",children:K.groq.total_requests})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-2 rounded-full",style:{width:K.groq.total_requests/(K.groq.total_requests+K.gemini.total_requests)*100+"%"}})})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Lat√™ncia M√©dia"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-400",children:[K.groq.avg_latency_ms,"ms"]})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:K.groq.avg_latency_ms<K.gemini.avg_latency_ms?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"h-4 w-4 text-green-400"}),e.jsxs("span",{className:"text-green-400 text-xs font-semibold",children:[Math.round((K.gemini.avg_latency_ms-K.groq.avg_latency_ms)/K.gemini.avg_latency_ms*100),"% mais r√°pido"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-4 w-4 text-red-400"}),e.jsxs("span",{className:"text-red-400 text-xs font-semibold",children:[Math.round((K.groq.avg_latency_ms-K.gemini.avg_latency_ms)/K.gemini.avg_latency_ms*100),"% mais lento"]})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Taxa de Sucesso"}),e.jsxs("span",{className:"text-2xl font-bold text-green-400",children:[K.groq.success_rate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-2 rounded-full",style:{width:`${K.groq.success_rate}%`}})})]}),e.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-500/30",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-300 mb-2",children:"üéØ Melhor para:"}),e.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Chat conversacional r√°pido"}),e.jsx("li",{children:"‚Ä¢ Respostas em tempo real"}),e.jsx("li",{children:"‚Ä¢ Alto volume de requisi√ß√µes"}),e.jsx("li",{children:"‚Ä¢ Custo zero (gratuito)"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:"üîµ Gemini (2.0 Flash)"}),e.jsx(c,{className:"bg-purple-500/20 text-purple-300 border-purple-500/30",children:"Multimodal"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Total de Requisi√ß√µes"}),e.jsx("span",{className:"text-2xl font-bold text-purple-400",children:K.gemini.total_requests})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-400 h-2 rounded-full",style:{width:K.gemini.total_requests/(K.groq.total_requests+K.gemini.total_requests)*100+"%"}})})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Lat√™ncia M√©dia"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-400",children:[K.gemini.avg_latency_ms,"ms"]})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:K.gemini.avg_latency_ms<K.groq.avg_latency_ms?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"h-4 w-4 text-green-400"}),e.jsxs("span",{className:"text-green-400 text-xs font-semibold",children:[Math.round((K.groq.avg_latency_ms-K.gemini.avg_latency_ms)/K.groq.avg_latency_ms*100),"% mais r√°pido"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-4 w-4 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400 text-xs font-semibold",children:[Math.round((K.gemini.avg_latency_ms-K.groq.avg_latency_ms)/K.groq.avg_latency_ms*100),"% mais lento"]})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Taxa de Sucesso"}),e.jsxs("span",{className:"text-2xl font-bold text-green-400",children:[K.gemini.success_rate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-2 rounded-full",style:{width:`${K.gemini.success_rate}%`}})})]}),e.jsxs("div",{className:"bg-purple-900/20 rounded-lg p-4 border border-purple-500/30",children:[e.jsx("h4",{className:"text-sm font-semibold text-purple-300 mb-2",children:"üéØ Melhor para:"}),e.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Gera√ß√£o de imagens"}),e.jsx("li",{children:"‚Ä¢ An√°lise multimodal"}),e.jsx("li",{children:"‚Ä¢ Contexto longo (1M tokens)"}),e.jsx("li",{children:"‚Ä¢ Tarefas complexas"})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-lg p-4 border border-blue-500/20",children:[e.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-yellow-400"}),"Recomenda√ß√£o do Sistema"]}),e.jsx("p",{className:"text-sm text-gray-300",children:K.groq.total_requests>K.gemini.total_requests?"Groq est√° sendo mais utilizado (chat conversacional). Sistema otimizado para velocidade.":K.gemini.total_requests>K.groq.total_requests?"Gemini est√° sendo mais utilizado (tarefas complexas). Sistema priorizando capacidades avan√ßadas.":"Uso equilibrado entre Groq e Gemini. Sistema funcionando perfeitamente."})]})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-gray-300",children:"Total de Mensagens"}),e.jsx(u,{className:"h-4 w-4 text-blue-400"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:te.totalMessages.toLocaleString("pt-BR")}),e.jsx("p",{className:"text-xs text-gray-400",children:"Todas conversas com IA"})]})]})}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-gray-300",children:"Total de Tokens"}),e.jsx(n,{className:"h-4 w-4 text-amber-400"})]}),e.jsxs(o,{children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[(te.totalTokens/1e3).toFixed(1),"K"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Tokens processados"})]})]})}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-gray-300",children:"Custo Estimado"}),e.jsx(j,{className:"h-4 w-4 text-green-400"})]}),e.jsxs(o,{children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:["R$"," ",te.totalCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Custo com APIs"})]})]})}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-gray-300",children:"M√©dia por Usu√°rio"}),e.jsx(m,{className:"h-4 w-4 text-purple-400"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:Math.round(te.avgMessagesPerClient)}),e.jsx("p",{className:"text-xs text-gray-400",children:"Mensagens / usu√°rio"})]})]})})]}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs(r,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsx(l,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(i,{className:"text-white",children:"Uso de IA por Usu√°rio"}),e.jsx(d,{className:"text-gray-400",children:"Detalhes de mensagens, tokens e custos"})]})})}),e.jsxs(o,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(b,{placeholder:"Buscar usu√°rio...",value:F,onChange:e=>P(e.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]})}),e.jsx("div",{className:"border border-gray-700/50 rounded-lg overflow-hidden",children:e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(v,{className:"border-gray-700/50 hover:bg-gray-800/50",children:[e.jsx(w,{className:"text-gray-300 font-semibold",children:"Cliente"}),e.jsx(w,{className:"text-gray-300 font-semibold",children:"Plano"}),e.jsx(w,{className:"text-gray-300 font-semibold",children:"Provider"}),e.jsx(w,{className:"text-gray-300 font-semibold",children:"Mensagens"}),e.jsx(w,{className:"text-gray-300 font-semibold",children:"Tokens"}),e.jsx(w,{className:"text-gray-300 font-semibold",children:"Custo"}),e.jsx(w,{className:"text-gray-300 font-semibold",children:"√öltimo Uso"})]})}),e.jsx(_,{children:0===se.length?e.jsx(v,{children:e.jsx(q,{colSpan:7,className:"text-center py-8 text-gray-500",children:"Nenhum dado de uso encontrado"})}):se.map((s,t)=>e.jsxs(k.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"border-gray-700/50 hover:bg-gray-800/50 transition-colors",children:[e.jsx(q,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:s.clientName}),e.jsx("div",{className:"text-sm text-gray-400",children:s.clientSlug})]})}),e.jsx(q,{children:ae(s.plan)}),e.jsx(q,{children:re(s.aiProvider)}),e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-white",children:s.totalMessages})]})}),e.jsx(q,{children:e.jsx("span",{className:"text-sm text-white",children:s.totalTokens.toLocaleString("pt-BR")})}),e.jsx(q,{children:e.jsxs("span",{className:"font-semibold text-green-400",children:["R$"," ",s.estimatedCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx(q,{children:s.lastUsed?e.jsx("span",{className:"text-sm text-gray-400",children:new Date(s.lastUsed).toLocaleDateString("pt-BR")}):e.jsx("span",{className:"text-sm text-gray-500",children:"Nunca"})})]},s.clientId))})]})})]})]})})]})})}export{L as default};
