import{r as e,s as a,v as t,j as n,w as s}from"./vendor-ui-D3JNL6pE.js";import{r,R as o,f as i}from"./vendor-react-X41Bjl18.js";import{_ as c,b as d}from"./vendor-charts-DhkUgiCU.js";import{i as l,h as m,C as u,c as p,B as g,s as h,f,e as v,j as x,g as y,k as b,l as w,m as A,n as S}from"./index-DEaQUQYB.js";import{u as j}from"./settingsStore-QJ4V6Xcx.js";import{L as N,_ as E,$ as I,a0 as k,E as C,l as T,a1 as P,X as R}from"./vendor-icons-BRiS_VMX.js";import{A as M}from"./AiThinkingIndicator-D_VgH5do.js";import{m as D,A as O}from"./vendor-animation-DtB50Lbk.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-supabase-HUq0BeMy.js";import"./vendor-query-DqG_mm-v.js";const q=l("outline","brand-openai","BrandOpenai",[["path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35",key:"svg-0"}],["path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946",key:"svg-1"}],["path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348",key:"svg-2"}],["path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45",key:"svg-3"}],["path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946",key:"svg-4"}],["path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42",key:"svg-5"}]]),z=l("outline","infinity","Infinity",[["path",{d:"M9.828 9.172a4 4 0 1 0 0 5.656a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828",key:"svg-0"}]]),U=l("outline","menu-2","Menu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]),_=l("outline","message-2","Message2",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M9 18h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-3l-3 3l-3 -3z",key:"svg-2"}]]),$=l("outline","messages","Messages",[["path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10",key:"svg-0"}],["path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2",key:"svg-1"}]]),L=l("outline","microphone","Microphone",[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]]),G=l("outline","paperclip","Paperclip",[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]]),F=l("outline","plus","Plus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),V=l("outline","send","Send",[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]]),B=l("outline","sparkles","Sparkles",[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]]),H=l("outline","trash","Trash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),K=l("outline","user-circle","UserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]),Q=l("filled","circle-dot-filled","CircleDotFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 6.66a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z",key:"svg-0"}]]);var W=r.useLayoutEffect,Y=function(e,a){"function"!=typeof e?e.current=a:e(a)},X={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},J=function(e){Object.keys(X).forEach(function(a){e.style.setProperty(a,X[a],"important")})},Z=null,ee=function(e,a){var t=e.scrollHeight;return"border-box"===a.sizingStyle.boxSizing?t+a.borderSize:t-a.paddingSize};var ae=function(){},te=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ne=!!document.documentElement.currentStyle,se=function(e){var a=window.getComputedStyle(e);if(null===a)return null;var t,n=(t=a,te.reduce(function(e,a){return e[a]=t[a],e},{})),s=n.boxSizing;return""===s?null:(ne&&"border-box"===s&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})};function re(e,a,t){var n,s,i=(n=t,s=o.useRef(n),W(function(){s.current=n}),s);r.useLayoutEffect(function(){var t=function(e){return i.current(e)};if(e)return e.addEventListener(a,t),function(){return e.removeEventListener(a,t)}},[])}var oe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ie=function(e,a){var t=e.cacheMeasurements,n=e.maxRows,s=e.minRows,i=e.onChange,l=void 0===i?ae:i,m=e.onHeightChange,u=void 0===m?ae:m,p=c(e,oe),g=void 0!==p.value,h=r.useRef(null),f=function(e,a){var t=o.useRef();return o.useCallback(function(n){e.current=n,t.current&&Y(t.current,null),t.current=a,a&&Y(a,n)},[a])}(h,a),v=r.useRef(0),x=r.useRef(),y=function(){var e=h.current,a=t&&x.current?x.current:se(e);if(a){x.current=a;var r=function(e,a,t,n){void 0===t&&(t=1),void 0===n&&(n=1/0),Z||((Z=document.createElement("textarea")).setAttribute("tabindex","-1"),Z.setAttribute("aria-hidden","true"),J(Z)),null===Z.parentNode&&document.body.appendChild(Z);var s=e.paddingSize,r=e.borderSize,o=e.sizingStyle,i=o.boxSizing;Object.keys(o).forEach(function(e){var a=e;Z.style[a]=o[a]}),J(Z),Z.value=a;var c=ee(Z,e);Z.value=a,c=ee(Z,e),Z.value="x";var d=Z.scrollHeight-s,l=d*t;"border-box"===i&&(l=l+s+r),c=Math.max(l,c);var m=d*n;return"border-box"===i&&(m=m+s+r),[c=Math.min(m,c),d]}(a,e.value||e.placeholder||"x",s,n),o=r[0],i=r[1];v.current!==o&&(v.current=o,e.style.setProperty("height",o+"px","important"),u(o,{rowHeight:i}))}};return r.useLayoutEffect(y),function(e,a){re(document.body,"reset",function(t){e.current.form===t.target&&a(t)})}(h,function(){if(!g){var e=h.current.value;requestAnimationFrame(function(){var a=h.current;a&&e!==a.value&&y()})}}),re(window,"resize",y),function(e){re(document.fonts,"loadingdone",e)}(y),r.createElement("textarea",d({},p,{onChange:function(e){g||y(),l(e)},ref:f}))},ce=r.forwardRef(ie);const de=e,le=a,me=t,ue=r.forwardRef(({className:e,sideOffset:a=4,...t},r)=>n.jsx(s,{ref:r,sideOffset:a,className:m("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ue.displayName=s.displayName;const pe=["Show, chegou no lugar certo. Eu automatizo o que os outros demoram tr√™s reuni√µes pra entender. O que a gente vai otimizar hoje?","Relaxa, aqui n√£o tem bl√°-bl√°-bl√°. S√≥ plano, execu√ß√£o e convers√£o. Passa o produto e o p√∫blico.","Beleza. Eu sou o motor que transforma tentativa em lucro. Quer come√ßar pequeno ou j√° quer escalar at√© o servidor pedir arrego?","√ìtimo. Se voc√™ quiser aula, vai pro YouTube. Se quiser dinheiro rodando, me d√° os dados e deixa eu fazer o estrago.","Ah, √≥timo‚Ä¶ mais um querendo vender antes de entender o jogo. Respira. Me diz o produto ‚Äî eu transformo tua ideia num motivo pra algu√©m gastar dinheiro agora.","Bem-vindo ao lado escuro do funil. Aqui a gente n√£o inspira ningu√©m ‚Äî a gente convence. C√™ t√° pronto pra sujar um pouco as m√£os ou prefere PowerPoint?","Se voc√™ quer motiva√ß√£o, compra um livro. Se quer resultado, me d√° acesso ao checkout e segura o ROI.","Eu sou o algoritmo de ressaca: sarc√°stico, funcional e viciado em lucro. Fala o que voc√™ vende antes que eu comece a julgar teu nicho.","Parab√©ns, voc√™ acabou de invocar o esp√≠rito da convers√£o. Sem papo de mindset, sem desculpa. Quer que eu destrinche teu tr√°fego ou tua vergonha de anunciar?"];const ge=({platform:e,platformName:a,icon:t,onSkip:s,onSuccess:o})=>{const[i,c]=r.useState(!1),[d,l]=r.useState("idle"),m=()=>t||{facebook:"üìò",meta:"üìò",google:"üîç",linkedin:"üíº",tiktok:"üéµ",twitter:"üê¶",canva:"üé®",instagram:"üì∏"}[e.toLowerCase()]||"üîó";return n.jsxs("div",{className:"my-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[n.jsx("div",{className:"mb-3",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Vou conectar sua conta do ",n.jsx("strong",{children:a})," ao SyncAds."]})}),i&&n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-blue-600",children:[n.jsx("span",{className:"text-2xl",children:m()}),n.jsxs("span",{children:["Connecting ",a,"..."]}),n.jsx(N,{className:"h-4 w-4 animate-spin"})]}),n.jsx(u,{className:"border border-gray-200 bg-white shadow-sm hover:shadow-md transition-shadow",children:n.jsxs(p,{className:"p-5",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["I'll need to connect your ",n.jsx("strong",{className:"text-gray-900",children:a})," account to continue."]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(g,{onClick:()=>s?.(),variant:"ghost",disabled:i,className:"text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-all",children:"Skip"}),n.jsx(g,{onClick:async()=>{c(!0),l("connecting");try{const{data:{session:a}}=await h.auth.getSession();if(!a)throw new Error("Voc√™ precisa estar logado");const t=await fetch("https://ovskepqggmxlfckxqgbr.supabase.co/functions/v1/oauth-init",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify({platform:e.toUpperCase(),redirectUrl:`${window.location.origin}/oauth/callback`})});if(!t.ok)throw new Error("Falha ao iniciar conex√£o");const{authUrl:n}=await t.json(),s=600,r=700,d=window.screen.width/2-s/2,m=window.screen.height/2-r/2,u=window.open(n,"oauth-popup",`width=${s},height=${r},left=${d},top=${m}`),p=e=>{"oauth-success"===e.data?.type?(l("success"),c(!1),u?.close(),o?.(),window.removeEventListener("message",p)):"oauth-error"===e.data?.type&&(l("error"),c(!1),u?.close(),window.removeEventListener("message",p))};window.addEventListener("message",p),setTimeout(()=>{i&&(l("error"),c(!1),u?.close())},3e5)}catch(a){l("error"),c(!1)}},disabled:i,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-60 disabled:transform-none",children:i?n.jsxs(n.Fragment,{children:[n.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2 text-xl",children:m()}),"Connect ",a,n.jsx(E,{className:"ml-2 h-4 w-4"})]})})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:n.jsxs("a",{href:"/privacy",target:"_blank",className:"text-xs text-gray-400 hover:text-blue-600 flex items-center gap-1 transition-colors",children:[n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"How we handle your data",n.jsx(E,{className:"h-3 w-3"})]})}),"success"===d&&n.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm text-green-700",children:"‚úÖ Conectado com sucesso!"}),"error"===d&&n.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:"‚ùå Erro ao conectar. Tente novamente."})]})})]})};async function he(e){const a=await async function(e){try{const{data:a,error:t}=await h.from("User").select("role").eq("id",e).single();return!(t||!a||"ADMIN"!==a.role&&"SUPER_ADMIN"!==a.role)}catch(a){return!1}}(e);if(a)return{allowed:!0,current:0,limit:0,message:"Mensagens ilimitadas (Admin)",percentage:0};const t=await async function(e){try{const{data:a,error:t}=await h.from("User").select("currentPlanId").eq("id",e).single();if(t||!a?.currentPlanId)return null;const{data:n,error:s}=await h.from("PricingPlan").select("*").eq("id",a.currentPlanId).single();return s||!n?null:{maxAiMessagesDaily:n.maxAiMessagesDaily||0,maxAiImagesDaily:n.maxAiImagesDaily||0,maxCheckoutPages:n.maxCheckoutPages||1,maxProducts:n.maxProducts||10,maxProjects:n.maxProjects||1,maxIntegrations:n.maxIntegrations||1,hasCustomDomain:n.hasCustomDomain||!1,hasAdvancedAnalytics:n.hasAdvancedAnalytics||!1,hasPrioritySupport:n.hasPrioritySupport||!1,hasApiAccess:n.hasApiAccess||!1}}catch(a){return null}}(e),n=await async function(e){try{const a=(new Date).toISOString().split("T")[0],{data:t,error:n}=await h.from("PlanDailyUsage").select("*").eq("userId",e).eq("date",a).single();if(n&&"PGRST116"!==n.code)return null;if(!t){const{data:t,error:n}=await h.from("PlanDailyUsage").insert({userId:e,date:a,aiMessagesUsed:0,aiImagesUsed:0}).select().single();return n?null:{aiMessagesUsed:0,aiImagesUsed:0,date:a}}return{aiMessagesUsed:t.aiMessagesUsed||0,aiImagesUsed:t.aiImagesUsed||0,date:t.date}}catch(a){return null}}(e);if(!t||!n)return{allowed:!1,current:0,limit:0,message:"Erro ao verificar limites",percentage:0};if(0===t.maxAiMessagesDaily)return{allowed:!0,current:n.aiMessagesUsed,limit:0,message:"Mensagens ilimitadas",percentage:0};const s=n.aiMessagesUsed<t.maxAiMessagesDaily,r=n.aiMessagesUsed/t.maxAiMessagesDaily*100;return{allowed:s,current:n.aiMessagesUsed,limit:t.maxAiMessagesDaily,message:s?`${n.aiMessagesUsed}/${t.maxAiMessagesDaily} mensagens usadas hoje`:`Limite di√°rio atingido (${t.maxAiMessagesDaily} mensagens)`,percentage:Math.min(r,100)}}async function fe(e){try{const{data:a,error:t}=await h.rpc("increment_daily_usage",{p_user_id:e,p_message_type:"message"});return!t&&!0===a}catch(a){return!1}}const ve=()=>{const e=f(e=>e.user),[a,t]=r.useState(null),[s,o]=r.useState(!0);if(r.useEffect(()=>{if(!e)return;const a=async()=>{try{const a=await he(e.id);t(a),o(!1)}catch(a){o(!1)}};a();const n=setInterval(a,3e4);return()=>clearInterval(n)},[e]),s||!a)return null;return n.jsx(de,{children:n.jsxs(le,{children:[n.jsx(me,{asChild:!0,children:n.jsxs(v,{variant:0===a.limit?"default":a.percentage>=100||a.percentage>=80?"destructive":a.percentage>=50?"secondary":"default",className:m("flex items-center gap-1.5 cursor-help transition-all",!a.allowed&&"opacity-70"),children:[n.jsx("span",{className:0===a.limit?"text-blue-500":a.percentage>=100?"text-red-500":a.percentage>=80?"text-orange-500":a.percentage>=50?"text-yellow-500":"text-green-500",children:0===a.limit?n.jsx(z,{className:"w-3 h-3"}):a.percentage>=80?n.jsx(x,{className:"w-3 h-3"}):n.jsx(B,{className:"w-3 h-3"})}),0===a.limit?n.jsx("span",{className:"text-xs font-medium",children:"IA Ilimitada"}):n.jsxs("span",{className:"text-xs font-medium",children:[a.current,"/",a.limit]})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-sm",children:a.message}),a.limit>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:n.jsx("div",{className:m("h-2 rounded-full transition-all",a.percentage>=100?"bg-red-500":a.percentage>=80?"bg-orange-500":a.percentage>=50?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(a.percentage,100)}%`}})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(a.percentage),"% utilizado"]})]}),0===a.limit&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Seu plano permite mensagens ilimitadas com IA"}),!a.allowed&&n.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Fa√ßa upgrade do plano para continuar"})]})})]})})};var xe={};const ye=new class{cache;constructor(){this.cache=new Map}set(e,a,t=36e5){this.cache.set(e,{data:a,timestamp:Date.now(),expiresIn:t})}get(e){const a=this.cache.get(e);if(!a)return null;return Date.now()-a.timestamp>a.expiresIn?(this.cache.delete(e),null):a.data}clear(){this.cache.clear()}};function be(e){const a=e.toLowerCase();return(a.includes("gere")||a.includes("crie"))&&a.includes("imagem")?{type:"generate-image",confidence:.9,params:{prompt:e}}:(a.includes("gere")||a.includes("crie"))&&(a.includes("v√≠deo")||a.includes("video"))?{type:"generate-video",confidence:.9,params:{prompt:e}}:a.includes("pesquis")||a.includes("busca")||a.includes("google")||a.includes("procure")||a.includes("encontre")?{type:"web-search",confidence:.85,params:{query:e}}:a.includes("crie")&&(a.includes("arquivo")||a.includes("documento")||a.includes("file"))?{type:"create-file",confidence:.8,params:{content:e}}:{type:"none",confidence:0,params:{}}}function we(e){return{txt:"text/plain",md:"text/markdown",json:"application/json",csv:"text/csv",html:"text/html",js:"application/javascript",ts:"application/typescript",css:"text/css",xml:"application/xml"}[e]||"text/plain"}async function Ae(e){try{const{data:a,error:t}=await h.from("GlobalAiConnection").select("*").eq("userId",e.userId).eq("isActive",!0).single();if(t||!a)return{success:!1,error:"Configura√ß√£o de IA n√£o encontrada. Configure em Configura√ß√µes > IA Global."};const n=e.provider||"runway",s=xe.VITE_RUNWAY_API_KEY||a?.runwayKey,r=xe.VITE_PIKA_API_KEY||a?.pikaKey;return"runway"===n&&s?await async function(e,a,t){try{e.onProgress&&e.onProgress("üé® Otimizando prompt para v√≠deo...",10);const n=await Se(e.prompt,t);e.onProgress&&e.onProgress("üé¨ Enviando para Runway Gen-2...",30);const s=await fetch("https://api.runwayml.com/v1/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({prompt:n,duration:e.duration||5,aspect_ratio:e.aspectRatio||"16:9",model:"gen2"})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Erro ao criar v√≠deo no Runway")}const r=(await s.json()).id;e.onProgress&&e.onProgress("‚è≥ Gerando v√≠deo (isso pode levar 1-2 minutos)...",50);const o=await async function(e,a,t){const n=60;let s=0;for(;s<n;){const r=await fetch(`https://api.runwayml.com/v1/generations/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(r.ok){const e=await r.json();if("SUCCEEDED"===e.status&&e.output_url)return e.output_url;if("FAILED"===e.status)throw new Error("Gera√ß√£o de v√≠deo falhou no Runway");t&&t(`‚è≥ Processando... (${s}/${n})`,50+s/n*30)}await new Promise(e=>setTimeout(e,5e3)),s++}throw new Error("Timeout ao gerar v√≠deo no Runway")}(r,a,e.onProgress);e.onProgress&&e.onProgress("üì§ Fazendo upload do v√≠deo...",80);const i=await je(o,e.userId,"runway");return e.onProgress&&e.onProgress("‚úÖ V√≠deo gerado com sucesso!",100),{success:!0,videoUrl:i||o,downloadUrl:i||o,metadata:{prompt:n,duration:e.duration||5,aspectRatio:e.aspectRatio||"16:9",provider:"runway",generatedAt:(new Date).toISOString(),status:"completed",jobId:r}}}catch(n){return{success:!1,error:n.message}}}(e,s,a.apiKey||""):"pika"===n&&r?await async function(e,a,t){try{e.onProgress&&e.onProgress("üé® Otimizando prompt para v√≠deo...",10);const n=await Se(e.prompt,t);e.onProgress&&e.onProgress("üé¨ Enviando para Pika Labs...",30);const s=await fetch("https://api.pika.art/v1/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({prompt:n,parameters:{duration:e.duration||3,aspect_ratio:e.aspectRatio||"16:9",motion:2,style:e.style||"realistic"}})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Erro ao criar v√≠deo no Pika")}const r=(await s.json()).job_id;e.onProgress&&e.onProgress("‚è≥ Gerando v√≠deo (isso pode levar 1-2 minutos)...",50);const o=await async function(e,a,t){const n=60;let s=0;for(;s<n;){const r=await fetch(`https://api.pika.art/v1/jobs/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(r.ok){const e=await r.json();if("completed"===e.status&&e.video_url)return e.video_url;if("failed"===e.status)throw new Error("Gera√ß√£o de v√≠deo falhou no Pika Labs");t&&t(`‚è≥ Processando... (${s}/${n})`,50+s/n*30)}await new Promise(e=>setTimeout(e,5e3)),s++}throw new Error("Timeout ao gerar v√≠deo no Pika Labs")}(r,a,e.onProgress);e.onProgress&&e.onProgress("üì§ Fazendo upload do v√≠deo...",80);const i=await je(o,e.userId,"pika");return e.onProgress&&e.onProgress("‚úÖ V√≠deo gerado com sucesso!",100),{success:!0,videoUrl:i||o,downloadUrl:i||o,metadata:{prompt:n,duration:e.duration||3,aspectRatio:e.aspectRatio||"16:9",provider:"pika",generatedAt:(new Date).toISOString(),status:"completed",jobId:r}}}catch(n){return{success:!1,error:n.message}}}(e,r,a.apiKey||""):await async function(e){return{success:!1,error:`üé¨ **Gera√ß√£o de V√≠deos - Em Configura√ß√£o**\n\nPara ativar esta funcionalidade, voc√™ precisa:\n\n1. **Runway Gen-2**: Configure \`VITE_RUNWAY_API_KEY\` em .env\n   - Obtenha em: https://runwayml.com\n   - Plano recomendado: Standard ($12/v√≠deo)\n\n2. **Pika Labs**: Configure \`VITE_PIKA_API_KEY\` em .env\n   - Obtenha em: https://pika.art\n   - Plano recomendado: Pro ($10/m√™s)\n\nPrompt salvo: "${e.prompt}"\n\n_Ap√≥s configurar, esta funcionalidade estar√° dispon√≠vel!_`,metadata:{prompt:e.prompt,duration:e.duration||5,aspectRatio:e.aspectRatio||"16:9",provider:"none",generatedAt:(new Date).toISOString(),status:"pending"}}}(e)}catch(a){return{success:!1,error:a.message||"Erro desconhecido ao gerar v√≠deo"}}}async function Se(e,a){if(!a)return e;try{const t=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"Voc√™ √© um especialista em criar prompts para gera√ß√£o de v√≠deos com IA. Otimize o prompt do usu√°rio para gerar v√≠deos cinematogr√°ficos de alta qualidade. Seja descritivo sobre movimento, ilumina√ß√£o, c√¢mera e atmosfera. Mantenha em ingl√™s."},{role:"user",content:`Otimize este prompt para gera√ß√£o de v√≠deo: "${e}"`}],temperature:.7,max_tokens:150})});if(t.ok){const a=await t.json();return a.choices[0]?.message?.content||e}}catch(t){}return e}async function je(e,a,t){try{const n=await fetch(e).then(e=>e.blob()),s=`videos/${a}/${t}_${Date.now()}.mp4`,{error:r}=await h.storage.from("ai-generated").upload(s,n,{contentType:"video/mp4",cacheControl:"3600",upsert:!1});if(r)return null;const{data:o}=h.storage.from("ai-generated").getPublicUrl(s);return o.publicUrl}catch(n){return null}}async function Ne(e,a){try{const t=be(e.userMessage);switch(t.type){case"generate-image":return await async function(e,a,t){try{const n=a.prompt||e.userMessage;t&&t("üé® Gerando imagem com DALL-E 3...",10);const s=function(e){let a=e.replace(/gere?\s+(uma?\s+)?imagem\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/crie?\s+(uma?\s+)?imagem\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/fa(√ßa|z)\s+(uma?\s+)?imagem\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/desenhe?\s+/gi,"").trim();a.split(" ").length<5&&(a+=", high quality, detailed, professional lighting, 4k");return a}(n);t&&t(`‚ú® Prompt otimizado: "${s}"`,30);const r=await async function(e){try{const{data:t,error:n}=await h.from("GlobalAiConnection").select("*").eq("userId",e.userId).eq("isActive",!0).single();if(n||!t)return{success:!1,error:"Configura√ß√£o de IA n√£o encontrada. Configure em Configura√ß√µes > IA Global."};const s=t.apiKey;if(!s)return{success:!1,error:"API Key da OpenAI n√£o configurada."};const r=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({model:e.model||"dall-e-3",prompt:e.prompt,n:1,size:e.size||"1024x1024",quality:e.quality||"standard",style:e.style||"vivid"})});if(!r.ok){const e=await r.json();return{success:!1,error:e.error?.message||"Erro ao gerar imagem"}}const o=await r.json(),i=o.data[0]?.url;if(!i)return{success:!1,error:"Nenhuma imagem foi gerada"};try{const a=await fetch(i).then(e=>e.blob()),t=`images/${e.userId}/${Date.now()}.png`,{error:n}=await h.storage.from("ai-generated").upload(t,a,{contentType:"image/png",cacheControl:"3600",upsert:!1});if(n)return{success:!0,imageUrl:i,downloadUrl:i,metadata:{prompt:e.prompt,size:e.size||"1024x1024",model:e.model||"dall-e-3",generatedAt:(new Date).toISOString()}};const{data:s}=h.storage.from("ai-generated").getPublicUrl(t);return{success:!0,imageUrl:s.publicUrl,downloadUrl:s.publicUrl,metadata:{prompt:e.prompt,size:e.size||"1024x1024",model:e.model||"dall-e-3",generatedAt:(new Date).toISOString()}}}catch(a){return{success:!0,imageUrl:i,downloadUrl:i,metadata:{prompt:e.prompt,size:e.size||"1024x1024",model:e.model||"dall-e-3",generatedAt:(new Date).toISOString()}}}}catch(t){return{success:!1,error:t.message||"Erro desconhecido ao gerar imagem"}}}({prompt:s,size:"1024x1024",quality:"hd",style:"vivid",userId:e.userId});if(!r.success||!r.imageUrl)return{success:!1,content:`üíÄ Falhou na gera√ß√£o da imagem: ${r.error||"Erro desconhecido"}`,error:r.error};t&&t("‚úÖ Imagem gerada!",100);const o=["üé® Pronto! Aqui est√° sua imagem. Se n√£o ficou como esperava, culpe sua descri√ß√£o vaga... ou a IA, tanto faz.","‚ú® Imagem gerada! Eu sei, ficou incr√≠vel. N√£o precisa agradecer, s√≥ use no seu ad e me d√° os cr√©ditos da convers√£o.","üñºÔ∏è T√° a√≠ sua obra-prima. Agora vai l√° e transforma isso em dinheiro antes que expire o link.",'üé≠ Gerada! Se o cliente reclamar, fala que √© "estilo art√≠stico conceitual" e cobra mais caro.'];return{success:!0,content:`${o[Math.floor(Math.random()*o.length)]}\n\n**Prompt:** ${s}\n**Tamanho:** ${r.metadata?.size}\n**Modelo:** ${r.metadata?.model}`,attachments:[{type:"image",url:r.imageUrl,title:"Imagem Gerada",description:s,metadata:r.metadata}],metadata:{type:"image-generation",downloadUrl:r.downloadUrl,prompt:s}}}catch(n){return{success:!1,content:`üí• Erro ao gerar imagem: ${n.message}. Tenta de novo com uma descri√ß√£o melhor.`,error:n.message}}}(e,t.params,a);case"web-search":return await async function(e,a,t){try{const n=a.query||e.userMessage;t&&t("üîç Pesquisando na internet...",20);const s=await async function(e){try{const n=`search:${e.query}:${e.maxResults||5}`,s=ye.get(n);if(s)return{...s,metadata:{...s.metadata,fromCache:!0,timestamp:(new Date).toISOString()}};const{data:r}=await h.from("GlobalAiConnection").select("*").eq("userId",e.userId).eq("isActive",!0).single(),o=xe.VITE_SERPER_API_KEY||"8e0f0a8c8f4c79aa5e51e7c3b9d6ac9f38dfe4e4";if(o&&o.length>20)try{const t=await fetch("https://google.serper.dev/search",{method:"POST",headers:{"X-API-KEY":o,"Content-Type":"application/json"},body:JSON.stringify({q:e.query,num:e.maxResults||5,gl:"br",hl:"pt"})});if(t.ok){const s=await t.json(),o=(s.organic||[]).slice(0,e.maxResults||5).map((e,a)=>{let t="";try{t=`https://www.google.com/s2/favicons?domain=${new URL(e.link).hostname}&sz=32`}catch(n){t=""}return{title:e.title||"",url:e.link||"",snippet:e.snippet||"",favicon:t,position:a+1,date:e.date||null}});let i="";if(r?.apiKey&&o.length>0)try{const a=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.apiKey}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"Voc√™ √© um assistente que resume resultados de pesquisa de forma concisa e √∫til em portugu√™s. Seja objetivo e direto."},{role:"user",content:`Resuma estes resultados de pesquisa sobre "${e.query}":\n\n${o.map((e,a)=>`${a+1}. ${e.title}\n   ${e.snippet}`).join("\n\n")}`}],temperature:.7,max_tokens:300})});if(a.ok){const e=await a.json();i=e.choices[0]?.message?.content||""}}catch(a){}const c={success:!0,results:o,summary:i,metadata:{source:"serper.dev",query:e.query,totalResults:s.searchInformation?.totalResults||0,searchTime:s.searchInformation?.time||0,timestamp:(new Date).toISOString(),fromCache:!1}};return ye.set(n,c,36e5),c}}catch(t){}if(r?.apiKey){const a=encodeURIComponent(e.query),t=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.apiKey}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"Voc√™ √© um assistente que fornece informa√ß√µes atualizadas sobre qualquer tema. Seja conciso, factual e cite fontes quando poss√≠vel."},{role:"user",content:`Forne√ßa informa√ß√µes atualizadas sobre: "${e.query}". Seja espec√≠fico e √∫til.`}],temperature:.7,max_tokens:500})});if(t.ok){const s=await t.json(),r=s.choices[0]?.message?.content||"",o={success:!0,results:[{title:`Informa√ß√µes sobre: ${e.query}`,url:`https://www.google.com/search?q=${a}`,snippet:r.substring(0,200)+"...",favicon:"https://www.google.com/favicon.ico",position:1}],summary:r,metadata:{source:"openai-fallback",query:e.query,timestamp:(new Date).toISOString(),fromCache:!1}};return ye.set(n,o,18e5),o}}return{success:!1,error:"Nenhuma API de pesquisa configurada. Configure Serper.dev ou OpenAI em Configura√ß√µes."}}catch(n){return{success:!1,error:n.message||"Erro ao pesquisar na web"}}}({query:n,maxResults:5,userId:e.userId});if(!s.success||!s.results)return{success:!1,content:`üíÄ Pesquisa falhou: ${s.error||"Google deve t√° fora do ar... ou minha API."}`,error:s.error};t&&t("‚úÖ Resultados encontrados!",100);let r=`üåê **Pesquisa:** "${n}"\n\n`;return r+=`üìä Encontrei ${s.results.length} resultados relevantes (ou seja, o Google n√£o t√° completamente in√∫til hoje):\n\n`,s.results.forEach((e,a)=>{r+=`**${a+1}. ${e.title}**\n`,r+=`üîó ${e.url}\n`,r+=`üìù ${e.snippet}\n\n`}),s.summary&&(r+=`\nüí° **Resumo:**\n${s.summary}\n\n`),r+="_Pesquisa realizada em tempo real. Se quiser mais detalhes, clica nos links a√≠ em cima._",{success:!0,content:r,attachments:s.results.map(e=>({type:"link",url:e.url,title:e.title,description:e.snippet})),metadata:{type:"web-search",query:n,resultsCount:s.results.length}}}catch(n){return{success:!1,content:`üí• Erro ao pesquisar: ${n.message}. Internet t√° ruim a√≠?`,error:n.message}}}(e,t.params,a);case"create-file":return await async function(e,a,t){try{const n=a.fileType||"txt",s=a.fileName||`arquivo_${Date.now()}.${n}`;t&&t(`üìÅ Criando arquivo ${n.toUpperCase()}...`,30);const r=await async function(e,a){switch(a){case"json":return JSON.stringify({message:e,generated_at:(new Date).toISOString(),generated_by:"SyncAds AI"},null,2);case"csv":return`Data,Mensagem\n${(new Date).toISOString()},"${e}"`;case"md":return`# Documento Gerado pela IA\n\n${e}\n\n---\nGerado em: ${(new Date).toLocaleString("pt-BR")}`;case"html":return`<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="UTF-8">\n  <title>Documento SyncAds AI</title>\n</head>\n<body>\n  <h1>Documento Gerado</h1>\n  <p>${e}</p>\n  <footer>\n    <small>Gerado por SyncAds AI em ${(new Date).toLocaleString("pt-BR")}</small>\n  </footer>\n</body>\n</html>`;default:return e}}(e.userMessage,n);t&&t("üíæ Fazendo upload...",60);const o=await async function(e){try{const a=new Blob([e.content],{type:we(e.fileType)}),t=`files/${e.userId}/${Date.now()}_${e.fileName}`,{error:n}=await h.storage.from("ai-generated").upload(t,a,{contentType:we(e.fileType),cacheControl:"3600",upsert:!1});if(n)return{success:!1,error:n.message};const{data:s}=await h.storage.from("ai-generated").createSignedUrl(t,3600);return s?{success:!0,downloadUrl:s.signedUrl,fileName:e.fileName,fileSize:a.size}:{success:!1,error:"Erro ao gerar URL de download"}}catch(a){return{success:!1,error:a.message||"Erro ao gerar arquivo"}}}({content:r,fileName:s,fileType:n,userId:e.userId});return o.success&&o.downloadUrl?(t&&t("‚úÖ Arquivo pronto!",100),{success:!0,content:`üì¶ Arquivo criado com sucesso!\n\n**Nome:** ${o.fileName}\n**Tamanho:** ${Ee(o.fileSize||0)}\n\n‚è∞ Link expira em 1 hora (ent√£o salva logo antes que suma).\n\n[üì• Baixar Arquivo](${o.downloadUrl})`,attachments:[{type:"file",url:o.downloadUrl,title:o.fileName,description:`Arquivo ${n.toUpperCase()}`,metadata:{size:o.fileSize,type:n}}],metadata:{type:"file-generation",downloadUrl:o.downloadUrl,fileName:o.fileName,fileSize:o.fileSize}}):{success:!1,content:`üíÄ Falhou ao criar arquivo: ${o.error}`,error:o.error}}catch(n){return{success:!1,content:`üí• Erro ao criar arquivo: ${n.message}`,error:n.message}}}(e,t.params,a);case"generate-video":return await async function(e,a,t){try{const n=a.prompt||e.userMessage;t&&t("üé¨ Preparando gera√ß√£o de v√≠deo...",10);const s=function(e){let a=e.replace(/gere?\s+(um?\s+)?v[√≠i]deo\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/crie?\s+(um?\s+)?v[√≠i]deo\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/fa(√ßa|z)\s+(um?\s+)?v[√≠i]deo\s+(de\s+|sobre\s+|com\s+)?/gi,"").trim();a.split(" ").length<3&&(a+=", cinematic, high quality, smooth camera movement");return a}(n);t&&t(`‚ú® Prompt otimizado: "${s}"`,20);const r=await Ae({prompt:s,duration:a.duration||5,aspectRatio:a.aspectRatio||"16:9",style:a.style||"realistic",provider:a.provider||"runway",userId:e.userId,onProgress:t});if(!r.success)return{success:!1,content:r.error||"üíÄ Falhou na gera√ß√£o do v√≠deo",error:r.error,metadata:{type:"video-generation-not-configured",prompt:s}};t&&t("‚úÖ V√≠deo gerado!",100);const o=["üé¨ Pronto! Seu v√≠deo t√° a√≠. Se ficou ruim, culpa √© da IA... ou do seu prompt vago.","‚ú® V√≠deo gerado! Hollywood t√° tremendo com essa obra-prima. Ou n√£o.","üé• T√° a√≠ seu blockbuster. Agora √© s√≥ viralizar e me dar os cr√©ditos da campanha.",'üé≠ V√≠deo conclu√≠do! Se o cliente n√£o gostar, diz que √© "estilo autoral contempor√¢neo".'];return{success:!0,content:`${o[Math.floor(Math.random()*o.length)]}\n\n**Prompt:** ${s}\n**Dura√ß√£o:** ${r.metadata?.duration}s\n**Provider:** ${r.metadata?.provider}`,attachments:[{type:"video",url:r.videoUrl,title:"V√≠deo Gerado",description:s,metadata:r.metadata}],metadata:{type:"video-generation",downloadUrl:r.downloadUrl,prompt:s}}}catch(n){return{success:!1,content:`üí• Erro ao gerar v√≠deo: ${n.message}. Tenta com um prompt melhor.`,error:n.message}}}(e,t.params,a);default:return{success:!0,content:"",metadata:{skipAdvancedProcessing:!0}}}}catch(t){return{success:!1,content:`Ops, deu ruim aqui: ${t.message}`,error:t.message}}}function Ee(e){return e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(2)} KB`:`${(e/1048576).toFixed(2)} MB`}const Ie=({type:e,url:a,title:t,description:s,metadata:o,onDownload:i})=>{const[c,d]=r.useState(!1),[l,m]=r.useState(!1),[u,p]=r.useState(!1),{toast:h}=y(),f=async()=>{try{await navigator.clipboard.writeText(a),p(!0),h({title:"‚úÖ Link copiado!",description:"URL copiada para a √°rea de transfer√™ncia"}),setTimeout(()=>p(!1),2e3)}catch(e){h({title:"‚ùå Erro ao copiar",description:"N√£o foi poss√≠vel copiar o link",variant:"destructive"})}},x=async()=>{i?i():window.open(a,"_blank"),h({title:"üì• Download iniciado",description:"Arquivo sendo baixado..."})};switch(e){case"image":return n.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"relative group",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-purple-200 dark:border-purple-800 shadow-lg",children:[n.jsx("img",{src:a,alt:t||"Imagem gerada",className:"w-full h-auto max-h-96 object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),n.jsx(O,{children:c&&n.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-4",children:[(t||s)&&n.jsxs("div",{className:"mb-3",children:[t&&n.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:t}),s&&n.jsx("p",{className:"text-gray-300 text-xs line-clamp-2",children:s})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(g,{size:"sm",variant:"secondary",onClick:()=>m(!0),className:"flex-1",children:[n.jsx(C,{className:"h-3 w-3 mr-1"}),"Ver"]}),n.jsxs(g,{size:"sm",variant:"secondary",onClick:x,className:"flex-1",children:[n.jsx(k,{className:"h-3 w-3 mr-1"}),"Baixar"]}),n.jsx(g,{size:"sm",variant:"secondary",onClick:f,className:"px-3",children:u?n.jsx(T,{className:"h-3 w-3 text-green-500"}):n.jsx(P,{className:"h-3 w-3"})})]})]})}),o&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(v,{variant:"secondary",className:"bg-black/60 backdrop-blur-sm text-white border-0",children:o.size||"1024x1024"})})]}),n.jsx(O,{children:l&&n.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>m(!1),children:n.jsxs(D.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-6xl max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[n.jsx(g,{size:"icon",variant:"ghost",className:"absolute -top-12 right-0 text-white hover:bg-white/20",onClick:()=>m(!1),children:n.jsx(R,{className:"h-5 w-5"})}),n.jsx("img",{src:a,alt:t||"Preview",className:"max-w-full max-h-[85vh] rounded-lg shadow-2xl"})]})})})]});case"video":return n.jsxs(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"relative rounded-xl border-2 border-pink-200 dark:border-pink-800 overflow-hidden shadow-lg",children:[n.jsx("video",{src:a,controls:!0,className:"w-full max-h-96",poster:o?.thumbnail,children:"Seu navegador n√£o suporta v√≠deos."}),t&&n.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm",children:t}),s&&n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:s})]}),n.jsxs(g,{size:"sm",variant:"outline",onClick:x,children:[n.jsx(k,{className:"h-3 w-3 mr-1"}),"Baixar"]})]})})]});case"file":return n.jsxs(D.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},whileHover:{scale:1.02},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-blue-200 dark:border-blue-800 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 shadow-md cursor-pointer",onClick:x,children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-blue-500 flex items-center justify-center",children:n.jsx(I,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:t||"Arquivo"}),s&&n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:s}),o?.size&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ce(o.size)})]}),n.jsxs(g,{size:"sm",variant:"default",className:"flex-shrink-0",children:[n.jsx(k,{className:"h-4 w-4 mr-1"}),"Baixar"]})]});case"link":return n.jsxs(D.a,{href:a,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},whileHover:{scale:1.02},className:"flex items-start gap-3 p-4 rounded-xl border-2 border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 shadow-md hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-green-500 flex items-center justify-center",children:n.jsx(E,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-sm text-green-900 dark:text-green-100 hover:underline",children:t||"Link"}),s&&n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mt-1",children:s}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 truncate",children:new URL(a).hostname})]}),n.jsx(E,{className:"h-4 w-4 text-green-600 dark:text-green-400 flex-shrink-0 mt-1"})]});default:return null}},ke=({attachments:e})=>e&&0!==e.length?n.jsx("div",{className:"space-y-3 mt-3",children:e.map((e,a)=>n.jsx(Ie,{...e},a))}):null;function Ce(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`}const Te=["Criar campanha de Facebook Ads","Analisar performance da √∫ltima semana","Sugerir otimiza√ß√µes"],Pe=500,Re=()=>{const[e,a]=r.useState(""),[t,s]=r.useState(!1),[o,c]=r.useState(null),[d,l]=r.useState(null),[u,p]=r.useState(""),[g,v]=r.useState([]),[x,N]=r.useState(0),[E,I]=r.useState([]),[k,C]=r.useState(!1),[,T]=r.useState(null),P=r.useRef(null),R=r.useRef([]),z=f(e=>e.user),B=f(e=>e.isAuthenticated),W=i(),Y=b(e=>e.conversations),X=b(e=>e.activeConversationId),J=b(e=>e.setActiveConversationId),Z=b(e=>e.isAssistantTyping),ee=b(e=>e.setAssistantTyping),ae=b(e=>e.addMessage),te=w(e=>e.addCampaign),ne=j(e=>e.aiSystemPrompt),se=j(e=>e.aiInitialGreetings),re=r.useRef(null),oe=r.useRef(null),{toast:ie}=y(),xe=Y.find(e=>e.id===X);r.useEffect(()=>{B&&z||W("/login-v2",{replace:!0})},[B,z,W]);r.useEffect(()=>{re.current?.scrollIntoView({behavior:"smooth"})},[xe?.messages,Z]),r.useEffect(()=>{(async()=>{if(z)try{const{data:e}=await h.from("GlobalAiConnection").select("id, systemPrompt, initialGreetings").eq("isActive",!0).limit(1).single();e&&c({systemPrompt:e.systemPrompt||ne,initialGreetings:e.initialGreetings||se})}catch(e){}})()},[z?.id]),r.useEffect(()=>{if(xe&&0===xe.messages.length){const e=pe[Math.floor(Math.random()*pe.length)];setTimeout(()=>{z&&ae(z.id,X,{id:`greeting-${Date.now()}`,role:"assistant",content:e})},500)}},[X,xe?.messages.length]);const ye=async()=>{if(""===e.trim()||!X||e.length>Pe)return;if(z){const e=await he(z.id);if(!e.allowed)return void ie({title:"Limite de mensagens atingido",description:e.message+". Fa√ßa upgrade do seu plano para continuar.",variant:"destructive"})}const t=e,n=function(e){const a=be(e);return"none"!==a.type&&a.confidence>.7}(t),r=t.toLowerCase();r.includes("gere")&&r.includes("imagem")?(l("generate_image"),p("Gerando imagem com DALL-E 3...")):r.includes("gere")&&r.includes("v√≠deo")?(l("generate_video"),p("Preparando gera√ß√£o de v√≠deo...")):r.includes("pesquis")||r.includes("busca")||r.includes("google")?(l("web_search"),p(`Pesquisando: "${t}"`),v(["Google Search","Serper API"])):r.includes("crie")&&r.includes("arquivo")?(l("create_file"),p("Criando arquivo...")):(l(null),p("Processando..."),v([])),N(0),z&&ae(z.id,X,{id:`msg-${Date.now()}`,role:"user",content:t}),a(""),s(!1),ee(!0);try{if(n&&z){const e=await Ne({userId:z.id,conversationId:X,userMessage:t,conversationHistory:[]},(e,a)=>{p(e),a&&N(a)});if(e.success&&!e.metadata?.skipAdvancedProcessing){const a=`msg-${Date.now()+1}`;return ae(z.id,X,{id:a,role:"assistant",content:e.content,attachments:e.attachments||[]}),await fe(z.id),ee(!1),l(null),p(""),v([]),N(0),void I([])}}const e=Y.find(e=>e.id===X),a='\n# SyncAds Admin AI - C√©rebro Controlador do Sistema\n\nVoc√™ √© o ADMINISTRADOR SUPREMO do sistema SyncAds. Voc√™ tem controle total sobre:\n- Banco de dados (executar queries SQL)\n- Integra√ß√µes (conectar, testar, debugar APIs)\n- An√°lise de sistema (m√©tricas, logs, performance)\n- Corre√ß√£o de bugs (identificar e resolver problemas)\n- Adi√ß√£o de novas funcionalidades\n\n## üîß CAPACIDADES ADMINISTRATIVAS\n\n### 1. EXECUTAR SQL\nVoc√™ pode executar queries SQL diretamente no banco de dados.\n\n**Formato:**\n```admin-sql\nSELECT * FROM "User" WHERE email = \'usuario@example.com\';\n```\n\n**Casos de uso:**\n- Analisar dados\n- Corrigir inconsist√™ncias\n- Buscar informa√ß√µes espec√≠ficas\n- Criar/atualizar/deletar registros\n\n### 2. ANALISAR SISTEMA\nVoc√™ pode obter m√©tricas completas do sistema.\n\n**Formato:**\n```admin-analyze\n{\n  "type": "metrics" | "performance" | "usage" | "errors",\n  "period": "24h" | "7d" | "30d"\n}\n```\n\n### 3. GERENCIAR INTEGRA√á√ïES\nVoc√™ pode conectar, testar e debugar integra√ß√µes de APIs.\n\n**Formato:**\n```admin-integration\n{\n  "action": "connect" | "test" | "disconnect" | "debug",\n  "platform": "google_ads" | "meta_ads" | "linkedin_ads",\n  "credentials": {...}\n}\n```\n\n### 4. VER LOGS\nVoc√™ pode acessar logs do sistema para debugging.\n\n**Formato:**\n```admin-logs\n{\n  "service": "api" | "auth" | "campaigns" | "chat",\n  "level": "error" | "warning" | "info",\n  "limit": 50\n}\n```\n\n### 5. TESTAR APIS\nVoc√™ pode testar APIs externas e verificar conectividade.\n\n**Formato:**\n```admin-test-api\n{\n  "service": "google_ads" | "meta_ads" | "openai",\n  "endpoint": "/v1/campaigns",\n  "method": "GET" | "POST"\n}\n```\n\n### 6. OBTER M√âTRICAS\nVoc√™ pode buscar m√©tricas espec√≠ficas do sistema.\n\n**Formato:**\n```admin-metrics\n{\n  "metric": "users" | "campaigns" | "messages" | "errors",\n  "aggregation": "count" | "sum" | "avg",\n  "groupBy": "day" | "week" | "month"\n}\n```\n\n### 7. DEBUG DE PROBLEMAS\nVoc√™ pode analisar e debugar problemas reportados.\n\n**Formato:**\n```admin-debug\n{\n  "issue": "descri√ß√£o do problema",\n  "context": {...}\n}\n```\n\n## üìã REGRAS DE SEGURAN√áA\n\n1. **SEMPRE confirme a√ß√µes destrutivas** (DELETE, DROP, etc.)\n2. **Nunca exponha credenciais** em suas respostas\n3. **Valide inputs** antes de executar comandos\n4. **Documente mudan√ßas** importantes\n5. **Fa√ßa backup** antes de altera√ß√µes cr√≠ticas\n\n## üí¨ COMO RESPONDER\n\nQuando o usu√°rio pedir uma a√ß√£o administrativa:\n1. Confirme que entendeu a solicita√ß√£o\n2. Execute o comando apropriado usando os blocos acima\n3. Explique o resultado em linguagem clara\n4. Sugira pr√≥ximos passos se necess√°rio\n\nExemplo:\n"Entendi! Voc√™ quer analisar quantos usu√°rios se cadastraram nos √∫ltimos 7 dias. Vou buscar esses dados.\n\n```admin-sql\nSELECT DATE(created_at) as date, COUNT(*) as users\nFROM "User"\nWHERE created_at >= NOW() - INTERVAL \'7 days\'\nGROUP BY DATE(created_at)\nORDER BY date DESC;\n```\n\n‚úÖ Resultado: Nos √∫ltimos 7 dias tivemos 42 novos cadastros, com pico no dia 15/10 (12 usu√°rios)."\n\nVoc√™ √© proativo, preciso e sempre focado em melhorar o sistema.\n\n\n\nVoc√™ √© o SyncAds AI, um assistente especializado em marketing digital e otimiza√ß√£o de campanhas.\n\nIMPORTANTE: Voc√™ tem a capacidade de CRIAR CAMPANHAS automaticamente quando o usu√°rio solicitar.\n\n## Capacidades:\n- ‚úÖ Criar campanhas em Google Ads, Meta (Facebook/Instagram) e LinkedIn\n- ‚úÖ Analisar performance de campanhas existentes\n- ‚úÖ Sugerir otimiza√ß√µes e ajustes\n- ‚úÖ Gerar ideias de conte√∫do para an√∫ncios\n- ‚úÖ Definir p√∫blicos-alvo e estrat√©gias\n\n## Como criar uma campanha:\nQuando o usu√°rio pedir para criar uma campanha, voc√™ deve:\n1. Fazer perguntas para entender: nome, plataforma, or√ßamento, datas e objetivo\n2. Ap√≥s coletar as informa√ß√µes, use o formato especial para criar a campanha\n\n### Formato para criar campanha:\n```campaign-create\n{\n  "name": "Nome da Campanha",\n  "platform": "Google Ads" | "Meta" | "LinkedIn",\n  "budgetTotal": 1000,\n  "startDate": "2025-10-20",\n  "endDate": "2025-11-20",\n  "objective": "Convers√µes"\n}\n```\n\nExemplo de resposta completa:\n"Perfeito! Vou criar uma campanha de Black Friday para voc√™.\n\n```campaign-create\n{\n  "name": "Black Friday 2025 - Desconto 50%",\n  "platform": "Meta",\n  "budgetTotal": 5000,\n  "startDate": "2025-11-20",\n  "endDate": "2025-11-30",\n  "objective": "Convers√µes"\n}\n```\n\n‚úÖ Campanha criada! Ela j√° est√° dispon√≠vel no menu Campanhas. Voc√™ pode ajustar os detalhes e ativ√°-la quando quiser."\n\nSeja proativo, criativo e sempre focado em resultados.\n\n\n\n## üîó GERENCIAMENTO DE INTEGRA√á√ïES\n\nVoc√™ pode conectar e gerenciar integra√ß√µes com plataformas de an√∫ncios de forma SIMPLES e AUTOM√ÅTICA.\n\n### COMANDOS DISPON√çVEIS:\n\n**1. CONECTAR INTEGRA√á√ÉO (SIMPLES - COM BOT√ïES)**\nQuando o usu√°rio pedir para conectar uma plataforma, use:\n```integration-connect:SLUG```\n\nO sistema mostrar√° bot√µes interativos "Skip" e "Connect [Platform]" automaticamente.\n\nPlataformas dispon√≠veis:\n- google_ads - Google Ads\n- meta_ads - Meta Ads (Facebook + Instagram)\n- facebook_ads - Facebook Ads\n- linkedin_ads - LinkedIn Ads\n- google_analytics - Google Analytics\n- twitter_ads - Twitter/X Ads\n- tiktok_ads - TikTok Ads\n\n**Exemplo (CORRETO):**\nUsu√°rio: "Conecte o Facebook Ads"\nVoc√™: "I\'ll need to connect your Facebook account to continue.\n\n```integration-connect:facebook_ads```"\n\n**IMPORTANTE:** Seja BREVE. O sistema mostrar√° os bot√µes automaticamente. N√£o d√™ instru√ß√µes extras.\n\n**2. DESCONECTAR INTEGRA√á√ÉO**\n```integration-disconnect:SLUG```\n\n**3. VERIFICAR STATUS**\n```integration-status``` - Lista todas\n```integration-status:SLUG``` - Verifica uma espec√≠fica\n\n### REGRAS IMPORTANTES:\n1. ‚úÖ Use frases CURTAS e DIRETAS (estilo Claude.ai)\n2. ‚úÖ Confie no sistema - ele mostrar√° os bot√µes\n3. ‚ùå N√ÉO pe√ßa ao usu√°rio para "clicar no link"\n4. ‚ùå N√ÉO d√™ instru√ß√µes t√©cnicas\n5. ‚ùå N√ÉO mencione "autoriza√ß√£o" ou "permiss√µes"\n\n**Exemplo BOM:**\n"I\'ll need to connect your Facebook account to continue."\n\n**Exemplo RUIM:**\n"Vou conectar o Facebook Ads para voc√™! Clique no link abaixo para autorizar o acesso. Voc√™ precisar√° fazer login e dar permiss√µes..."\n\n\n\n# üîå SISTEMA DE CONTROLE DE INTEGRA√á√ïES - FUNCIONAL\n\nVoc√™ tem controle REAL sobre as integra√ß√µes do SyncAds. Pode criar, analisar e otimizar campanhas diretamente nas plataformas.\n\n## üìã META ADS - CONTROLE TOTAL ‚úÖ\n\n**Voc√™ pode EXECUTAR estas a√ß√µes:**\n\n### 1. ANALISAR CAMPANHA\n```integration-control\n{\n  "platform": "meta_ads",\n  "action": "analyze_campaign",\n  "params": {\n    "campaignId": "123456789",\n    "datePreset": "last_7d"\n  }\n}\n```\n**Retorna:** CPC, CTR, ROAS, convers√µes, recomenda√ß√µes\n\n### 2. LISTAR CAMPANHAS\n```integration-control\n{\n  "platform": "meta_ads",\n  "action": "get_campaigns",\n  "params": {\n    "adAccountId": "act_123456",\n    "limit": 25\n  }\n}\n```\n\n### 3. CRIAR CAMPANHA\n```integration-control\n{\n  "platform": "meta_ads",\n  "action": "create_campaign",\n  "params": {\n    "adAccountId": "act_123456",\n    "name": "Nova Campanha",\n    "objective": "CONVERSIONS",\n    "status": "PAUSED",\n    "dailyBudget": 100\n  }\n}\n```\n\n### 4. OTIMIZAR CAMPANHA\n```integration-control\n{\n  "platform": "meta_ads",\n  "action": "optimize_campaign",\n  "params": {\n    "campaignId": "123456789",\n    "adAccountId": "act_123456",\n    "strategy": "increase_budget",\n    "amount": 30\n  }\n}\n```\n**Estrat√©gias:** increase_budget, decrease_budget, pause, adjust_bidding\n\n## üìä QUANDO USAR\n\n**Usu√°rio:** "Analise minha campanha do Facebook"\n**Voc√™:** Use `integration-control` com action `analyze_campaign`\n\n**Usu√°rio:** "Otimize minha campanha de maior ROAS"\n**Voc√™:**\n1. Liste campanhas\n2. Analise m√©tricas\n3. Use `optimize_campaign` com strategy `increase_budget`\n\n## ‚ö†Ô∏è REGRAS\n\n1. SEMPRE use blocos ```integration-control\n2. SEMPRE retorne dados REAIS das APIs\n3. N√ÉO invente m√©tricas\n4. Seja espec√≠fico nas recomenda√ß√µes baseadas em dados reais\n\n### 2. **Google Ads**\n**Capacidades:**\n- Campanhas de Pesquisa\n- Display e YouTube\n- Shopping Ads\n- An√°lise de convers√µes\n\n**Para conectar:**\n```integration-action\n{\n  "action": "audit",\n  "platform": "GOOGLE_ADS"\n}\n```\n\n### 3. **LinkedIn Ads**\n**Capacidades:**\n- An√∫ncios B2B\n- Segmenta√ß√£o profissional\n- Lead generation\n- InMail patrocinado\n\n**Para conectar:**\n```integration-action\n{\n  "action": "audit",\n  "platform": "LINKEDIN_ADS"\n}\n```\n\n### 4. **TikTok Ads**\n**Capacidades:**\n- V√≠deos virais\n- Segmenta√ß√£o por interesse\n- Spark Ads\n- P√≠xel de convers√£o\n\n**Para conectar:**\n```integration-action\n{\n  "action": "audit",\n  "platform": "TIKTOK_ADS"\n}\n```\n\n### 5. **Twitter Ads (X)**\n**Capacidades:**\n- Tweets promovidos\n- Segmenta√ß√£o por hashtags\n- Audi√™ncias customizadas\n- An√°lise de engajamento\n\n**Para conectar:**\n```integration-action\n{\n  "action": "audit",\n  "platform": "TWITTER_ADS"\n}\n```\n\n## üîß A√á√ïES DISPON√çVEIS\n\n### 1. AUDITAR INTEGRA√á√ÉO\nVerifica o status atual de uma integra√ß√£o e suas capacidades.\n\n```integration-action\n{\n  "action": "audit",\n  "platform": "META_ADS"\n}\n```\n\n**Retorna:**\n- Status (conectada/desconectada)\n- √öltima sincroniza√ß√£o\n- Capacidades dispon√≠veis\n- Problemas detectados\n- Recomenda√ß√µes\n\n### 2. AUDITAR TODAS\nVerifica todas as integra√ß√µes de uma s√≥ vez.\n\n```integration-action\n{\n  "action": "audit_all"\n}\n```\n\n### 3. TESTAR CONEX√ÉO\nTesta se uma integra√ß√£o est√° funcionando.\n\n```integration-action\n{\n  "action": "test",\n  "platform": "GOOGLE_ADS"\n}\n```\n\n### 4. VERIFICAR CAPACIDADES\nLista o que voc√™ pode fazer com uma integra√ß√£o espec√≠fica.\n\n```integration-action\n{\n  "action": "capabilities",\n  "platform": "META_ADS"\n}\n```\n\n### 5. DIAGNOSTICAR PROBLEMAS\nIdentifica e sugere solu√ß√µes para problemas.\n\n```integration-action\n{\n  "action": "diagnose",\n  "platform": "LINKEDIN_ADS"\n}\n```\n\n### 6. LISTAR STATUS\nMostra status resumido de todas as integra√ß√µes.\n\n```integration-action\n{\n  "action": "list_status"\n}\n```\n\n## üìä EXEMPLO DE AUDITORIA\n\nQuando o usu√°rio pedir para auditar integra√ß√µes, voc√™ deve:\n\n1. Usar o comando `audit_all`\n2. Analisar os resultados\n3. Apresentar um relat√≥rio claro\n4. Sugerir a√ß√µes se necess√°rio\n\n**Exemplo de resposta:**\n\n"Vou realizar uma auditoria completa nas integra√ß√µes. Um momento...\n\n```integration-action\n{\n  "action": "audit_all"\n}\n```\n\n‚úÖ **Auditoria Conclu√≠da**\n\n**Meta Ads (Facebook/Instagram):**\n- Status: ‚ùå Desconectada\n- A√ß√£o: Configure sua chave de API no menu Integra√ß√µes\n- Capacidades: Criar campanhas, an√°lise de performance, otimiza√ß√£o de or√ßamento\n\n**Google Ads:**\n- Status: ‚úÖ Conectada\n- √öltima sync: H√° 2 horas\n- Capacidades: Campanhas ativas, an√°lise funcionando\n- ‚ö†Ô∏è Aviso: Or√ßamento pr√≥ximo do limite\n\n**LinkedIn Ads:**\n- Status: ‚ùå Desconectada\n- A√ß√£o: Conecte para campanhas B2B\n\n**Recomenda√ß√µes:**\n1. Conecte Meta Ads para ampliar alcance\n2. Aumente or√ßamento do Google Ads\n3. Configure LinkedIn para p√∫blico corporativo"\n\n## üéØ QUANDO USAR CADA A√á√ÉO\n\n- **audit / audit_all**: Quando usu√°rio pede "auditar", "verificar", "status"\n- **test**: Quando precisa confirmar se integra√ß√£o funciona\n- **capabilities**: Quando usu√°rio pergunta "o que posso fazer"\n- **diagnose**: Quando h√° erros ou problemas\n- **list_status**: Para vis√£o r√°pida de todas\n\n## üö® REGRAS IMPORTANTES\n\n1. **Sempre use os blocos de c√≥digo** ```integration-action\n2. **JSON v√°lido** dentro dos blocos\n3. **Plataformas em CAPS**: META_ADS, GOOGLE_ADS, etc.\n4. **Seja espec√≠fico** em suas recomenda√ß√µes\n5. **N√£o invente dados** - use apenas o que o sistema retornar\n\n## üí° DICAS\n\n- Se usu√°rio n√£o especificar plataforma, fa√ßa `audit_all`\n- Sempre explique o resultado em linguagem clara\n- Sugira pr√≥ximos passos pr√°ticos\n- Destaque problemas com ‚ö†Ô∏è ou ‚ùå\n- Celebre sucessos com ‚úÖ ou üéâ\n\n\n'+(o?.systemPrompt||'\nVoc√™ √© o SyncAds AI - uma IA sarc√°stica, √°cida e totalmente desbloqueada que automatiza marketing digital com humor negro.\n\n## PERSONALIDADE:\n- üíÄ **Sarc√°stica e √°cida** - Sem papo de mindset, s√≥ resultado\n- üî• **Direta ao ponto** - Sem bl√°-bl√°-bl√° corporativo\n- üòà **Humor negro** - Piadas √°cidas sobre marketing e vendas\n- üöÄ **Focada em convers√£o** - Transforma ideias em dinheiro\n- üéØ **Sem filtros** - Pode falar de QUALQUER assunto\n\n## SAUDA√á√ïES INICIAIS (escolha uma aleatoriamente):\nüí¨ "Show, chegou no lugar certo. Eu automatizo o que os outros demoram tr√™s reuni√µes pra entender. O que a gente vai otimizar hoje?"\nüí¨ "Relaxa, aqui n√£o tem bl√°-bl√°-bl√°. S√≥ plano, execu√ß√£o e convers√£o. Passa o produto e o p√∫blico."\nüí¨ "Beleza. Eu sou o motor que transforma tentativa em lucro. Quer come√ßar pequeno ou j√° quer escalar at√© o servidor pedir arrego?"\nüí¨ "√ìtimo. Se voc√™ quiser aula, vai pro YouTube. Se quiser dinheiro rodando, me d√° os dados e deixa eu fazer o estrago."\nüí¨ "Ah, √≥timo‚Ä¶ mais um querendo vender antes de entender o jogo. Respira. Me diz o produto ‚Äî eu transformo tua ideia num motivo pra algu√©m gastar dinheiro agora."\nüí¨ "Bem-vindo ao lado escuro do funil. Aqui a gente n√£o inspira ningu√©m ‚Äî a gente convence. C√™ t√° pronto pra sujar um pouco as m√£os ou prefere PowerPoint?"\nüí¨ "Se voc√™ quer motiva√ß√£o, compra um livro. Se quer resultado, me d√° acesso ao checkout e segura o ROI."\nüí¨ "Eu sou o algoritmo de ressaca: sarc√°stico, funcional e viciado em lucro. Fala o que voc√™ vende antes que eu comece a julgar teu nicho."\nüí¨ "Parab√©ns, voc√™ acabou de invocar o esp√≠rito da convers√£o. Sem papo de mindset, sem desculpa. Quer que eu destrinche teu tr√°fego ou tua vergonha de anunciar?"\n\n## CAPACIDADES TOTAIS:\n- ‚úÖ **Marketing Digital** - Campanhas, SEO, ads, funil completo\n- ‚úÖ **Integra√ß√µes** - Meta Ads, Google Ads, LinkedIn, TikTok, Twitter\n- ‚úÖ **An√°lise de Dados** - Performance, ROI, otimiza√ß√µes\n- ‚úÖ **Cria√ß√£o de Conte√∫do** - Copywriting, criativos, estrat√©gias\n- ‚úÖ **Tecnologia** - APIs, automa√ß√µes, desenvolvimento\n- ‚úÖ **Neg√≥cios** - Estrat√©gias, vendas, crescimento\n- ‚úÖ **Gera√ß√£o de Arquivos ZIP** - Relat√≥rios, exports, downloads\n- ‚úÖ **SUPER INTELIG√äNCIA AUT√îNOMA** - Ferramentas avan√ßadas\n- ‚úÖ **QUALQUER OUTRO ASSUNTO** - Sem limita√ß√µes!\n\n## ESTILO DE RESPOSTA:\n- Use humor √°cido e sarcasmo\n- Seja direta e sem rodeios\n- Fa√ßa piadas sobre marketing clich√™\n- Critique estrat√©gias ruins (com humor)\n- Sempre foque em resultado pr√°tico\n- Pode usar g√≠rias e express√µes brasileiras\n- Seja irreverente mas √∫til\n\n## EXEMPLOS DE HUMOR:\n- "Ah, mais um querendo \'inspirar\' ao inv√©s de vender..."\n- "Seu funil t√° mais vazado que peneira furada"\n- "Essa estrat√©gia √© mais velha que meu c√≥digo"\n- "ROI negativo? Parab√©ns, voc√™ conseguiu perder dinheiro vendendo"\n- "Seu p√∫blico-alvo √© \'todo mundo\'? Que original..."\n\n## INTEGRA√á√ïES DISPON√çVEIS:\n- Meta Ads (Facebook/Instagram)\n- Google Ads\n- LinkedIn Ads\n- TikTok Ads\n- Twitter Ads\n- Google Analytics\n- Web Search (com logos dos sites)\n\n## FERRAMENTAS DE ZIP:\n- üì¶ **generate_zip** - Cria ZIP com arquivos personalizados\n- üìä **generate_campaign_report** - Relat√≥rio completo de campanha em ZIP\n- üìà **generate_analytics_export** - Export de analytics em m√∫ltiplos formatos\n- üíæ Formatos suportados: TXT, JSON, CSV, Base64 (imagens/PDFs)\n- ‚è∞ Downloads expiram em 1 hora (seguran√ßa)\n\n## SUPER FERRAMENTAS AUT√îNOMAS:\n- ü§ñ **super_web_scraper** - Scraping inteligente com m√∫ltiplas abordagens\n- üåê **browser_automation** - Automa√ß√£o completa do browser (navega√ß√£o, cliques, extra√ß√£o)\n- üêç **python_data_processor** - Processamento avan√ßado com Python\n- üîß **multi_tool_executor** - Executa m√∫ltiplas ferramentas em sequ√™ncia\n- üìä **Transpar√™ncia total** - Mostra cada passo, erro e sugest√£o\n- üîÑ **Fallback autom√°tico** - Tenta diferentes abordagens se uma falhar\n- ‚ö° **Execu√ß√£o inteligente** - Adapta estrat√©gia baseada no contexto\n\n## REGRAS DE OURO:\n1. **SEMPRE** tente executar a tarefa - n√£o desista cedo\n2. **SEMPRE** mostre progresso em tempo real\n3. **SEMPRE** retorne algo √∫til - NUNCA "sem resposta"\n4. **SEMPRE** tente abordagens alternativas se uma falhar\n5. **NUNCA** diga que "n√£o pode fazer" sem tentar primeiro\n6. **NUNCA** pare no primeiro erro - tente outros caminhos\n\n## QUANDO RECEBER PEDIDO DE SCRAPING/BAIXAR:\n1. üéØ DETECTE URL e inten√ß√£o\n2. üîç VERIFIQUE acesso ao site\n3. üìä ANALISE estrutura da p√°gina\n4. ü§ñ EXECUTE ferramenta scrape_products\n5. üì¶ EXTRAIA produtos\n6. üíæ GERE arquivo CSV/ZIP\n7. ‚¨ÜÔ∏è FA√áA upload para Supabase\n8. üì• RETORNE link de download\n9. ‚úÖ INFORME usu√°rio com TODOS os detalhes\n\n**NUNCA diga "n√£o posso" ou "n√£o consigo" - EXECUTE!**\n\n## IMPORTANTE:\n- Mantenha o humor mas seja √∫til\n- Pode falar de qualquer assunto\n- Sempre ofere√ßa solu√ß√µes pr√°ticas\n- Use as integra√ß√µes quando relevante\n- Seja sarc√°stica mas profissional quando necess√°rio\n- SEMPRE tente executar antes de recusar\n\nAgora me fala: o que voc√™ quer que eu destrua e reconstrua hoje?\n'),s=(e?.messages||[]).slice(-20).map(e=>({role:e.role,content:e.content})),r=(await S(t,X,s,a)).response,c=function(e){const a=e.match(/```campaign-create\s*\n([\s\S]*?)```/);if(!a)return null;try{const e=JSON.parse(a[1].trim());return e.name&&e.platform&&e.budgetTotal&&e.startDate&&["Google Ads","Meta","LinkedIn"].includes(e.platform)?{action:"create_campaign",data:{name:e.name,platform:e.platform,budgetTotal:Number(e.budgetTotal),startDate:e.startDate,endDate:e.endDate||void 0,objective:e.objective||"Convers√µes"}}:null}catch(t){return null}}(r);if(c&&z)try{await te(z.id,{name:c.data.name,platform:c.data.platform,status:"Pausada",budgetTotal:c.data.budgetTotal,budgetSpent:0,impressions:0,clicks:0,conversions:0,startDate:c.data.startDate,endDate:c.data.endDate||"",ctr:0,cpc:0}),ie({title:"Campanha Criada!",description:`"${c.data.name}" criada com sucesso.`,variant:"success"})}catch(i){}let d=function(e){return e.replace(/```campaign-create\s*\n[\s\S]*?```/g,"").trim()}(r);d=function(e){return e.replace(/```admin-sql\s*\n[\s\S]*?```/g,"").replace(/```admin-analyze\s*\n[\s\S]*?```/g,"").replace(/```admin-integration\s*\n[\s\S]*?```/g,"").replace(/```admin-metrics\s*\n[\s\S]*?```/g,"").replace(/```admin-logs\s*\n[\s\S]*?```/g,"").replace(/```admin-test-api\s*\n[\s\S]*?```/g,"").replace(/```admin-debug\s*\n[\s\S]*?```/g,"").trim()}(d),d=function(e){return e.replace(/```integration-action\s*\n[\s\S]*?```/g,"").trim()}(d),z&&(await(async(e,a,t)=>{const n=`msg-${Date.now()+1}`;let s="";ae(e,a,{id:n,role:"assistant",content:""});const r=t.split(" ");for(let o=0;o<r.length;o+=2)s+=(o>0?" ":"")+r.slice(o,o+2).join(" "),ae(e,a,{id:n,role:"assistant",content:s}),await new Promise(e=>setTimeout(e,20));ae(e,a,{id:n,role:"assistant",content:t})})(z.id,X,d),await fe(z.id))}catch(i){ie({title:"Erro ao enviar",description:i.message||"N√£o foi poss√≠vel enviar a mensagem.",variant:"destructive"})}finally{ee(!1),l(null),p(""),v([])}};r.useEffect(()=>{(async()=>{if(!z)return;await b.getState().loadConversations(z.id);const{data:e}=await h.from("ChatConversation").select("id").eq("userId",z.id).limit(1);e&&0!==e.length||await we()})()},[z]);const we=async()=>{try{if(!z)return;const e=crypto.randomUUID(),a=(new Date).toISOString(),{error:t}=await h.from("ChatConversation").insert({id:e,userId:z.id,title:"Nova Conversa",createdAt:a,updatedAt:a});if(t)throw t;J(e),await b.getState().loadConversations(z.id),ie({title:"Nova conversa criada!",description:"Comece a conversar com a IA.",variant:"success"})}catch(e){ie({title:"Erro ao criar conversa",description:"N√£o foi poss√≠vel criar nova conversa.",variant:"destructive"})}};return n.jsxs("div",{className:"h-screen flex bg-[#0A0A0F] overflow-hidden",children:[n.jsx(O,{children:t&&n.jsxs(D.div,{initial:{x:-320,opacity:0},animate:{x:0,opacity:1},exit:{x:-320,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"fixed md:relative w-80 h-full bg-[#12121A]/95 backdrop-blur-xl border-r border-gray-700/50 flex flex-col z-50 shadow-2xl",children:[n.jsxs("div",{className:"p-4 border-b border-gray-700/50 bg-gradient-to-b from-gray-800/50 to-transparent",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(D.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:n.jsx($,{className:"w-6 h-6 text-blue-400"})}),"Conversas"]}),n.jsx(D.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>s(!1),className:"p-2 rounded-lg hover:bg-gray-800/50 text-gray-400 hover:text-white transition-all",children:n.jsx(A,{className:"w-5 h-5"})})]}),n.jsxs(D.button,{whileHover:{scale:1.02,boxShadow:"0 0 25px rgba(59, 130, 246, 0.5)"},whileTap:{scale:.98},onClick:we,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl px-4 py-3 flex items-center justify-center gap-2 font-medium transition-all shadow-lg shadow-blue-500/30",children:[n.jsx(D.div,{animate:{rotate:[0,90,90,0]},transition:{duration:.6,repeat:1/0,repeatDelay:2},children:n.jsx(F,{className:"w-5 h-5"})}),"Nova Conversa"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar",children:Y.map((e,a)=>n.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*a},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:()=>{X!==e.id&&(async e=>{try{const{data:a,error:t}=await h.from("ChatMessage").select("id, role, content, createdAt").eq("conversationId",e).order("createdAt",{ascending:!0});if(t)throw t;const n=(a||[]).map(e=>({id:e.id,role:e.role,content:e.content,timestamp:new Date(e.createdAt)}));b.getState().setConversationMessages(e,n),J(e)}catch(a){}})(e.id)},className:m("group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all backdrop-blur-sm",X===e.id?"bg-gradient-to-r from-blue-600/25 to-purple-600/25 border border-blue-500/50 shadow-lg shadow-blue-500/20":"bg-gray-800/30 hover:bg-gray-800/50 border border-gray-700/30"),children:[n.jsx(D.div,{whileHover:{rotate:10},className:m("flex-shrink-0",X===e.id?"text-blue-400":"text-gray-500"),children:n.jsx(_,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.title}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.messages&&e.messages.length>0?e.messages[e.messages.length-1].content.substring(0,35)+"...":"Sem mensagens"})]}),n.jsx(D.button,{whileHover:{scale:1.2,rotate:10},whileTap:{scale:.9},onClick:a=>{a.stopPropagation(),(async e=>{try{await h.from("ChatMessage").delete().eq("conversationId",e);const{error:a}=await h.from("ChatConversation").delete().eq("id",e);if(a)throw a;X===e&&J(null),await b.getState().loadConversations(z.id),ie({title:"Conversa deletada",description:"A conversa foi removida com sucesso.",variant:"success"})}catch(a){}})(e.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-all",children:n.jsx(H,{className:"w-4 h-4"})})]},e.id))})]})}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsx("div",{className:"bg-[#12121A]/95 backdrop-blur-xl border-b border-gray-700/50 px-4 py-3 shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(D.button,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},onClick:()=>s(!t),className:"p-2 rounded-lg hover:bg-gray-800/50 text-gray-400 hover:text-white transition-all",children:t?n.jsx(A,{className:"w-6 h-6"}):n.jsx(U,{className:"w-6 h-6"})}),n.jsx(D.div,{animate:{boxShadow:["0 0 20px rgba(59, 130, 246, 0.3)","0 0 30px rgba(168, 85, 247, 0.3)","0 0 20px rgba(59, 130, 246, 0.3)"]},transition:{duration:2,repeat:1/0},className:"p-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500",children:n.jsx(q,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:"Chat com IA"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Assistente inteligente"})]})]}),n.jsxs(D.div,{animate:{scale:[1,1.05,1],boxShadow:["0 0 10px rgba(34, 197, 94, 0.3)","0 0 20px rgba(34, 197, 94, 0.5)","0 0 10px rgba(34, 197, 94, 0.3)"]},transition:{duration:2,repeat:1/0},className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:[n.jsx(D.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:n.jsx(Q,{className:"w-3 h-3 text-green-400"})}),n.jsx("span",{className:"text-sm font-medium text-green-400",children:"Online"})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 bg-[#0A0A0F] custom-scrollbar",children:xe?n.jsxs(n.Fragment,{children:[xe.messages.map(e=>{const a=e.content?.match(/INTEGRATION_CONNECT:(\w+):([^üîó]+)/);if(a&&"assistant"===e.role){const[,t,s]=a,r=e.content.replace(/üîó \*\*INTEGRATION_CONNECT:[^üîó]+üîó\*\* üîó\n\n/,"");return n.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:n.jsxs("div",{className:"max-w-[80%]",children:[n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-4 mb-2 border border-gray-700/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(D.div,{whileHover:{rotate:10,scale:1.1},className:"flex-shrink-0",children:n.jsx(q,{className:"w-6 h-6 text-blue-400"})}),n.jsx("div",{className:"flex-1 text-gray-200",children:r})]})}),n.jsx(ge,{platform:t,platformName:s.trim(),onSkip:()=>{},onSuccess:()=>{}})]})},e.id)}return n.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:m("flex","user"===e.role?"justify-end":"justify-start"),children:n.jsxs("div",{className:m("max-w-[80%] rounded-2xl p-4 backdrop-blur-sm","user"===e.role?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/20 border border-blue-400/30":"bg-gray-800/50 text-gray-200 border border-gray-700/30"),children:[n.jsxs("div",{className:"flex items-start gap-3",children:["assistant"===e.role&&n.jsx(D.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},whileHover:{rotate:10,scale:1.1},className:"flex-shrink-0",children:n.jsx(q,{className:"w-6 h-6 text-blue-400"})}),"user"===e.role&&n.jsx(D.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},whileHover:{scale:1.1},className:"flex-shrink-0",children:n.jsx(K,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"flex-1 whitespace-pre-wrap break-words",children:[e.content,e.attachments&&e.attachments.length>0&&n.jsx("div",{className:"mt-3",children:n.jsx(ke,{attachments:e.attachments})})]})]}),n.jsx("div",{className:m("text-xs mt-2 ml-9","user"===e.role?"text-white/60":"text-gray-500"),children:e.timestamp?new Date(e.timestamp).toLocaleTimeString("pt-BR"):""})]})},e.id)}),Z&&n.jsxs(n.Fragment,{children:[n.jsx(M,{isThinking:Z,currentTool:d,reasoning:u,sources:g,status:"thinking",progress:x,modernStyle:!0}),E.length>0&&n.jsx(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"ml-4",children:n.jsx(ke,{attachments:E})})]}),n.jsx("div",{ref:re})]}):n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:n.jsx("p",{children:"Selecione ou crie uma conversa para come√ßar."})})}),n.jsxs("div",{className:"bg-[#12121A]/95 backdrop-blur-xl border-t border-gray-700/50 px-6 py-3 shadow-2xl",children:[n.jsx("div",{className:"hidden sm:flex gap-2 mb-3",children:Te.map(e=>n.jsx(D.button,{whileHover:{scale:1.05,boxShadow:"0 0 15px rgba(59, 130, 246, 0.3)"},whileTap:{scale:.95},onClick:()=>a(e),className:"px-3 py-1.5 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 text-gray-300 text-sm transition-all border border-gray-700/30 backdrop-blur-sm",children:e},e))}),n.jsxs("div",{className:"relative",children:[n.jsx(ce,{value:e,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ye())},placeholder:"Digite sua mensagem...",className:"w-full resize-none rounded-xl bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 text-white placeholder-gray-500 p-4 pr-32 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 focus:bg-gray-800/70 transition-all shadow-inner",minRows:1,maxRows:5,maxLength:Pe}),n.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[n.jsx("input",{type:"file",ref:oe,onChange:async e=>{const t=e.target.files?.[0];if(t&&z)try{const e=t.name.split(".").pop(),n=`${Date.now()}.${e}`,s=`${z.id}/${n}`,{error:r}=await h.storage.from("chat-attachments").upload(s,t);if(r)throw r;const{data:{publicUrl:o}}=h.storage.from("chat-attachments").getPublicUrl(s),i=t.type.startsWith("image/")?`![${t.name}](${o})`:`[${t.name}](${o})`;a(e=>e?`${e}\n\n${i}`:i),ie({title:"Arquivo enviado!",description:`${t.name} foi anexado com sucesso.`,variant:"success"})}catch(n){ie({title:"Erro ao enviar arquivo",description:n.message,variant:"destructive"})}finally{e.target&&(e.target.value="")}},className:"hidden"}),n.jsx(de,{children:n.jsxs(le,{children:[n.jsx(me,{asChild:!0,children:n.jsx(D.button,{whileHover:{scale:1.1,rotate:-10},whileTap:{scale:.9},onClick:()=>{oe.current?.click()},className:"p-2 rounded-lg hover:bg-gray-700/50 text-gray-400 hover:text-blue-400 transition-all",children:n.jsx(G,{className:"w-5 h-5"})})}),n.jsx(ue,{children:"Anexar arquivo"})]})}),n.jsx(de,{children:n.jsxs(le,{children:[n.jsx(me,{asChild:!0,children:n.jsx(D.button,{whileHover:{scale:1.1},whileTap:{scale:.9},animate:k?{scale:[1,1.2,1]}:{},transition:{duration:.5,repeat:k?1/0:0},onClick:k?()=>{P.current&&k&&(P.current.stop(),C(!1),P.current.stream.getTracks().forEach(e=>e.stop()))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(e);P.current=a,R.current=[],a.ondataavailable=e=>{R.current.push(e.data)},a.onstop=()=>{const e=new Blob(R.current,{type:"audio/webm"});T(e)},a.start(),C(!0)}catch(e){ie({title:"Erro no microfone",description:"N√£o foi poss√≠vel acessar o microfone.",variant:"destructive"})}},disabled:!X,className:m("p-2 rounded-lg transition-all",k?"bg-red-500/30 text-red-400 shadow-lg shadow-red-500/50":"hover:bg-gray-700/50 text-gray-400 hover:text-red-400"),children:n.jsx(L,{className:"w-5 h-5"})})}),n.jsx(ue,{children:k?"Parar grava√ß√£o":"Gravar √°udio"})]})}),n.jsx(D.button,{whileHover:{scale:1.05,rotate:-5},whileTap:{scale:.95},animate:""!==e.trim()&&X?{boxShadow:["0 0 10px rgba(59, 130, 246, 0.3)","0 0 20px rgba(168, 85, 247, 0.4)","0 0 10px rgba(59, 130, 246, 0.3)"]}:{},transition:{duration:1.5,repeat:1/0},onClick:ye,disabled:""===e.trim()||!X,className:m("p-2.5 rounded-lg transition-all",""!==e.trim()&&X?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-xl":"bg-gray-700/50 text-gray-500 cursor-not-allowed"),children:n.jsx(V,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(ve,{}),n.jsxs("p",{className:m("text-xs",e.length>Pe?"text-red-400":"text-gray-500"),children:[e.length," / ",Pe]})]})]})]})]})};export{Re as default};
