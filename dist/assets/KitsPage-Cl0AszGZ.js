import{c as H,r as s,d as F,a as q,j as e,N as c,B as d,I as v,C as N,e as k,f as w,h as C,S as O,n as R}from"./index-gnZ44lEE.js";import{T as M,a as V,b as Z,c as m,d as $,e as g}from"./table-XLyd6232.js";import{D as G,a as J,b as Q,c as U,d as W,f as X}from"./dialog-BIAgWYhg.js";import{L as u}from"./label-COwyjkf7.js";import{T as Y}from"./textarea-XKwLKMSF.js";import{p as h}from"./productsApi-DOCEar7k.js";import{S as D}from"./skeleton-IQ-KHy4B.js";import{P as S}from"./plus-B4zOXpok.js";import{S as _}from"./square-pen-CGcXKn1B.js";import{T as ee}from"./trash-2-jhcaW3BT.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=H("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]),he=()=>{const[y,K]=s.useState([]),[ae,A]=s.useState([]),[P,I]=s.useState(!0),[f,z]=s.useState(""),[E,n]=s.useState(!1),[x,p]=s.useState(null),{toast:o}=F(),r=q(a=>a.user),[t,l]=s.useState({name:"",description:"",price:0,isActive:!0});s.useEffect(()=>{j()},[]);const j=async()=>{try{if(!(r!=null&&r.organizationId))return;const[a,i]=await Promise.all([h.kits.list(r.organizationId),h.list()]);K(a),A(i)}catch(a){o({title:"Erro ao carregar",description:a.message,variant:"destructive"})}finally{I(!1)}},L=async a=>{a.preventDefault();try{if(!(r!=null&&r.organizationId))return;x?(await h.kits.update(x.id,t),o({title:"Kit atualizado!"})):(await h.kits.create({...t,organizationId:r.organizationId}),o({title:"Kit criado!"})),n(!1),p(null),j()}catch(i){o({title:"Erro",description:i.message,variant:"destructive"})}},B=async a=>{if(confirm("Deletar kit?"))try{await h.kits.delete(a),o({title:"Kit deletado"}),j()}catch(i){o({title:"Erro",description:i.message,variant:"destructive"})}},b=y.filter(a=>a.name.toLowerCase().includes(f.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-teal-600 via-emerald-600 to-lime-600 bg-clip-text text-transparent",children:"Kits de Produtos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Crie kits com múltiplos produtos"})]}),e.jsxs(G,{open:E,onOpenChange:n,children:[e.jsx(J,{asChild:!0,children:e.jsxs(d,{onClick:()=>{p(null),l({name:"",description:"",price:0,isActive:!0})},className:"bg-gradient-to-r from-teal-500 to-emerald-500 text-white border-0 hover:from-teal-600 hover:to-emerald-600 transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Criar Kit"]})}),e.jsxs(Q,{children:[e.jsx(U,{children:e.jsx(W,{children:x?"Editar Kit":"Novo Kit"})}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Nome do Kit"}),e.jsx(v,{value:t.name,onChange:a=>l({...t,name:a.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Descrição"}),e.jsx(Y,{value:t.description,onChange:a=>l({...t,description:a.target.value})})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Preço"}),e.jsx(v,{type:"number",step:"0.01",value:t.price,onChange:a=>l({...t,price:parseFloat(a.target.value)}),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.isActive,onChange:a=>l({...t,isActive:a.target.checked})}),e.jsx(u,{children:"Ativo"})]})]}),e.jsxs(X,{className:"mt-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(d,{type:"submit",children:x?"Atualizar":"Criar"})]})]})]})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs(N,{className:"relative overflow-hidden border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500 opacity-10 rounded-full blur-3xl"}),e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Kits"}),e.jsx("div",{className:"p-2 rounded-lg bg-teal-500 bg-opacity-10",children:e.jsx(T,{className:"h-4 w-4 text-teal-500"})})]}),e.jsxs(C,{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-teal-600 to-emerald-500 bg-clip-text text-transparent",children:y.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Kits cadastrados"})]})]})}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(v,{placeholder:"Buscar kits...",value:f,onChange:a=>z(a.target.value),className:"pl-9 border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm dark:text-white dark:placeholder:text-gray-500"})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsxs(N,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsx(k,{children:e.jsx(w,{className:"text-xl font-bold bg-gradient-to-r from-teal-600 to-emerald-600 bg-clip-text text-transparent",children:"Lista de Kits"})}),e.jsx(C,{children:P?e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"h-12 w-full"}),e.jsx(D,{className:"h-12 w-full"})]}):b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(T,{className:"h-12 w-12 text-muted-foreground mb-4 mx-auto"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Nenhum kit encontrado"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Comece criando o primeiro kit"}),e.jsxs(d,{onClick:()=>n(!0),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Criar Primeiro Kit"]})]}):e.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(Z,{className:"bg-gradient-to-r from-teal-50 to-emerald-50 dark:from-gray-800 dark:to-gray-800 hover:from-teal-100 hover:to-emerald-100 dark:hover:from-gray-700 dark:hover:to-gray-700",children:[e.jsx(m,{className:"font-semibold dark:text-gray-300",children:"Nome"}),e.jsx(m,{className:"font-semibold dark:text-gray-300",children:"Descrição"}),e.jsx(m,{className:"font-semibold dark:text-gray-300",children:"Preço"}),e.jsx(m,{className:"font-semibold dark:text-gray-300",children:"Status"}),e.jsx(m,{className:"text-right font-semibold dark:text-gray-300",children:"Ações"})]})}),e.jsx($,{children:b.map((a,i)=>e.jsxs(c.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:i*.05},className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gradient-to-r hover:from-teal-50/50 hover:to-emerald-50/50 dark:hover:from-gray-800/50 dark:hover:to-gray-800/50 transition-all duration-200",children:[e.jsx(g,{className:"font-medium",children:a.name}),e.jsxs(g,{children:["R$ ",a.price.toFixed(2)]}),e.jsx(g,{children:e.jsx(R,{variant:a.isActive?"default":"secondary",className:a.isActive?"bg-gradient-to-r from-emerald-100 to-lime-100 dark:from-emerald-900/30 dark:to-lime-900/30 text-emerald-700 dark:text-emerald-300 border-emerald-300 dark:border-emerald-700":"",children:a.isActive?"Ativo":"Inativo"})}),e.jsx(g,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>{p(a),l({name:a.name,description:a.description,price:a.price,isActive:a.isActive}),n(!0)},className:"hover:bg-gradient-to-r hover:from-teal-50 hover:to-emerald-50 dark:hover:from-gray-800 dark:hover:to-gray-800",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>B(a.id),className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400",children:e.jsx(ee,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})})]})};export{he as default};
