import{m as s,u as I,a as M,r as m,s as o,j as e,M as i,K as S,G as n,aK as _,aL as q}from"./index-Dp8T7_yL.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],A=s("outline","chevron-right","ChevronRight",z);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M7 15l.01 0",key:"svg-2"}],["path",{d:"M11 15l2 0",key:"svg-3"}]],O=s("outline","credit-card","CreditCard",E);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]],$=s("outline","currency-dollar","CurrencyDollar",P);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]],H=s("outline","loader-2","Loader2",G);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]],R=s("outline","sparkles","Sparkles",L);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5",key:"svg-2"}]],W=s("outline","truck","Truck",T);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M19.5 7a9 9 0 0 0 -7.5 -4a8.991 8.991 0 0 0 -7.484 4",key:"svg-0"}],["path",{d:"M11.5 3a16.989 16.989 0 0 0 -1.826 4",key:"svg-1"}],["path",{d:"M12.5 3a16.989 16.989 0 0 1 1.828 4",key:"svg-2"}],["path",{d:"M19.5 17a9 9 0 0 1 -7.5 4a8.991 8.991 0 0 1 -7.484 -4",key:"svg-3"}],["path",{d:"M11.5 21a16.989 16.989 0 0 1 -1.826 -4",key:"svg-4"}],["path",{d:"M12.5 21a16.989 16.989 0 0 0 1.828 -4",key:"svg-5"}],["path",{d:"M2 10l1 4l1.5 -4l1.5 4l1 -4",key:"svg-6"}],["path",{d:"M17 10l1 4l1.5 -4l1.5 4l1 -4",key:"svg-7"}],["path",{d:"M9.5 10l1 4l1.5 -4l1.5 4l1 -4",key:"svg-8"}]],V=s("outline","world-www","WorldWww",F);function U(){var p;const t=I(a=>a.user),l=M(),[c,g]=m.useState([]),[x,v]=m.useState(!0);m.useEffect(()=>{t!=null&&t.id&&y()},[t==null?void 0:t.id]);const y=async()=>{if(t!=null&&t.id)try{const[a,r,d,C]=await Promise.all([f(),b(),j(),N()]);g([{id:"billing",title:"Faturamento",description:"Configure seu plano e método de pagamento",icon:O,completed:a,route:"/billing"},{id:"domain",title:"Domínio",description:"Verifique seu domínio. Deve ser o mesmo utilizado na shopify, woocommerce ou na sua landing page.",icon:V,completed:r,route:"/checkout/domain"},{id:"gateway",title:"Gateway",description:"Configure os meios de pagamentos que serão exibidos em sua loja.",icon:$,completed:d,route:"/checkout/gateways"},{id:"shipping",title:"Frete",description:"Crie métodos de entrega para ser exibido no seu checkout.",icon:W,completed:C,route:"/checkout/shipping"}])}catch(a){console.error("Erro ao carregar status de onboarding:",a)}finally{v(!1)}},f=async()=>{if(!(t!=null&&t.id))return!1;try{const{data:a}=await o.from("User").select("currentPlanId").eq("id",t.id).single();if(a!=null&&a.currentPlanId)return!0;const{data:r}=await o.from("Subscription").select("id, status").eq("userId",t.id).eq("status","active").single();return!!r}catch(a){return console.error("Erro ao verificar billing:",a),!1}},b=async()=>{if(!(t!=null&&t.id))return!1;try{const{data:a}=await o.from("User").select("domain, domainVerified").eq("id",t.id).single();return!!(a!=null&&a.domain&&(a!=null&&a.domainVerified))}catch(a){return console.error("Erro ao verificar domínio:",a),!1}},j=async()=>{if(!(t!=null&&t.id))return!1;try{const{data:a}=await o.from("GatewayConfig").select("id, isActive").eq("userId",t.id).eq("isActive",!0).limit(1);return((a==null?void 0:a.length)||0)>0}catch(a){return console.error("Erro ao verificar gateway:",a),!1}},N=async()=>{if(!(t!=null&&t.id))return!1;try{const{data:a}=await o.from("ShippingMethod").select("id").eq("userId",t.id).limit(1);return((a==null?void 0:a.length)||0)>0}catch(a){return console.error("Erro ao verificar frete:",a),!1}};if(x)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#0A0A0F]",children:e.jsx(i.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(H,{className:"h-8 w-8 text-blue-500"})})});const w=(t==null?void 0:t.name)||((p=t==null?void 0:t.email)==null?void 0:p.split("@")[0])||"usuário",h=c.filter(a=>a.completed).length,u=c.length,k=h/u*100;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600/10 via-purple-600/10 to-pink-600/10 border border-blue-500/20 backdrop-blur-xl p-6",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-blue-500/5 rounded-full blur-3xl -mr-24 -mt-24"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-purple-500/5 rounded-full blur-3xl -ml-24 -mb-24"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center gap-2 mb-3",children:[e.jsx(R,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium text-yellow-400",children:"Bem-vindo ao SyncAds"})]}),e.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Olá ",w,","]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Seja bem vindo à sua jornada"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-300",children:"Progresso do Onboarding"}),e.jsxs("span",{className:"text-white font-semibold",children:[h," de ",u," concluídos"]})]}),e.jsx("div",{className:"h-2 bg-gray-800/30 rounded-full overflow-hidden backdrop-blur-sm",children:e.jsx(i.div,{initial:{width:0},animate:{width:`${k}%`},transition:{duration:1,delay:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full"})})]})]})]})}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Para ativar seu checkout você precisa concluir todos passos abaixo:"})}),e.jsx("div",{className:"space-y-3",children:e.jsx(S,{children:c.map((a,r)=>{const d=a.icon;return e.jsxs(i.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3+r*.1,type:"spring",stiffness:100},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:()=>l(a.route),className:n("group relative overflow-hidden rounded-xl backdrop-blur-xl p-4 cursor-pointer transition-all",a.completed?"bg-green-500/5 border border-green-500/30 hover:border-green-500/50 shadow-lg shadow-green-500/10":"bg-gray-800/20 border border-gray-700/30 hover:border-gray-600/50"),children:[e.jsx("div",{className:n("absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",a.completed?"bg-gradient-to-r from-green-500/5 to-emerald-500/5":"bg-gradient-to-r from-blue-500/5 to-purple-500/5")}),e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx(i.div,{whileHover:{rotate:10,scale:1.05},className:n("flex-shrink-0 p-2.5 rounded-lg",a.completed?"bg-green-500/20 border border-green-500/30":"bg-gray-700/30 border border-gray-600/20"),children:e.jsx(d,{className:n("w-7 h-7",a.completed?"text-green-400":"text-gray-400")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("h3",{className:"font-semibold text-white",children:a.title})}),e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:a.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a.completed?e.jsx(i.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,delay:.5+r*.1},className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(i.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-md"}),e.jsx(_,{className:"w-6 h-6 text-green-400 relative z-10"})]})}):e.jsx(i.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(i.div,{animate:{scale:[1,1.3,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-red-500/30 rounded-full blur-md"}),e.jsx(q,{className:"w-6 h-6 text-red-400 relative z-10"})]})}),e.jsx(i.div,{whileHover:{x:5},className:"flex-shrink-0",children:e.jsx(A,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"})})]})]})]},a.id)})})}),e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Caso tenha alguma dúvida,"," ",e.jsx("button",{onClick:()=>l("/chat"),className:"text-blue-400 hover:text-blue-300 underline transition-colors",children:"visite nossa central de ajuda"}),"."]})}),e.jsx(i.div,{initial:{scale:0,y:100},animate:{scale:1,y:0},transition:{type:"spring",stiffness:200,damping:20,delay:1.2},className:"fixed bottom-4 right-4 z-50",children:e.jsx(i.button,{whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(236, 72, 153, 0.5)"},whileTap:{scale:.95},onClick:()=>l("/chat"),className:"rounded-full bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white px-5 py-2.5 shadow-2xl shadow-pink-500/50 transition-all font-medium text-sm",children:"Precisa de ajuda?"})})]})})}export{U as default};
