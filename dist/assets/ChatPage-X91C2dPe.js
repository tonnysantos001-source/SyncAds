import{j as e}from"./vendor-ui-DAyDU-p2.js";import{r as t,c as n,g as r,R as a,v as s,e as i}from"./vendor-react-BDwqAlkB.js";import{i as o,C as l,B as c,h as u,A as d,j as h,g as p,k as m,f,l as g,s as x}from"./index-BR6yqA-2.js";import{I as v,a as b,i as y,b as w,c as k,d as j}from"./chatService-CseYVoH6.js";import{I as N}from"./types-BvyIDsDA.js";import{X as C,a2 as S,a3 as E,q as P,a4 as M,h as T,j as I,a5 as D,a6 as A,a0 as R,U as z,a7 as O,a8 as _,a1 as L,M as $}from"./vendor-icons-CzCc3fGi.js";import{m as F,A as B}from"./vendor-animation-x8f1c1kX.js";import{I as U,a as H,b as q,c as V,d as W}from"./IconSparkles-DSXfJP5I.js";import{Z as G}from"./index-t1OTmk4m.js";import"./vendor-supabase-rKXMzPQL.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-D3VdSFIC.js";import"./vendor-charts-DgCBwi6-.js";const Y=o("outline","bolt","Bolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]),K=o("outline","brush","Brush",[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]]),X=o("outline","clock","Clock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]),J=o("outline","code","Code",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]),Z=o("outline","copy","Copy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]),Q=o("outline","currency-dollar","CurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]),ee=o("outline","device-desktop","DeviceDesktop",[["path",{d:"M3 5a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10z",key:"svg-0"}],["path",{d:"M7 20h10",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M15 16v4",key:"svg-3"}]]),te=o("outline","device-mobile","DeviceMobile",[["path",{d:"M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M11 4h2",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}]]),ne=o("outline","device-tablet","DeviceTablet",[["path",{d:"M5 4a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1v-16z",key:"svg-0"}],["path",{d:"M11 17a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}]]),re=o("outline","dots-vertical","DotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),ae=o("outline","download","Download",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),se=o("outline","edit","Edit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),ie=o("outline","eye","Eye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),oe=o("outline","file-upload","FileUpload",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]]),le=o("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),ce=o("outline","grid-dots","GridDots",[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]]),ue=o("outline","heart","Heart",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}]]),de=o("outline","history","History",[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]]),he=o("outline","home","Home",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),pe=o("outline","layout-navbar","LayoutNavbar",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 9l16 0",key:"svg-1"}]]),me=o("outline","mail","Mail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),fe=o("outline","maximize","Maximize",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]),ge=o("outline","message-circle","MessageCircle",[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]]),xe=o("outline","microphone","Microphone",[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]]),ve=o("outline","minimize","Minimize",[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]),be=o("outline","music","Music",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]),ye=o("outline","palette","Palette",[["path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25",key:"svg-0"}],["path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}]]),we=o("outline","photo","Photo",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]),ke=o("outline","player-pause","PlayerPause",[["path",{d:"M6 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}]]),je=o("outline","player-play","PlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]),Ne=o("outline","ruler","Ruler",[["path",{d:"M5 4h14a1 1 0 0 1 1 1v5a1 1 0 0 1 -1 1h-7a1 1 0 0 0 -1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1",key:"svg-0"}],["path",{d:"M4 8l2 0",key:"svg-1"}],["path",{d:"M4 12l3 0",key:"svg-2"}],["path",{d:"M4 16l2 0",key:"svg-3"}],["path",{d:"M8 4l0 2",key:"svg-4"}],["path",{d:"M12 4l0 3",key:"svg-5"}],["path",{d:"M16 4l0 2",key:"svg-6"}]]),Ce=o("outline","scissors","Scissors",[["path",{d:"M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M8.6 8.6l10.4 10.4",key:"svg-2"}],["path",{d:"M8.6 15.4l10.4 -10.4",key:"svg-3"}]]),Se=o("outline","social","Social",[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M12 14m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-3"}],["path",{d:"M12 7l0 4",key:"svg-4"}],["path",{d:"M6.7 17.8l2.8 -2",key:"svg-5"}],["path",{d:"M17.3 17.8l-2.8 -2",key:"svg-6"}]]),Ee=o("outline","typography","Typography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),Pe=o("outline","video","Video",[["path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}]]),Me=o("outline","volume","Volume",[["path",{d:"M15 8a5 5 0 0 1 0 8",key:"svg-0"}],["path",{d:"M17.7 5a9 9 0 0 1 0 14",key:"svg-1"}],["path",{d:"M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5",key:"svg-2"}]]),Te=o("outline","wand","Wand",[["path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3",key:"svg-0"}],["path",{d:"M15 6l3 3",key:"svg-1"}],["path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-2"}],["path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-3"}]]),Ie=o("outline","wave-sine","WaveSine",[["path",{d:"M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2",key:"svg-0"}]]),De=o("outline","zoom-in","ZoomIn",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M7 10l6 0",key:"svg-1"}],["path",{d:"M10 7l0 6",key:"svg-2"}],["path",{d:"M21 21l-6 -6",key:"svg-3"}]]),Ae=o("filled","heart-filled","HeartFilled",[["path",{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z",key:"svg-0"}]]),Re={"visual-editor":[/cri(e|ar)\s+(uma?\s+)?(p[aá]gina|landing\s*page|site|layout)/i,/clon(e|ar)\s+(uma?\s+)?(p[aá]gina|landing\s*page|site)/i,/fa(ça|z|zer)\s+(uma?\s+)?(p[aá]gina|landing\s*page|site)/i,/desenh(e|ar)\s+(uma?\s+)?(p[aá]gina|layout|interface)/i,/constru(a|ir)\s+(uma?\s+)?(p[aá]gina|site|landing)/i,/desenvolv(a|er)\s+(uma?\s+)?(p[aá]gina|site)/i,/preciso\s+(de\s+)?(uma?\s+)?(p[aá]gina|landing\s*page)/i,/quero\s+(una?\s+)?(p[aá]gina|landing\s*page|site)/i,/edit(e|ar)\s+(uma?\s+|essa?\s+|a\s+)?(p[aá]gina|landing|layout)/i,/modific(ar|ue)\s+(uma?\s+|essa?\s+|a\s+)?(p[aá]gina|layout)/i,/ajust(e|ar)\s+(uma?\s+|essa?\s+|a\s+)?(p[aá]gina|layout)/i,/design\s+(de\s+)?(p[aá]gina|landing|site)/i,/interface\s+(de\s+|para\s+)?(p[aá]gina|site)/i,/layout\s+(de\s+|para\s+)?(p[aá]gina|site)/i,/protótipo\s+(de\s+)?(p[aá]gina|site)/i,/mockup\s+(de\s+)?(p[aá]gina|site)/i,/mont(e|ar)\s+(uma?\s+)?(p[aá]gina|site|landing)/i,/faz\s+(um\s+)?(site|p[aá]gina)/i,/web\s*(page|site)/i,/landing\s*page/i,/p[aá]gina\s+(de\s+)?(vendas|captura|obrigado)/i,/formul[aá]rio\s+(de\s+)?(contato|cadastro)/i,/home\s*page/i],"image-gallery":[/ger(e|ar)\s+(una?\s+)?(imagem|foto|ilustra[çc][aã]o|arte)/i,/cri(e|ar)\s+(uma?\s+)?(imagem|foto|ilustra[çc][aã]o|arte)/i,/fa(ça|z|zer)\s+(uma?\s+)?(imagem|foto|ilustra[çc][aã]o)/i,/desenh(e|ar)\s+(uma?\s+)?(imagem|ilustra[çc][aã]o)/i,/ilustr(e|ar)/i,/preciso\s+(de\s+)?(uma?\s+)?(imagem|foto|arte)/i,/quero\s+(uma?\s+)?(imagem|foto|ilustra[çc][aã]o)/i,/edit(e|ar)\s+(uma?\s+|essa?\s+|a\s+)?(imagem|foto)/i,/modific(ar|ue)\s+(uma?\s+|essa?\s+|a\s+)?(imagem|foto)/i,/ajust(e|ar)\s+(uma?\s+|essa?\s+|a\s+)?(imagem|foto)/i,/melhor(e|ar)\s+(uma?\s+|essa?\s+|a\s+)?(imagem|foto)/i,/most?r(e|ar)\s+(minhas?\s+|as\s+)?imagens/i,/list(e|ar)\s+(minhas?\s+|as\s+)?imagens/i,/ver\s+(minhas?\s+|as\s+)?imagens/i,/minhas?\s+imagens/i,/galeria\s+(de\s+)?imagens/i,/dall[\s-]?e/i,/stable\s*diffusion/i,/midjourney/i,/faz\s+(um\s+)?(banner|logo|thumbnail)/i,/cri(e|ar)\s+(um\s+)?(banner|logo|thumbnail|avatar)/i,/imagem\s+(para|de)\s+(produto|post|instagram|facebook)/i,/arte\s+(para|de)\s+(capa|perfil|post)/i,/render/i,/concept\s*art/i],"video-gallery":[/ger(e|ar)\s+(um\s+)?(v[ií]deo|anima[çc][aã]o|clip)/i,/cri(e|ar)\s+(um\s+)?(v[ií]deo|anima[çc][aã]o)/i,/fa(ça|z|zer)\s+(um\s+)?(v[ií]deo|anima[çc][aã]o)/i,/produz(a|ir)\s+(um\s+)?(v[ií]deo|anima[çc][aã]o)/i,/preciso\s+(de\s+)?(um\s+)?(v[ií]deo|anima[çc][aã]o)/i,/quero\s+(um\s+)?(v[ií]deo|anima[çc][aã]o)/i,/edit(e|ar)\s+(um\s+|esse\s+|o\s+)?(v[ií]deo|anima[çc][aã]o)/i,/modific(ar|ue)\s+(um\s+|esse\s+|o\s+)?(v[ií]deo)/i,/corta(r|e)\s+(um\s+|esse\s+|o\s+)?(v[ií]deo)/i,/most?r(e|ar)\s+(meus\s+|os\s+)?v[ií]deos/i,/list(e|ar)\s+(meus\s+|os\s+)?v[ií]deos/i,/ver\s+(meus\s+|os\s+)?v[ií]deos/i,/meus\s+v[ií]deos/i,/galeria\s+(de\s+)?v[ií]deos/i,/runway/i,/pika\s*labs?/i,/sora/i,/faz\s+(um\s+)?(v[ií]deo|reel|short)/i,/anima(r|[çc][aã]o)\s+(de\s+)?(texto|logo)/i,/v[ií]deo\s+(para|de)\s+(tiktok|instagram|youtube)/i,/reel/i,/short/i,/motion\s*graphics/i],"audio-gallery":[/ger(e|ar)\s+(um\s+)?(áudio|audio|som)/i,/cri(e|ar)\s+(um\s+)?(áudio|audio|som|voz)/i,/fa(ça|z|zer)\s+(um\s+)?(áudio|audio|narração)/i,/produz(a|ir)\s+(um\s+)?(áudio|audio)/i,/grav(e|ar)\s+(um\s+)?(áudio|audio|voz)/i,/text[\s-]?to[\s-]?speech/i,/tts/i,/voz\s+(para|de)/i,/narração/i,/voice\s*over/i,/locutor/i,/ger(e|ar)\s+(uma?\s+)?música/i,/cri(e|ar)\s+(uma?\s+)?música/i,/compor\s+(uma?\s+)?música/i,/trilha\s*sonora/i,/podcast/i,/episódio/i,/áudio\s+para\s+(o\s+)?vídeo/i,/dublar/i,/dublagem/i,/elevenlabs/i,/play\.ht/i,/stable\s*audio/i,/suno/i,/faz\s+(um\s+)?(áudio|audio|voz)/i,/conver(ta|ter)\s+texto\s+em\s+(fala|voz)/i,/ler\s+(o\s+)?texto/i,/sintetiz(ar|e)\s+voz/i],"code-editor":[/edit(e|ar)\s+(o\s+)?c[óo]digo/i,/modific(ar|ue)\s+(o\s+)?c[óo]digo/i,/escrev(a|er)\s+(um\s+)?c[óo]digo/i,/cri(e|ar)\s+(uma?\s+)?fun[çc][aã]o/i,/cri(e|ar)\s+(um\s+)?componente/i,/desenvolv(a|er)\s+(um\s+)?script/i,/fa(ça|z|zer)\s+(um\s+)?algoritmo/i,/implementa(r|e)\s+/i,/program(e|ar)/i,/python|javascript|typescript|react|node/i,/html|css|sql|json/i,/debug|refator(e|ar)|otimiz(e|ar)\s+c[óo]digo/i,/corrija?\s+(o\s+)?(bug|erro)/i,/revis(e|ar)\s+(o\s+)?c[óo]digo/i],chat:[/.*/i]},ze={"visual-editor":["responsiv","mobile","desktop","bootstrap","tailwind","css","html","componente","seção","header","footer","hero","cta","formulário","botão","menu","navbar","sidebar","card","grid","flexbox","container","section","modal","popup","dropdown"],"audio-gallery":["voz","narração","locutor","podcast","episódio","música","trilha","áudio","audio","tts","voiceover","dublagem","elevenlabs","play.ht","microfone","gravação","som","efeito sonoro","sfx","soundeffect"],"image-gallery":["prompt","estilo","realista","abstrato","cartoon","foto","arte","banner","logo","thumbnail","4k","alta resolução","hd","wallpaper","background","textura","pattern","ícone","avatar","capa","post","story","feed","pinterest"],"video-gallery":["fps","resolução","duração","segundos","minutos","timeline","transição","efeito","trilha","áudio","montagem","edição","corte","zoom","fade","legendas","música","som","voz","narração"],"code-editor":["função","classe","typescript","javascript","python","react","node","api","backend","frontend","component","hook","async","await","import","export","const","let","var","algorithm","loop","array","object","string","number","boolean"],chat:[]};function Oe(e){const t=e.toLowerCase(),n=[];for(const[r,a]of Object.entries(Re)){if("chat"===r)continue;let s=0,i=0;for(const t of a)t.test(e)&&(s++,i+=.3);const o=ze[r]||[];for(const e of o)t.includes(e.toLowerCase())&&(i+=.1,s++);s>0&&n.push({type:r,confidence:Math.min(i,1),matches:s})}if(n.sort((e,t)=>t.confidence!==e.confidence?t.confidence-e.confidence:t.matches-e.matches),n.length>0&&n[0].confidence>=.5){const t=n[0];return{type:t.type,confidence:t.confidence,params:_e(e,t.type),metadata:{keywords:Le(e,t.type),intent:$e(t.type),suggestedAction:Fe(t.type)}}}return{type:"chat",confidence:1,params:{},metadata:{intent:"general-conversation"}}}function _e(e,t){const n={};switch(t){case"visual-editor":/landing\s*page/i.test(e)?n.pageType="landing-page":/site/i.test(e)?n.pageType="website":n.pageType="page";const t=e.match(/para\s+(\w+)|sobre\s+(\w+)|de\s+(\w+)/i);t&&(n.theme=t[1]||t[2]||t[3]),/clon(e|ar)/i.test(e)&&(n.isClone=!0);break;case"image-gallery":const r=e.replace(/ger(e|ar)\s+(uma?\s+)?imagem\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/cri(e|ar)\s+(uma?\s+)?imagem\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/fa(ça|z)\s+(uma?\s+)?imagem\s+(de\s+|sobre\s+|com\s+)?/gi,"").trim();r.length>0&&(n.prompt=r),/realista/i.test(e)?n.style="realistic":/cartoon|desenho/i.test(e)?n.style="cartoon":/abstrato/i.test(e)?n.style="abstract":/fotográfico|foto/i.test(e)&&(n.style="photographic"),/most?r|list|ver|minhas?\s+imagens|galeria/i.test(e)?n.action="list":n.action="generate";break;case"video-gallery":const a=e.replace(/ger(e|ar)\s+(um\s+)?v[ií]deo\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/cri(e|ar)\s+(um\s+)?v[ií]deo\s+(de\s+|sobre\s+|com\s+)?/gi,"").replace(/fa(ça|z)\s+(um\s+)?v[ií]deo\s+(de\s+|sobre\s+|com\s+)?/gi,"").trim();a.length>0&&(n.prompt=a);const s=e.match(/(\d+)\s*segundos?/i);s&&(n.duration=parseInt(s[1])),/most?r|list|ver|meus\s+v[ií]deos|galeria/i.test(e)?n.action="list":n.action="generate"}return n}function Le(e,t){const n=[],r=e.toLowerCase(),a=ze[t]||[];for(const s of a)r.includes(s.toLowerCase())&&n.push(s);return n}function $e(e){return{"visual-editor":"create-or-edit-page","image-gallery":"generate-or-view-images","video-gallery":"generate-or-view-videos","audio-gallery":"generate-or-edit-audio","code-editor":"write-or-debug-code",chat:"general-conversation"}[e]||"unknown"}function Fe(e){return{"visual-editor":"Abrindo editor visual...","image-gallery":"Abrindo galeria de imagens...","video-gallery":"Abrindo galeria de vídeos...","audio-gallery":"Abrindo galeria de áudio...","code-editor":"Abrindo editor de código...",chat:""}[e]||""}function Be(e){return e.confidence>=.7&&"chat"!==e.type}const Ue=`${window.location.origin}/integrations/callback`,He={meta_ads:{clientId:"1907637243430460",authUrl:"https://www.facebook.com/v18.0/dialog/oauth",tokenUrl:"https://graph.facebook.com/v18.0/oauth/access_token",scopes:["ads_management","ads_read","business_management","pages_read_engagement","pages_manage_ads"],redirectUri:Ue},facebook_ads:{clientId:"1907637243430460",authUrl:"https://www.facebook.com/v18.0/dialog/oauth",tokenUrl:"https://graph.facebook.com/v18.0/oauth/access_token",scopes:["ads_management","ads_read","pages_manage_ads"],redirectUri:Ue},google_ads:{clientId:"123456789012-abcdefghijklmnopqrstuvwxyz123456.apps.googleusercontent.com",authUrl:"https://accounts.google.com/o/oauth2/v2/auth",tokenUrl:"https://oauth2.googleapis.com/token",scopes:["https://www.googleapis.com/auth/adwords","https://www.googleapis.com/auth/userinfo.email"],redirectUri:Ue},google_analytics:{clientId:"123456789012-abcdefghijklmnopqrstuvwxyz123456.apps.googleusercontent.com",authUrl:"https://accounts.google.com/o/oauth2/v2/auth",tokenUrl:"https://oauth2.googleapis.com/token",scopes:["https://www.googleapis.com/auth/analytics.readonly","https://www.googleapis.com/auth/userinfo.email"],redirectUri:Ue},linkedin_ads:{clientId:"1234567890abcdef",authUrl:"https://www.linkedin.com/oauth/v2/authorization",tokenUrl:"https://www.linkedin.com/oauth/v2/accessToken",scopes:["r_ads","rw_ads","r_organization_social","r_basicprofile","r_emailaddress"],redirectUri:Ue},twitter_ads:{clientId:"abcdefghijklmnopqrstuvwxyz123456",authUrl:"https://twitter.com/i/oauth2/authorize",tokenUrl:"https://api.twitter.com/2/oauth2/token",scopes:["tweet.read","users.read","offline.access","follows.read"],redirectUri:Ue},tiktok_ads:{clientId:"abc123def456ghi789",authUrl:"https://business-api.tiktok.com/portal/auth",tokenUrl:"https://business-api.tiktok.com/open_api/v1.3/oauth2/access_token/",scopes:["user.info.basic","video.list","ad_account_read","ad_account_write"],redirectUri:Ue}};function qe({platform:n,userId:r,onSkip:a,onConnecting:s,onSuccess:i,onError:o}){const[u,d]=t.useState(!1),h=N[n];return e.jsx(l,{className:"p-4 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:h.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["I'll need to connect your ",h.name," account to continue."]}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"This will allow me to manage your ad campaigns and get insights."})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>{a?.()},disabled:u,className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),"Skip"]}),e.jsx(c,{onClick:()=>{try{d(!0),s?.();const e=function(e,t){const n=He[e];if(!n)throw new Error(`Plataforma OAuth não suportada: ${e}`);const r=btoa(JSON.stringify({platform:e,userId:t,timestamp:Date.now(),random:Math.random().toString(36).substring(7)})),a=`oauth_state_${e}_${t}`;localStorage.setItem(a,r),setTimeout(()=>localStorage.removeItem(a),6e5);const s=new URLSearchParams({client_id:n.clientId,redirect_uri:n.redirectUri,response_type:"code",scope:n.scopes.join(" "),state:r,access_type:"offline",prompt:"consent"});return`${n.authUrl}?${s.toString()}`}(n,r),t=600,a=700,o=window.screenX+(window.outerWidth-t)/2,l=window.screenY+(window.outerHeight-a)/2,c=window.open(e,"oauth_popup",`width=${t},height=${a},left=${o},top=${l},toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes`);c&&!c.closed||window.open(e,"_blank");const u=setInterval(()=>{try{if(c&&c.closed){clearInterval(u),d(!1);localStorage.getItem(`oauth_success_${n}_${r}`)&&(localStorage.removeItem(`oauth_success_${n}_${r}`),i?.())}}catch(Wo){}},500);setTimeout(()=>{clearInterval(u),d(!1)},6e5)}catch(e){d(!1),o?.(e.message||"Erro ao conectar integração")}},disabled:u,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),"Connect ",h.name]})})]})]})})}function Ve(){}function We(){}const Ge=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ke={};function Xe(e,t){return(Ke.jsx?Ye:Ge).test(e)}const Je=/[ \t\n\f\r]/g;function Ze(e){return""===e.replace(Je,"")}class Qe{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function et(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Qe(n,r,t)}function tt(e){return e.toLowerCase()}Qe.prototype.normal={},Qe.prototype.property={},Qe.prototype.space=void 0;class nt{constructor(e,t){this.attribute=t,this.property=e}}nt.prototype.attribute="",nt.prototype.booleanish=!1,nt.prototype.boolean=!1,nt.prototype.commaOrSpaceSeparated=!1,nt.prototype.commaSeparated=!1,nt.prototype.defined=!1,nt.prototype.mustUseProperty=!1,nt.prototype.number=!1,nt.prototype.overloadedBoolean=!1,nt.prototype.property="",nt.prototype.spaceSeparated=!1,nt.prototype.space=void 0;let rt=0;const at=dt(),st=dt(),it=dt(),ot=dt(),lt=dt(),ct=dt(),ut=dt();function dt(){return 2**++rt}const ht=Object.freeze(Object.defineProperty({__proto__:null,boolean:at,booleanish:st,commaOrSpaceSeparated:ut,commaSeparated:ct,number:ot,overloadedBoolean:it,spaceSeparated:lt},Symbol.toStringTag,{value:"Module"})),pt=Object.keys(ht);class mt extends nt{constructor(e,t,n,r){let a=-1;if(super(e,t),ft(this,"space",r),"number"==typeof n)for(;++a<pt.length;){const e=pt[a];ft(this,pt[a],(n&ht[e])===ht[e])}}}function ft(e,t,n){n&&(e[t]=n)}function gt(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new mt(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[tt(r)]=r,n[tt(s.attribute)]=r}return new Qe(t,n,e.space)}mt.prototype.defined=!0;const xt=gt({properties:{ariaActiveDescendant:null,ariaAtomic:st,ariaAutoComplete:null,ariaBusy:st,ariaChecked:st,ariaColCount:ot,ariaColIndex:ot,ariaColSpan:ot,ariaControls:lt,ariaCurrent:null,ariaDescribedBy:lt,ariaDetails:null,ariaDisabled:st,ariaDropEffect:lt,ariaErrorMessage:null,ariaExpanded:st,ariaFlowTo:lt,ariaGrabbed:st,ariaHasPopup:null,ariaHidden:st,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:lt,ariaLevel:ot,ariaLive:null,ariaModal:st,ariaMultiLine:st,ariaMultiSelectable:st,ariaOrientation:null,ariaOwns:lt,ariaPlaceholder:null,ariaPosInSet:ot,ariaPressed:st,ariaReadOnly:st,ariaRelevant:null,ariaRequired:st,ariaRoleDescription:lt,ariaRowCount:ot,ariaRowIndex:ot,ariaRowSpan:ot,ariaSelected:st,ariaSetSize:ot,ariaSort:null,ariaValueMax:ot,ariaValueMin:ot,ariaValueNow:ot,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function vt(e,t){return t in e?e[t]:t}function bt(e,t){return vt(e,t.toLowerCase())}const yt=gt({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ct,acceptCharset:lt,accessKey:lt,action:null,allow:null,allowFullScreen:at,allowPaymentRequest:at,allowUserMedia:at,alt:null,as:null,async:at,autoCapitalize:null,autoComplete:lt,autoFocus:at,autoPlay:at,blocking:lt,capture:null,charSet:null,checked:at,cite:null,className:lt,cols:ot,colSpan:null,content:null,contentEditable:st,controls:at,controlsList:lt,coords:ot|ct,crossOrigin:null,data:null,dateTime:null,decoding:null,default:at,defer:at,dir:null,dirName:null,disabled:at,download:it,draggable:st,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:at,formTarget:null,headers:lt,height:ot,hidden:it,high:ot,href:null,hrefLang:null,htmlFor:lt,httpEquiv:lt,id:null,imageSizes:null,imageSrcSet:null,inert:at,inputMode:null,integrity:null,is:null,isMap:at,itemId:null,itemProp:lt,itemRef:lt,itemScope:at,itemType:lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:at,low:ot,manifest:null,max:null,maxLength:ot,media:null,method:null,min:null,minLength:ot,multiple:at,muted:at,name:null,nonce:null,noModule:at,noValidate:at,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:at,optimum:ot,pattern:null,ping:lt,placeholder:null,playsInline:at,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:at,referrerPolicy:null,rel:lt,required:at,reversed:at,rows:ot,rowSpan:ot,sandbox:lt,scope:null,scoped:at,seamless:at,selected:at,shadowRootClonable:at,shadowRootDelegatesFocus:at,shadowRootMode:null,shape:null,size:ot,sizes:null,slot:null,span:ot,spellCheck:st,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ot,step:null,style:null,tabIndex:ot,target:null,title:null,translate:null,type:null,typeMustMatch:at,useMap:null,value:st,width:ot,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:lt,axis:null,background:null,bgColor:null,border:ot,borderColor:null,bottomMargin:ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:at,declare:at,event:null,face:null,frame:null,frameBorder:null,hSpace:ot,leftMargin:ot,link:null,longDesc:null,lowSrc:null,marginHeight:ot,marginWidth:ot,noResize:at,noHref:at,noShade:at,noWrap:at,object:null,profile:null,prompt:null,rev:null,rightMargin:ot,rules:null,scheme:null,scrolling:st,standby:null,summary:null,text:null,topMargin:ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:at,disableRemotePlayback:at,prefix:null,property:null,results:ot,security:null,unselectable:null},space:"html",transform:bt}),wt=gt({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ut,accentHeight:ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ot,amplitude:ot,arabicForm:null,ascent:ot,attributeName:null,attributeType:null,azimuth:ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ot,by:null,calcMode:null,capHeight:ot,className:lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ot,diffuseConstant:ot,direction:null,display:null,dur:null,divisor:ot,dominantBaseline:null,download:at,dx:null,dy:null,edgeMode:null,editable:null,elevation:ot,enableBackground:null,end:null,event:null,exponent:ot,externalResourcesRequired:null,fill:null,fillOpacity:ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ct,g2:ct,glyphName:ct,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ot,horizOriginX:ot,horizOriginY:ot,id:null,ideographic:ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ot,k:ot,k1:ot,k2:ot,k3:ot,k4:ot,kernelMatrix:ut,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ot,overlineThickness:ot,paintOrder:null,panose1:null,path:null,pathLength:ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ot,pointsAtY:ot,pointsAtZ:ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ut,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ut,rev:ut,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ut,requiredFeatures:ut,requiredFonts:ut,requiredFormats:ut,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ot,specularExponent:ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ot,strikethroughThickness:ot,string:null,stroke:null,strokeDashArray:ut,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ot,strokeOpacity:ot,strokeWidth:null,style:null,surfaceScale:ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ut,tabIndex:ot,tableValues:null,target:null,targetX:ot,targetY:ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ut,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ot,underlineThickness:ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ot,values:null,vAlphabetic:ot,vMathematical:ot,vectorEffect:null,vHanging:ot,vIdeographic:ot,version:null,vertAdvY:ot,vertOriginX:ot,vertOriginY:ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vt}),kt=gt({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),jt=gt({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bt}),Nt=gt({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Ct={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},St=/[A-Z]/g,Et=/-[a-z]/g,Pt=/^data[-\w.:]+$/i;function Mt(e){return"-"+e.toLowerCase()}function Tt(e){return e.charAt(1).toUpperCase()}const It=et([xt,yt,kt,jt,Nt],"html"),Dt=et([xt,wt,kt,jt,Nt],"svg");var At={},Rt=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,zt=/\n/g,Ot=/^\s*/,_t=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Lt=/^:\s*/,$t=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ft=/^[;\s]*/,Bt=/^\s+|\s+$/g,Ut="";function Ht(e){return e?e.replace(Bt,Ut):Ut}var qt=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(e){var t=e.match(zt);t&&(n+=t.length);var a=e.lastIndexOf("\n");r=~a?e.length-a:r+e.length}function s(){var e={line:n,column:r};return function(t){return t.position=new i(e),c(),t}}function i(e){this.start=e,this.end={line:n,column:r},this.source=t.source}function o(a){var s=new Error(t.source+":"+n+":"+r+": "+a);if(s.reason=a,s.filename=t.source,s.line=n,s.column=r,s.source=e,!t.silent)throw s}function l(t){var n=t.exec(e);if(n){var r=n[0];return a(r),e=e.slice(r.length),n}}function c(){l(Ot)}function u(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=s();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;Ut!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,Ut===e.charAt(n-1))return o("End of comment missing");var i=e.slice(2,n-2);return r+=2,a(i),e=e.slice(n),r+=2,t({type:"comment",comment:i})}}function h(){var e=s(),t=l(_t);if(t){if(d(),!l(Lt))return o("property missing ':'");var n=l($t),r=e({type:"declaration",property:Ht(t[0].replace(Rt,Ut)),value:n?Ht(n[0].replace(Rt,Ut)):Ut});return l(Ft),r}}return i.prototype.content=e,c(),function(){var e,t=[];for(u(t);e=h();)!1!==e&&(t.push(e),u(t));return t}()},Vt=n&&n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(At,"__esModule",{value:!0}),At.default=function(e,t){let n=null;if(!e||"string"!=typeof e)return n;const r=(0,Wt.default)(e),a="function"==typeof t;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:r,value:s}=e;a?t(r,s,e):s&&(n=n||{},n[r]=s)}),n};const Wt=Vt(qt);var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.camelCase=void 0;var Yt=/^--[a-zA-Z0-9_-]+$/,Kt=/-([a-z])/g,Xt=/^[^-]+$/,Jt=/^-(webkit|moz|ms|o|khtml)-/,Zt=/^-(ms)-/,Qt=function(e,t){return t.toUpperCase()},en=function(e,t){return"".concat(t,"-")};Gt.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||Xt.test(e)||Yt.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(Zt,en):e.replace(Jt,en)).replace(Kt,Qt))};var tn=(n&&n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(At),nn=Gt;function rn(e,t){var n={};return e&&"string"==typeof e?((0,tn.default)(e,function(e,r){e&&r&&(n[(0,nn.camelCase)(e,t)]=r)}),n):n}rn.default=rn;const an=r(rn),sn=ln("end"),on=ln("start");function ln(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function cn(e){return e&&"object"==typeof e?"position"in e||"type"in e?dn(e.position):"start"in e||"end"in e?dn(e):"line"in e||"column"in e?un(e):"":""}function un(e){return hn(e&&e.line)+":"+hn(e&&e.column)}function dn(e){return un(e&&e.start)+"-"+un(e&&e.end)}function hn(e){return e&&"number"==typeof e?e:1}class pn extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",a={},s=!1;if(t&&(a="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!a.cause&&e&&(s=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?a.ruleId=n:(a.source=n.slice(0,e),a.ruleId=n.slice(e+1))}if(!a.place&&a.ancestors&&a.ancestors){const e=a.ancestors[a.ancestors.length-1];e&&(a.place=e.position)}const i=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=i?i.line:void 0,this.name=cn(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&"string"==typeof a.cause.stack?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pn.prototype.file="",pn.prototype.name="",pn.prototype.reason="",pn.prototype.message="",pn.prototype.stack="",pn.prototype.column=void 0,pn.prototype.line=void 0,pn.prototype.ancestors=void 0,pn.prototype.cause=void 0,pn.prototype.fatal=void 0,pn.prototype.place=void 0,pn.prototype.ruleId=void 0,pn.prototype.source=void 0;const mn={}.hasOwnProperty,fn=new Map,gn=/[A-Z]/g,xn=new Set(["table","tbody","thead","tfoot","tr"]),vn=new Set(["td","th"]),bn="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yn(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,a,s){const i=Array.isArray(a.children),o=on(n);return t(r,a,s,i,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,a,s){const i=Array.isArray(a.children)?n:t;return s?i(r,a,s):i(r,a)}}(0,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Dt:It,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=wn(a,e,void 0);return s&&"string"!=typeof s?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function wn(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let a=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(a=Dt,e.schema=a);e.ancestors.push(t);const s=Sn(e,t.tagName,!1),i=function(e,t){const n={};let r,a;for(a in t.properties)if("children"!==a&&mn.call(t.properties,a)){const s=Cn(e,a,t.properties[a]);if(s){const[a,i]=s;e.tableCellAlignToStyle&&"align"===a&&"string"==typeof i&&vn.has(t.tagName)?r=i:n[a]=i}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=Nn(e,t);xn.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&Ze(t.value):Ze(t));var t}));return kn(e,i,s,t),jn(i,o),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}En(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let a=r;"svg"===t.name&&"html"===r.space&&(a=Dt,e.schema=a);e.ancestors.push(t);const s=null===t.name?e.Fragment:Sn(e,t.name,!0),i=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];Ve(t.type);const a=t.expression;Ve(a.type);const s=a.properties[0];Ve(s.type),Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else En(e,t.position);else{const a=r.name;let s;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];Ve(t.type),s=e.evaluater.evaluateExpression(t.expression)}else En(e,t.position);else s=null===r.value||r.value;n[a]=s}return n}(e,t),o=Nn(e,t);return kn(e,i,s,t),jn(i,o),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);En(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return jn(r,Nn(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function kn(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function jn(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Nn(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:fn;for(;++r<t.children.length;){const s=t.children[r];let i;if(e.passKeys){const e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){const t=a.get(e)||0;i=e+"-"+t,a.set(e,t+1)}}const o=wn(e,s,i);void 0!==o&&n.push(o)}return n}function Cn(e,t,n){const r=function(e,t){const n=tt(t);let r=t,a=nt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Pt.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Et,Tt);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Et.test(e)){let n=e.replace(St,Mt);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}a=mt}return new a(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return an(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new pn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=bn+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)mn.call(e,n)&&(t[Pn(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Ct[r.property]||r.property:r.attribute,n]}}function Sn(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,a=-1;for(;++a<e.length;){const t=Xe(e[a])?{type:"Identifier",name:e[a]}:{type:"Literal",value:e[a]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(a&&"Literal"===t.type),optional:!1}:t}r=n}else r=Xe(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return mn.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);En(e)}function En(e,t){const n=new pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bn+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Pn(e){let t=e.replace(gn,Mn);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Mn(e){return"-"+e.toLowerCase()}const Tn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},In={};function Dn(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return An(e.children,t,n)}return Array.isArray(e)?An(e,t,n):""}function An(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=Dn(e[a],t,n);return r.join("")}const Rn=document.createElement("i");function zn(e){const t="&"+e+";";Rn.innerHTML=t;const n=Rn.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function On(e,t,n,r){const a=e.length;let s,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function _n(e,t){return e.length>0?(On(e,e.length,0,t),e):t}const Ln={}.hasOwnProperty;function $n(e,t){let n;for(n in t){const r=(Ln.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){Ln.call(r,s)||(r[s]=[]);const e=a[s];Fn(r[s],Array.isArray(e)?e:e?[e]:[])}}}function Fn(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);On(e,0,0,r)}function Bn(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"�":String.fromCodePoint(n)}function Un(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hn=tr(/[A-Za-z]/),qn=tr(/[\dA-Za-z]/),Vn=tr(/[#-'*+\--9=?A-Z^-~]/);function Wn(e){return null!==e&&(e<32||127===e)}const Gn=tr(/\d/),Yn=tr(/[\dA-Fa-f]/),Kn=tr(/[!-/:-@[-`{-~]/);function Xn(e){return null!==e&&e<-2}function Jn(e){return null!==e&&(e<0||32===e)}function Zn(e){return-2===e||-1===e||32===e}const Qn=tr(/\p{P}|\p{S}/u),er=tr(/\s/);function tr(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function nr(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let i="";if(37===s&&qn(e.charCodeAt(n+1))&&qn(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(i=String.fromCharCode(s));else if(s>55295&&s<57344){const t=e.charCodeAt(n+1);s<56320&&t>56319&&t<57344?(i=String.fromCharCode(s,t),a=1):i="�"}else i=String.fromCharCode(s);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+a+1,i=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function rr(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return function(r){if(Zn(r))return e.enter(n),i(r);return t(r)};function i(r){return Zn(r)&&s++<a?(e.consume(r),i):(e.exit(n),t(r))}}const ar={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rr(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,a(t)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Xn(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),a)}}};const sr={tokenize:function(e){const t=this,n=[];let r,a,s,i=0;return o;function o(r){if(i<n.length){const a=n[i];return t.containerState=a[1],e.attempt(a[0].continuation,l,c)(r)}return c(r)}function l(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let a,s=n;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){a=t.events[s][1].end;break}x(i);let o=n;for(;o<t.events.length;)t.events[o][1].end={...a},o++;return On(t.events,s+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(a){if(i===n.length){if(!r)return h(a);if(r.currentConstruct&&r.currentConstruct.concrete)return m(a);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ir,u,d)(a)}function u(e){return r&&v(),x(i),h(e)}function d(e){return t.parser.lazy[t.now().line]=i!==n.length,s=t.now().offset,m(e)}function h(n){return t.containerState={},e.attempt(ir,p,m)(n)}function p(e){return i++,n.push([t.currentConstruct,t.containerState]),h(e)}function m(n){return null===n?(r&&v(),x(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):Xn(n)?(e.consume(n),g(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(n),f)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=a,a&&(a.next=e),a=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<s&&(!r.events[e][1].end||r.events[e][1].end.offset>s))return;const n=t.events.length;let a,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(a){o=t.events[l][1].end;break}a=!0}for(x(i),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;On(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function x(r){let a=n.length;for(;a-- >r;){const r=n[a];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),a=void 0,r=void 0,t.containerState._closeFlow=void 0}}},ir={tokenize:function(e,t,n){return rr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function or(e){return null===e||Jn(e)||er(e)?1:Qn(e)?2:void 0}function lr(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const cr={name:"attention",resolveAll:function(e,t){let n,r,a,s,i,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};ur(d,-o),ur(h,o),s={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},i={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},a={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...s.start},end:{...i.end}},e[n][1].end={...s.start},e[u][1].start={...i.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=_n(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=_n(l,[["enter",r,t],["enter",s,t],["exit",s,t],["enter",a,t]]),l=_n(l,lr(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=_n(l,[["exit",a,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=_n(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,On(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=or(r);let s;return function(t){return s=t,e.enter("attentionSequence"),i(t)};function i(o){if(o===s)return e.consume(o),i;const l=e.exit("attentionSequence"),c=or(o),u=!c||2===c&&a||n.includes(o),d=!a||2===a&&c||n.includes(r);return l._open=Boolean(42===s?u:u&&(a||!d)),l._close=Boolean(42===s?d:d&&(c||!u)),t(o)}}};function ur(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const dr={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a};function a(t){return Hn(t)?(e.consume(t),s):64===t?n(t):l(t)}function s(e){return 43===e||45===e||46===e||qn(e)?(r=1,i(e)):l(e)}function i(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||qn(t))&&r++<32?(e.consume(t),i):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Wn(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):Vn(t)?(e.consume(t),l):n(t)}function c(e){return qn(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||qn(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const hr={partial:!0,tokenize:function(e,t,n){return function(t){return Zn(t)?rr(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Xn(e)?t(e):n(e)}}};const pr={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(Zn(t))return rr(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return a(t)};function a(r){return e.attempt(pr,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a}return n(t)};function a(n){return Zn(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const mr={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Kn(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const fr={name:"characterReference",tokenize:function(e,t,n){const r=this;let a,s,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),a=31,s=qn,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Yn,c):(e.enter("characterReferenceValue"),a=7,s=Gn,c(t))}function c(o){if(59===o&&i){const a=e.exit("characterReferenceValue");return s!==qn||zn(r.sliceSerialize(a))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return s(o)&&i++<a?(e.consume(o),c):n(o)}}};const gr={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},xr={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,a={partial:!0,tokenize:function(e,t,n){let a=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),Zn(t)?rr(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===s?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===s?(a++,e.consume(t),u):a>=o?(e.exit("codeFencedFenceSequence"),Zn(t)?rr(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Xn(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let s,i=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===s?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),Zn(t)?rr(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Xn(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(gr,p,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Xn(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):Zn(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rr(e,d,"whitespace")(t)):96===t&&t===s?n(t):(e.consume(t),u)}function d(t){return null===t||Xn(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Xn(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===s?n(t):(e.consume(t),h)}function p(t){return e.attempt(a,v,m)(t)}function m(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return i>0&&Zn(t)?rr(e,g,"linePrefix",i+1)(t):g(t)}function g(t){return null===t||Xn(t)?e.check(gr,p,v)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||Xn(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),x)}function v(n){return e.exit("codeFenced"),t(n)}}};const vr={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),rr(e,a,"linePrefix",5)(t)};function a(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?s(e):n(e)}function s(t){return null===t?o(t):Xn(t)?e.attempt(br,s,o)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||Xn(t)?(e.exit("codeFlowValue"),s(t)):(e.consume(t),i)}function o(n){return e.exit("codeIndented"),t(n)}}},br={partial:!0,tokenize:function(e,t,n){const r=this;return a;function a(t){return r.parser.lazy[r.now().line]?n(t):Xn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):rr(e,s,"linePrefix",5)(t)}function s(e){const s=r.events[r.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):Xn(e)?a(e):n(e)}}};const yr={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,a=3;if(!("lineEnding"!==e[a][1].type&&"space"!==e[a][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=a;++t<r;)if("codeTextData"===e[t][1].type){e[a][1].type="codeTextPadding",e[r][1].type="codeTextPadding",a+=2,r-=2;break}t=a-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,a,s=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),s++,i):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(a=e.enter("codeTextSequence"),r=0,c(t)):Xn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Xn(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(a.type="codeTextData",l(n))}}};class wr{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&kr(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),kr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),kr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);kr(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);kr(this.left,t.reverse())}}}function kr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function jr(e){const t={};let n,r,a,s,i,o,l,c=-1;const u=new wr(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,a=0,a<o.length&&"lineEndingBlank"===o[a][1].type&&(a+=2),a<o.length&&"content"===o[a][1].type))for(;++a<o.length&&"content"!==o[a][1].type;)"chunkText"===o[a][1].type&&(o[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Nr(u,c)),c=t[c],l=!0);else if(n[1]._container){for(a=c,r=void 0;a--;)if(s=u.get(a),"lineEnding"===s[1].type||"lineEndingBlank"===s[1].type)"enter"===s[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else if("linePrefix"!==s[1].type&&"listItemIndent"!==s[1].type)break;r&&(n[1].end={...u.get(r)[1].start},i=u.slice(r,c),i.unshift(n),u.splice(r,c-r+1,i))}}return On(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Nr(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,l=[],c={};let u,d,h=-1,p=n,m=0,f=0;const g=[f];for(;p;){for(;e.get(++a)[1]!==p;);s.push(a),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&i.defineSkip(p.start),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(u),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(f=h+1,g.push(f),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(i.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=s.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const Cr={resolve:function(e){return jr(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?a(t):Xn(t)?e.check(Sr,s,a)(t):(e.consume(t),r)}function a(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function s(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Sr={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),rr(e,a,"linePrefix")};function a(a){if(null===a||Xn(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}};function Er(e,t,n,r,a,s,i,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(a),e.enter(s),e.consume(t),e.exit(s),d;if(null===t||32===t||41===t||Wn(t))return n(t);return e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(t)};function d(n){return 62===n?(e.enter(s),e.consume(n),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||Xn(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function m(a){return u||null!==a&&41!==a&&!Jn(a)?u<c&&40===a?(e.consume(a),u++,m):41===a?(e.consume(a),u--,m):null===a||32===a||40===a||Wn(a)?n(a):(e.consume(a),92===a?f:m):(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(a))}function f(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function Pr(e,t,n,r,a,s){const i=this;let o,l=0;return function(t){return e.enter(r),e.enter(a),e.consume(t),e.exit(a),e.enter(s),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):93===d?(e.exit(s),e.enter(a),e.consume(d),e.exit(a),e.exit(r),t):Xn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||Xn(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!Zn(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function Mr(e,t,n,r,a,s){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(a),e.consume(t),e.exit(a),i=40===t?41:t,o;return n(t)};function o(n){return n===i?(e.enter(a),e.consume(n),e.exit(a),e.exit(r),t):(e.enter(s),l(n))}function l(t){return t===i?(e.exit(s),o(i)):null===t?n(t):Xn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),rr(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===i||null===t||Xn(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===i||92===t?(e.consume(t),c):c(t)}}function Tr(e,t){let n;return function r(a){if(Xn(a))return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r;if(Zn(a))return rr(e,r,n?"linePrefix":"lineSuffix")(a);return t(a)}}const Ir={name:"definition",tokenize:function(e,t,n){const r=this;let a;return function(t){return e.enter("definition"),function(t){return Pr.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function s(t){return a=Un(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return Jn(t)?Tr(e,o)(t):o(t)}function o(t){return Er(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Dr,c,c)(t)}function c(t){return Zn(t)?rr(e,u,"whitespace")(t):u(t)}function u(s){return null===s||Xn(s)?(e.exit("definition"),r.parser.defined.push(a),t(s)):n(s)}}},Dr={partial:!0,tokenize:function(e,t,n){return function(t){return Jn(t)?Tr(e,r)(t):n(t)};function r(t){return Mr(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function a(t){return Zn(t)?rr(e,s,"whitespace")(t):s(t)}function s(e){return null===e||Xn(e)?t(e):n(e)}}};const Ar={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Xn(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Rr={name:"headingAtx",resolve:function(e,t){let n,r,a=e.length-2,s=3;"whitespace"===e[s][1].type&&(s+=2);a-2>s&&"whitespace"===e[a][1].type&&(a-=2);"atxHeadingSequence"===e[a][1].type&&(s===a-1||a-4>s&&"whitespace"===e[a-2][1].type)&&(a-=s+1===a?2:4);a>s&&(n={type:"atxHeadingText",start:e[s][1].start,end:e[a][1].end},r={type:"chunkText",start:e[s][1].start,end:e[a][1].end,contentType:"text"},On(e,s,a-s+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),a(t)}(t)};function a(t){return 35===t&&r++<6?(e.consume(t),a):null===t||Jn(t)?(e.exit("atxHeadingSequence"),s(t)):n(t)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||Xn(n)?(e.exit("atxHeading"),t(n)):Zn(n)?rr(e,s,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),s(t))}function o(t){return null===t||35===t||Jn(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),o)}}};const zr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Or=["pre","script","style","textarea"],_r={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let a,s,i,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),s=!0,p):63===o?(e.consume(o),a=3,r.interrupt?t:R):Hn(o)?(e.consume(o),i=String.fromCharCode(o),m):n(o)}function u(s){return 45===s?(e.consume(s),a=2,d):91===s?(e.consume(s),a=5,o=0,h):Hn(s)?(e.consume(s),a=4,r.interrupt?t:R):n(s)}function d(a){return 45===a?(e.consume(a),r.interrupt?t:R):n(a)}function h(a){const s="CDATA[";return a===s.charCodeAt(o++)?(e.consume(a),6===o?r.interrupt?t:S:h):n(a)}function p(t){return Hn(t)?(e.consume(t),i=String.fromCharCode(t),m):n(t)}function m(o){if(null===o||47===o||62===o||Jn(o)){const l=47===o,c=i.toLowerCase();return l||s||!Or.includes(c)?zr.includes(i.toLowerCase())?(a=6,l?(e.consume(o),f):r.interrupt?t(o):S(o)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):s?g(o):x(o)):(a=1,r.interrupt?t(o):S(o))}return 45===o||qn(o)?(e.consume(o),i+=String.fromCharCode(o),m):n(o)}function f(a){return 62===a?(e.consume(a),r.interrupt?t:S):n(a)}function g(t){return Zn(t)?(e.consume(t),g):N(t)}function x(t){return 47===t?(e.consume(t),N):58===t||95===t||Hn(t)?(e.consume(t),v):Zn(t)?(e.consume(t),x):N(t)}function v(t){return 45===t||46===t||58===t||95===t||qn(t)?(e.consume(t),v):b(t)}function b(t){return 61===t?(e.consume(t),y):Zn(t)?(e.consume(t),b):x(t)}function y(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):Zn(t)?(e.consume(t),y):k(t)}function w(t){return t===l?(e.consume(t),l=null,j):null===t||Xn(t)?n(t):(e.consume(t),w)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Jn(t)?b(t):(e.consume(t),k)}function j(e){return 47===e||62===e||Zn(e)?x(e):n(e)}function N(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||Xn(t)?S(t):Zn(t)?(e.consume(t),C):n(t)}function S(t){return 45===t&&2===a?(e.consume(t),T):60===t&&1===a?(e.consume(t),I):62===t&&4===a?(e.consume(t),z):63===t&&3===a?(e.consume(t),R):93===t&&5===a?(e.consume(t),A):!Xn(t)||6!==a&&7!==a?null===t||Xn(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(Lr,O,E)(t))}function E(t){return e.check($r,P,O)(t)}function P(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return null===t||Xn(t)?E(t):(e.enter("htmlFlowData"),S(t))}function T(t){return 45===t?(e.consume(t),R):S(t)}function I(t){return 47===t?(e.consume(t),i="",D):S(t)}function D(t){if(62===t){const n=i.toLowerCase();return Or.includes(n)?(e.consume(t),z):S(t)}return Hn(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),D):S(t)}function A(t){return 93===t?(e.consume(t),R):S(t)}function R(t){return 62===t?(e.consume(t),z):45===t&&2===a?(e.consume(t),R):S(t)}function z(t){return null===t||Xn(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),z)}function O(n){return e.exit("htmlFlow"),t(n)}}},Lr={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(hr,t,n)}}},$r={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(Xn(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a;return n(t)};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const Fr={name:"htmlText",tokenize:function(e,t,n){const r=this;let a,s,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),y):63===t?(e.consume(t),v):Hn(t)?(e.consume(t),j):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),s=0,p):Hn(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):Xn(t)?(i=u,D(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?I(e):45===e?d(e):u(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(s++)?(e.consume(t),6===s?m:p):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),f):Xn(t)?(i=m,D(t)):(e.consume(t),m)}function f(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?I(t):93===t?(e.consume(t),g):m(t)}function x(t){return null===t||62===t?I(t):Xn(t)?(i=x,D(t)):(e.consume(t),x)}function v(t){return null===t?n(t):63===t?(e.consume(t),b):Xn(t)?(i=v,D(t)):(e.consume(t),v)}function b(e){return 62===e?I(e):v(e)}function y(t){return Hn(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||qn(t)?(e.consume(t),w):k(t)}function k(t){return Xn(t)?(i=k,D(t)):Zn(t)?(e.consume(t),k):I(t)}function j(t){return 45===t||qn(t)?(e.consume(t),j):47===t||62===t||Jn(t)?N(t):n(t)}function N(t){return 47===t?(e.consume(t),I):58===t||95===t||Hn(t)?(e.consume(t),C):Xn(t)?(i=N,D(t)):Zn(t)?(e.consume(t),N):I(t)}function C(t){return 45===t||46===t||58===t||95===t||qn(t)?(e.consume(t),C):S(t)}function S(t){return 61===t?(e.consume(t),E):Xn(t)?(i=S,D(t)):Zn(t)?(e.consume(t),S):N(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),a=t,P):Xn(t)?(i=E,D(t)):Zn(t)?(e.consume(t),E):(e.consume(t),M)}function P(t){return t===a?(e.consume(t),a=void 0,T):null===t?n(t):Xn(t)?(i=P,D(t)):(e.consume(t),P)}function M(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Jn(t)?N(t):(e.consume(t),M)}function T(e){return 47===e||62===e||Jn(e)?N(e):n(e)}function I(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function D(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return Zn(t)?rr(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):R(t)}function R(t){return e.enter("htmlTextData"),i(t)}}};const Br={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&On(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,a,s,i=e.length,o=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(a){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(a=i);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[a][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=_n(s,e.slice(r+1,r+o+3)),s=_n(s,[["enter",u,t]]),s=_n(s,lr(t.parser.constructs.insideSpan.null,e.slice(r+o+4,a-3),t)),s=_n(s,[["exit",u,t],e[a-2],e[a-1],["exit",c,t]]),s=_n(s,e.slice(a+1)),s=_n(s,[["exit",l,t]]),On(e,r,e.length,s),e},tokenize:function(e,t,n){const r=this;let a,s,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return function(t){if(!a)return n(t);if(a._inactive)return u(t);return s=r.parser.defined.includes(Un(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(Ur,c,s?c:u)(t):91===t?e.attempt(Hr,c,s?l:u)(t):s?c(t):u(t)}function l(t){return e.attempt(qr,c,u)(t)}function c(e){return t(e)}function u(e){return a._balanced=!0,n(e)}}},Ur={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Jn(t)?Tr(e,a)(t):a(t)}function a(t){return 41===t?c(t):Er(e,s,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function s(t){return Jn(t)?Tr(e,o)(t):c(t)}function i(e){return n(e)}function o(t){return 34===t||39===t||40===t?Mr(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return Jn(t)?Tr(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Hr={tokenize:function(e,t,n){const r=this;return function(t){return Pr.call(r,e,a,s,"reference","referenceMarker","referenceString")(t)};function a(e){return r.parser.defined.includes(Un(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function s(e){return n(e)}}},qr={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Vr={name:"labelStartImage",resolveAll:Br.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),a};function a(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),s):n(t)}function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Wr={name:"labelStartLink",resolveAll:Br.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),a};function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Gr={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rr(e,t,"linePrefix")}}};const Yr={name:"thematicBreak",tokenize:function(e,t,n){let r,a=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,s(e)}(t)};function s(s){return s===r?(e.enter("thematicBreakSequence"),i(s)):a>=3&&(null===s||Xn(s))?(e.exit("thematicBreak"),t(s)):n(s)}function i(t){return t===r?(e.consume(t),a++,i):(e.exit("thematicBreakSequence"),Zn(t)?rr(e,s,"whitespace")(t):s(t))}}};const Kr={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hr,a,s);function a(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rr(e,t,"listItemIndent",r.containerState.size+1)(n)}function s(n){return r.containerState.furtherBlankLines||!Zn(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Jr,t,i)(n))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,rr(e,e.attempt(Kr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,i=0;return function(t){const a=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===a?!r.containerState.marker||t===r.containerState.marker:Gn(t)){if(r.containerState.type||(r.containerState.type=a,e.enter(a,{_container:!0})),"listUnordered"===a)return e.enter("listItemPrefix"),42===t||45===t?e.check(Yr,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return Gn(t)&&++i<10?(e.consume(t),o):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(hr,r.interrupt?n:c,e.attempt(Xr,d,u))}function c(e){return r.containerState.initialBlankLine=!0,s++,d(e)}function u(t){return Zn(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Xr={partial:!0,tokenize:function(e,t,n){const r=this;return rr(e,function(e){const a=r.events[r.events.length-1];return!Zn(e)&&a&&"listItemPrefixWhitespace"===a[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Jr={partial:!0,tokenize:function(e,t,n){const r=this;return rr(e,function(e){const a=r.events[r.events.length-1];return a&&"listItemIndent"===a[1].type&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const Zr={name:"setextUnderline",resolveTo:function(e,t){let n,r,a,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){n=s;break}"paragraph"===e[s][1].type&&(r=s)}else"content"===e[s][1].type&&e.splice(s,1),a||"definition"!==e[s][1].type||(a=s);const i={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",a?(e.splice(r,0,["enter",i,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=i;return e.push(["exit",i,t]),e},tokenize:function(e,t,n){const r=this;let a;return function(t){let i,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){i="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),a=t,function(t){return e.enter("setextHeadingLineSequence"),s(t)}(t);return n(t)};function s(t){return t===a?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),Zn(t)?rr(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||Xn(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const Qr={tokenize:function(e){const t=this,n=e.attempt(hr,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,rr(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Cr,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const ea={resolveAll:aa()},ta=ra("string"),na=ra("text");function ra(e){return{resolveAll:aa("text"===e?sa:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],a=t.attempt(r,s,i);return s;function s(e){return l(e)?a(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),a(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let a=-1;if(t)for(;++a<t.length;){const e=t[a];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function aa(e){return function(t,n){let r,a=-1;for(;++a<=t.length;)void 0===r?t[a]&&"data"===t[a][1].type&&(r=a,a++):t[a]&&"data"===t[a][1].type||(a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),a=r+2),r=void 0);return e?e(t,n):t}}function sa(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],a=t.sliceStream(r);let s,i=a.length,o=-1,l=0;for(;i--;){const e=a[i];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)s=!0,l++;else if(-1!==e){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const a={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...a.start},r.start.offset===r.end.offset?Object.assign(r,a):(e.splice(n,0,["enter",a,t],["exit",a,t]),n+=2)}n++}return e}const ia={42:Kr,43:Kr,45:Kr,48:Kr,49:Kr,50:Kr,51:Kr,52:Kr,53:Kr,54:Kr,55:Kr,56:Kr,57:Kr,62:pr},oa={91:Ir},la={[-2]:vr,[-1]:vr,32:vr},ca={35:Rr,42:Yr,45:[Zr,Yr],60:_r,61:Zr,95:Yr,96:xr,126:xr},ua={38:fr,92:mr},da={[-5]:Gr,[-4]:Gr,[-3]:Gr,33:Vr,38:fr,42:cr,60:[dr,Fr],91:Wr,92:[Ar,mr],93:Br,95:cr,96:yr},ha={null:[cr,ea]},pa=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:oa,disable:{null:[]},document:ia,flow:ca,flowInitial:la,insideSpan:ha,string:ua,text:da},Symbol.toStringTag,{value:"Module"}));function ma(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let i=[],o=[];const l={attempt:g(function(e,t){x(e,t.from)}),check:g(f),consume:function(e){Xn(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,v()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:g(f,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){a[e.line]=e.column,v()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let i;if("string"==typeof s)i=s;else switch(s){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&a)continue;i=" ";break;default:i=String.fromCharCode(s)}a=-2===s,r.push(i)}return r.join("")}(d(e),t)},sliceStream:d,write:function(e){if(i=_n(i,e),p(),null!==i[i.length-1])return[];return x(t,0),c.events=lr(s,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let i;if(n===a)i=[e[n].slice(r,s)];else{if(i=e.slice(n,a),r>-1){const e=i[0];"string"==typeof e?i[0]=e.slice(r):i.shift()}s>0&&i.push(e[a].slice(0,s))}return i}(i,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:a,offset:s}=r;return{_bufferIndex:e,_index:t,line:n,column:a,offset:s}}function p(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)m(t.charCodeAt(r._bufferIndex));else m(t)}}function m(e){u=u(e)}function f(e,t){t.restore()}function g(e,t){return function(n,a,s){let i,u,d,p;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return i=e,u=0,0===e.length?s:f(e[u])}function f(e){return function(n){p=function(){const e=h(),t=c.previous,n=c.currentConstruct,a=c.events.length,s=Array.from(o);return{from:a,restore:i};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=a,o=s,v()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return x();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,x)(n)}}function g(t){return e(d,p),a}function x(e){return p.restore(),++u<i.length?f(i[u]):s}}}function x(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&On(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function fa(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)$n(t,e[n]);return t}([pa,...(e||{}).extensions||[]]),n={constructs:t,content:r(ar),defined:[],document:r(sr),flow:r(Qr),lazy:{},string:r(ta),text:r(na)};return n;function r(e){return function(t){return ma(n,e,t)}}}const ga=/[\0\t\n\r]/g;const xa=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function va(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Bn(n.slice(t?2:1),t?16:10)}return zn(n)||e}const ba={}.hasOwnProperty;function ya(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(te),autolinkProtocol:C,autolinkEmail:C,atxHeading:s(J),blockQuote:s(W),characterEscape:C,characterReference:C,codeFenced:s(G),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:s(G,i),codeText:s(Y,i),codeTextData:C,data:C,codeFlowValue:C,definition:s(K),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:s(X),hardBreakEscape:s(Z),hardBreakTrailing:s(Z),htmlFlow:s(Q,i),htmlFlowData:C,htmlText:s(Q,i),htmlTextData:C,image:s(ee),label:i,link:s(te),listItem:s(re),listItemValue:h,listOrdered:s(ne,d),listUnordered:s(ne),paragraph:s(ae),reference:$,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:s(J),strong:s(se),thematicBreak:s(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:V,autolinkProtocol:q,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:U,characterReference:H,codeFenced:l(g),codeFencedFence:f,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:S,codeIndented:l(x),codeText:l(I),codeTextData:S,data:S,definition:l(),definitionDestinationString:y,definitionLabelString:v,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(M),htmlFlowData:S,htmlText:l(T),htmlTextData:S,image:l(A),label:z,labelText:R,lineEnding:E,link:l(D),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:F,resourceDestinationString:O,resourceTitleString:_,resource:L,setextHeading:l(N),setextHeadingLineSequence:j,setextHeadingText:k,strong:l(),thematicBreak:l()}};ka(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const s={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:i,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=a(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];ba.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||Na).call(s,void 0,e[0])}for(r.position={start:wa(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:wa(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function a(e,t,n){let r,a,s,i,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,i=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||i||l||s||(s=o),i=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:i=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=o;for(a=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;a&&(e[a][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",a=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!a||s<a)&&(r._spread=!0),r.end=Object.assign({},a?e[a][1].start:t[1].end),e.splice(a||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const a={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=a,e.splice(o,0,["enter",a,t[2]]),o++,n++,s=void 0,i=!0}}}return e[t][1]._spread=c,n}function s(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:wa(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+cn({start:e.start,end:e.end})+"): it’s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Na).call(this,e,r[0])}n.position.end=wa(e.end)}function u(){return function(e){return Dn(e,"boolean"!=typeof In.includeImageAlt||In.includeImageAlt,"boolean"!=typeof In.includeHtml||In.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function m(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Un(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function y(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function j(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function C(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ie(),n.position={start:wa(e.start),end:void 0},t.push(n)),this.stack.push(n)}function S(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=wa(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=wa(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(C.call(this,e),S.call(this,e))}function P(){this.data.atHardBreak=!0}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function A(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(xa,va)}(t),n.identifier=Un(t).toLowerCase()}function z(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function O(){const e=this.resume();this.stack[this.stack.length-1].url=e}function _(){const e=this.resume();this.stack[this.stack.length-1].title=e}function L(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function F(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Un(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function B(e){this.data.characterReferenceType=e.type}function U(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Bn(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=zn(t)}this.stack[this.stack.length-1].value+=r}function H(e){this.stack.pop().position.end=wa(e.end)}function q(e){S.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function V(e){S.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function K(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function Q(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!jr(e););return e}(fa(n).document().write(function(){let e,t=1,n="",r=!0;return function(a,s,i){const o=[];let l,c,u,d,h;for(a=n+("string"==typeof a?a.toString():new TextDecoder(s||void 0).decode(a)),u=0,n="",r&&(65279===a.charCodeAt(0)&&u++,r=void 0);u<a.length;){if(ga.lastIndex=u,l=ga.exec(a),d=l&&void 0!==l.index?l.index:a.length,h=a.charCodeAt(d),!l){n=a.slice(u);break}if(10===h&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(a.slice(u,d)),t+=d-u),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return i&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function wa(e){return{line:e.line,column:e.column,offset:e.offset}}function ka(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?ka(e,r):ja(e,r)}}function ja(e,t){let n;for(n in t)if(ba.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Na(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cn({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cn({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cn({start:t.start,end:t.end})+") is still open")}function Ca(e){const t=this;t.parser=function(n){return ya(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Sa(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&"text"===s.type?s.value="["+s.value:a.unshift({type:"text",value:"["});const i=a[a.length-1];return i&&"text"===i.type?i.value+=r:a.push({type:"text",value:r}),a}function Ea(e){const t=e.spread;return null==t?e.children.length>1:t}function Pa(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(Ma(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(Ma(t.slice(a),a>0,!1)),s.join("")}function Ma(e,t,n){let r=0,a=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(a-1);for(;9===t||32===t;)a--,t=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}const Ta={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=nr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let i,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Sa(e,t);const a={src:nr(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){const n={src:nr(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Sa(e,t);const a={href:nr(r.url||"")};null!==r.title&&void 0!==r.title&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){const n={href:nr(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),a=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ea(n[r])}return t}(n):Ea(t),s={},i=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(a||0!==o||"element"!==e.type||"p"!==e.tagName)&&i.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||a?i.push(e):i.push(...e.children)}const l=r[r.length-1];l&&(a||"element"!==l.type||"p"!==l.tagName)&&i.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:s,children:i};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let a=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++a<r.length;){const e=r[a];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),a.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=on(t.children[1]),i=sn(t.children[t.children.length-1]);s&&i&&(r.position={start:s,end:i}),a.push(r)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,a=0===(r?r.indexOf(t):1)?"th":"td",s=n&&"table"===n.type?n.align:void 0,i=s?s.length:t.children.length;let o=-1;const l=[];for(;++o<i;){const n=t.children[o],r={},i=s?s[o]:void 0;i&&(r.align=i);let c={type:"element",tagName:a,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:Pa(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Ia,yaml:Ia,definition:Ia,footnoteDefinition:Ia};function Ia(){}const Da="object"==typeof self?self:globalThis,Aa=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=a=>{if(e.has(a))return e.get(a);const[s,i]=t[a];switch(s){case 0:case-1:return n(i,a);case 1:{const e=n([],a);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},a);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),a);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),a)}case 5:{const e=n(new Map,a);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,a);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new Da[e](t),a)}case 8:return n(BigInt(i),a);case"BigInt":return n(Object(BigInt(i)),a);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:e}=new Uint8Array(i);return n(new DataView(e),i)}}return n(new Da[s](i),a)};return r})(new Map,e)(0),Ra="",{toString:za}={},{keys:Oa}=Object,_a=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=za.call(e).slice(8,-1);switch(n){case"Array":return[1,Ra];case"Object":return[2,Ra];case"Date":return[3,Ra];case"RegExp":return[4,Ra];case"Map":return[5,Ra];case"Set":return[6,Ra];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},La=([e,t])=>0===e&&("function"===t||"symbol"===t),$a=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const a=(e,t)=>{const a=r.push(e)-1;return n.set(t,a),a},s=r=>{if(n.has(r))return n.get(r);let[i,o]=_a(r);switch(i){case 0:{let t=r;switch(o){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return a([-1],r)}return a([i,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),a([o,[...e]],r)}const e=[],t=a([i,e],r);for(const n of r)e.push(s(n));return t}case 2:{if(o)switch(o){case"BigInt":return a([o,r.toString()],r);case"Boolean":case"Number":case"String":return a([o,r.valueOf()],r)}if(t&&"toJSON"in r)return s(r.toJSON());const n=[],l=a([i,n],r);for(const t of Oa(r))!e&&La(_a(r[t]))||n.push([s(t),s(r[t])]);return l}case 3:return a([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return a([i,{source:e,flags:t}],r)}case 5:{const t=[],n=a([i,t],r);for(const[a,i]of r)(e||!La(_a(a))&&!La(_a(i)))&&t.push([s(a),s(i)]);return n}case 6:{const t=[],n=a([i,t],r);for(const a of r)!e&&La(_a(a))||t.push(s(a));return n}}const{message:l}=r;return a([i,{name:o,message:l}],r)};return s})(!(t||n),!!t,new Map,r)(e),r},Fa="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Aa($a(e,t)):structuredClone(e):(e,t)=>Aa($a(e,t));function Ba(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ua(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Ha=function(e){if(null==e)return Va;if("function"==typeof e)return qa(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ha(e[n]);return qa(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return qa(n);function n(n){const r=n;let a;for(a in e)if(r[a]!==t[a])return!1;return!0}}(e);if("string"==typeof e)return function(e){return qa(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function qa(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Va(){return!0}const Wa=[],Ga=!0,Ya=!1;function Ka(e,t,n,r){let a;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):a=t;const s=Ha(a),i=r?-1:1;!function e(a,o,l){const c=a&&"object"==typeof a?a:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=Wa;if((!t||s(a,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[Ga,e];return null==e?Wa:[e]}(n(a,l)),h[0]===Ya))return h;if("children"in a&&a.children){const t=a;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+i,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===Ya)return c;u="number"==typeof c[1]?c[1]:u+i}}return h}}(e,void 0,[])()}function Xa(e,t,n,r){let a,s,i;"function"==typeof t&&"function"!=typeof n?(s=void 0,i=t,a=n):(s=t,i=n,a=r),Ka(e,s,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return i(e,r,n)},a)}const Ja={}.hasOwnProperty,Za={};function Qa(e,t){e.position&&(t.position=function(e){const t=on(e),n=sn(e);if(t&&n)return{start:t,end:n}}(e))}function es(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,a=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&a&&Object.assign(n.properties,Fa(a)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function ts(e,t){const n=t.data||{},r=!("value"in t)||Ja.call(n,"hProperties")||Ja.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function ns(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function rs(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function as(e,t){const n=function(e,t){const n=t||Za,r=new Map,a=new Map,s=new Map,i={...Ta,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const a=o.one(n[r],e);if(a){if(r&&"break"===n[r-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=rs(a.value)),!Array.isArray(a)&&"element"===a.type)){const e=a.children[0];e&&"text"===e.type&&(e.value=rs(e.value))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t},applyData:es,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:i,one:function(e,t){const n=e.type,r=o.handlers[n];if(Ja.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=Fa(n);return r.children=o.all(e),r}return Fa(e)}return(o.options.unknownHandler||ts)(o,e,t)},options:n,patch:Qa,wrap:ns};return Xa(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:a,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),r=n.one(e,void 0),a=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ba,r=e.options.footnoteBackLabel||Ua,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const a=e.footnoteById.get(e.footnoteOrder[l]);if(!a)continue;const s=e.all(a),i=String(a.identifier).toUpperCase(),c=nr(i.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(i);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=s[s.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else s.push(...d);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(s,!0)};e.patch(a,m),o.push(m)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Fa(i),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:"\n"},a),s}function ss(e,t){return e&&"run"in e?async function(n,r){const a=as(n,{file:r,...t});await e.run(a,r)}:function(n,r){return as(n,{file:r,...e||t})}}function is(e){if(e)throw e}var os=Object.prototype.hasOwnProperty,ls=Object.prototype.toString,cs=Object.defineProperty,us=Object.getOwnPropertyDescriptor,ds=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===ls.call(e)},hs=function(e){if(!e||"[object Object]"!==ls.call(e))return!1;var t,n=os.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&os.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||os.call(e,t)},ps=function(e,t){cs&&"__proto__"===t.name?cs(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ms=function(e,t){if("__proto__"===t){if(!os.call(e,t))return;if(us)return us(e,t).value}return e[t]},fs=function e(){var t,n,r,a,s,i,o=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),(null==o||"object"!=typeof o&&"function"!=typeof o)&&(o={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=ms(o,n),o!==(a=ms(t,n))&&(u&&a&&(hs(a)||(s=ds(a)))?(s?(s=!1,i=r&&ds(r)?r:[]):i=r&&hs(r)?r:{},ps(o,{name:n,newValue:e(u,i,a)})):void 0!==a&&ps(o,{name:n,newValue:a}));return o};const gs=r(fs);function xs(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function vs(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function a(s,...i){const o=e[++n];let l=-1;if(s)r(s);else{for(;++l<t.length;)null!==i[l]&&void 0!==i[l]||(i[l]=t[l]);t=i,o?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let o;r&&t.push(a);try{o=e.apply(this,t)}catch(s){if(r&&n)throw s;return a(s)}r||(o&&o.then&&"function"==typeof o.then?o.then(i,a):o instanceof Error?a(o):i(o))}function a(e,...r){n||(n=!0,t(e,...r))}function i(e){a(null,e)}}(o,a)(...i):r(null,...i)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const bs={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');ys(e);let n,r=0,a=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else a<0&&(n=!0,a=s+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let i=-1,o=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else i<0&&(n=!0,i=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(a=s):(o=-1,a=i));r===a?a=i:a<0&&(a=e.length);return e.slice(r,a)},dirname:function(e){if(ys(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){ys(e);let t,n=e.length,r=-1,a=0,s=-1,i=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?s<0?s=n:1!==i&&(i=1):s>-1&&(i=-1);else if(t){a=n+1;break}}if(s<0||r<0||0===i||1===i&&s===r-1&&s===a+1)return"";return e.slice(s,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)ys(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){ys(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,a="",s=0,i=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(a.length<2||2!==s||46!==a.codePointAt(a.length-1)||46!==a.codePointAt(a.length-2))if(a.length>2){if(r=a.lastIndexOf("/"),r!==a.length-1){r<0?(a="",s=0):(a=a.slice(0,r),s=a.length-1-a.lastIndexOf("/")),i=l,o=0;continue}}else if(a.length>0){a="",s=0,i=l,o=0;continue}t&&(a=a.length>0?a+"/..":"..",s=2)}else a.length>0?a+="/"+e.slice(i+1,l):a=e.slice(i+1,l),s=l-i-1;i=l,o=0}else 46===n&&o>-1?o++:o=-1}return a}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function ys(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ws={cwd:function(){return"/"}};function ks(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function js(e){if("string"==typeof e)e=new URL(e);else if(!ks(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Ns=["history","path","basename","stem","extname","dirname"];class Cs{constructor(e){let t;t=e?ks(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":ws.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<Ns.length;){const e=Ns[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Ns.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?bs.basename(this.path):void 0}set basename(e){Es(e,"basename"),Ss(e,"basename"),this.path=bs.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?bs.dirname(this.path):void 0}set dirname(e){Ps(this.basename,"dirname"),this.path=bs.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?bs.extname(this.path):void 0}set extname(e){if(Ss(e,"extname"),Ps(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ks(e)&&(e=js(e)),Es(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?bs.basename(this.path,this.extname):void 0}set stem(e){Es(e,"stem"),Ss(e,"stem"),this.path=bs.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new pn(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Ss(e,t){if(e&&e.includes(bs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+bs.sep+"`")}function Es(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ps(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Ms=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Ts={}.hasOwnProperty;class Is extends Ms{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vs()}copy(){const e=new Is;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(gs(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(zs("data",this.frozen),this.namespace[e]=t,this):Ts.call(this.namespace,e)&&this.namespace[e]||void 0:e?(zs("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ls(e),n=this.parser||this.Parser;return As("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),As("process",this.parser||this.Parser),Rs("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,a){const s=Ls(e),i=n.parse(s);function o(e,n){e||!n?a(e):r?r(n):t(void 0,n)}n.run(i,s,function(e,t,r){if(e||!t||!r)return o(e);const a=t,s=n.stringify(a,r);var i;"string"==typeof(i=s)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(i)?r.value=s:r.result=s,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),As("processSync",this.parser||this.Parser),Rs("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,is(e),t=r}),_s("processSync","process",n),t}run(e,t,n){Os(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?a(void 0,n):new Promise(a);function a(a,s){const i=Ls(t);r.run(e,i,function(t,r,i){const o=r||e;t?s(t):a?a(o):n(void 0,o,i)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){is(e),n=t,r=!0}),_s("runSync","run",r),n}stringify(e,t){this.freeze();const n=Ls(t),r=this.compiler||this.Compiler;return Rs("stringify",r),Os(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(zs("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?i(e):s(e)}return this;function a(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else s(e)}}function s(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(e.plugins),e.settings&&(r.settings=gs(!0,r.settings,e.settings))}function i(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){a(e[t])}}}function o(e,t){let r=-1,a=-1;for(;++r<n.length;)if(n[r][0]===e){a=r;break}if(-1===a)n.push([e,...t]);else if(t.length>0){let[r,...s]=t;const i=n[a][1];xs(i)&&xs(r)&&(r=gs(!0,i,r)),n[a]=[e,r,...s]}}}}const Ds=(new Is).freeze();function As(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Rs(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function zs(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Os(e){if(!xs(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function _s(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ls(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new Cs(e)}const $s=[],Fs={allowDangerousHtml:!0},Bs=/^(https?|ircs?|mailto|xmpp)$/i,Us=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Hs(t){const n=function(e){const t=e.rehypePlugins||$s,n=e.remarkPlugins||$s,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fs}:Fs,a=Ds().use(Ca).use(n).use(ss,r).use(t);return a}(t),r=function(e){const t=e.children||"",n=new Cs;"string"==typeof t&&(n.value=t);return n}(t);return function(t,n){const r=n.allowedElements,a=n.allowElement,s=n.components,i=n.disallowedElements,o=n.skipHtml,l=n.unwrapDisallowed,c=n.urlTransform||qs;for(const e of Us)Object.hasOwn(n,e.from)&&We((e.from,e.to&&e.to,e.id));n.className&&(t={type:"element",tagName:"div",properties:{className:n.className},children:"root"===t.type?t.children:[t]});return Xa(t,u),yn(t,{Fragment:e.Fragment,components:s,ignoreInvalidStyle:!0,jsx:e.jsx,jsxs:e.jsxs,passKeys:!0,passNode:!0});function u(e,t,n){if("raw"===e.type&&n&&"number"==typeof t)return o?n.children.splice(t,1):n.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Tn)if(Object.hasOwn(Tn,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Tn[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=c(String(n||""),t,e))}}if("element"===e.type){let s=r?!r.includes(e.tagName):!!i&&i.includes(e.tagName);if(!s&&a&&"number"==typeof t&&(s=!a(e,t,n)),s&&n&&"number"==typeof t)return l&&e.children?n.children.splice(t,1,...e.children):n.children.splice(t,1),t}}}(n.runSync(n.parse(r),r),t)}function qs(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return-1===t||-1!==a&&t>a||-1!==n&&t>n||-1!==r&&t>r||Bs.test(e.slice(0,t))?e:""}const Vs=({content:n})=>{const[r,a]=t.useState(!0);return n?e.jsxs("div",{className:"mb-4 border border-indigo-100 dark:border-indigo-900 rounded-lg overflow-hidden bg-indigo-50/50 dark:bg-indigo-950/30",children:[e.jsxs("button",{onClick:()=>a(!r),className:"w-full flex items-center justify-between p-3 bg-indigo-50 dark:bg-indigo-900/50 hover:bg-indigo-100 dark:hover:bg-indigo-900/70 transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 text-indigo-700 dark:text-indigo-300",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Planejamento & Raciocínio"})]}),r?e.jsx(P,{className:"h-4 w-4 text-indigo-400"}):e.jsx(M,{className:"h-4 w-4 text-indigo-400"})]}),r&&e.jsxs("div",{className:"p-3 text-sm text-indigo-900 dark:text-indigo-100 border-t border-indigo-100 dark:border-indigo-900/50 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("div",{className:"prose prose-sm prose-indigo dark:prose-invert max-w-none",children:e.jsx(Hs,{children:n})}),e.jsxs("div",{className:"mt-3 flex items-center gap-1.5 text-xs text-indigo-500/70 dark:text-indigo-400/50 font-medium",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsx("span",{children:"Análise completada pela IA"})]})]})]}):null},Ws=a.memo(function({message:n,onActionComplete:r}){const a="user"===n.role,[s,i]=t.useState({}),[o,l]=t.useState({}),c=n.content.match(/<antigravity_thinking>([\s\S]*?)<\/antigravity_thinking>/),p=c?c[1].trim():null,m=n.content.replace(/<antigravity_thinking>[\s\S]*?<\/antigravity_thinking>/,"").trim(),f=/!\[([^\]]*)\]\(([^)]+)\)|(https?:\/\/[^\s]+\.(?:png|jpg|jpeg|gif|webp|svg)(?:\?[^\s]*)?)/gi,g=/(https?:\/\/[^\s]+\.(?:mp4|webm|ogg|mov)(?:\?[^\s]*)?)/gi,x=Array.from(m.matchAll(f)),v=Array.from(m.matchAll(g)),b=x.map(e=>e[2]?{url:e[2],alt:e[1]||"Imagem"}:e[3]?{url:e[3],alt:"Imagem"}:null).filter(Boolean),y=v.map(e=>e[1]);let w=m;return b.forEach(e=>{w=w.replace(e.url,"")}),y.forEach(e=>{w=w.replace(e,"")}),w=w.replace(f,"").replace(g,"").trim(),b.length>0||y.length>0||n.attachments&&n.attachments.length,e.jsxs("div",{className:u("flex gap-3 p-4",a?"justify-end":"justify-start"),children:[!a&&e.jsx(d,{className:"h-8 w-8 shrink-0",children:e.jsx(h,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:e.jsx(I,{className:"h-5 w-5"})})}),e.jsxs("div",{className:u("flex flex-col gap-2 max-w-[80%]",a&&"items-end"),children:[!a&&p&&e.jsx(Vs,{content:p}),w&&e.jsx("div",{className:u("rounded-lg px-4 py-2",a?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700"),children:a?e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w}):e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.jsx(Hs,{children:w})})}),b.length>0&&e.jsx("div",{className:u("flex flex-col gap-2",a?"items-end":"items-start"),children:b.map((t,n)=>e.jsx("div",{className:"relative rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow bg-white dark:bg-gray-800",children:s[t.url]?e.jsxs("div",{className:"flex items-center gap-2 p-4 text-gray-500",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:"Erro ao carregar imagem"}),e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["Abrir em nova aba ",e.jsx(S,{className:"h-3 w-3"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.url,alt:t.alt,className:"max-w-sm max-h-96 object-contain",onError:()=>i(e=>({...e,[t.url]:!0})),loading:"lazy"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-white text-xs flex items-center gap-1 hover:underline",children:[e.jsx(A,{className:"h-3 w-3"}),"Baixar imagem"]})})]})},`extracted-img-${n}`))}),y.length>0&&e.jsx("div",{className:u("flex flex-col gap-2",a?"items-end":"items-start"),children:y.map((t,n)=>e.jsx("div",{className:"relative rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 shadow-sm bg-black",children:o[t]?e.jsxs("div",{className:"flex items-center gap-2 p-4 text-gray-500",children:[e.jsx(R,{className:"h-5 w-5"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:"Erro ao carregar vídeo"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["Abrir em nova aba ",e.jsx(S,{className:"h-3 w-3"})]})]})]}):e.jsx("video",{src:t,controls:!0,className:"max-w-sm max-h-96",onError:()=>l(e=>({...e,[t]:!0})),preload:"metadata",children:"Seu navegador não suporta vídeos."})},`extracted-video-${n}`))}),n.attachments&&n.attachments.length>0&&e.jsx("div",{className:u("flex flex-col gap-2",a?"items-end":"items-start"),children:n.attachments.map((t,n)=>e.jsxs("div",{className:"rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:["image"===t.type&&e.jsxs("div",{className:"relative bg-white dark:bg-gray-800",children:[e.jsx("img",{src:t.url,alt:t.name||"Anexo",className:"max-w-sm max-h-96 object-contain",loading:"lazy"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:e.jsxs("div",{className:"flex items-center justify-between text-white text-xs",children:[e.jsx("span",{children:t.name||"Imagem"}),e.jsx("a",{href:t.url,download:!0,className:"flex items-center gap-1 hover:underline",children:e.jsx(A,{className:"h-3 w-3"})})]})})]}),"video"===t.type&&e.jsx("div",{className:"bg-black",children:e.jsx("video",{src:t.url,controls:!0,className:"max-w-sm max-h-96",preload:"metadata",children:"Seu navegador não suporta vídeos."})}),"file"===t.type&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name||"Arquivo"}),t.size&&e.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}),e.jsx("a",{href:t.url,download:!0,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]})]},`attachment-${n}`))}),!a&&"integration_connect"===n.action?.type&&e.jsx(qe,{platform:n.action.platform,userId:n.action.userId,onSkip:r,onSuccess:r,onError:e=>{}}),n.timestamp&&e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(n.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),a&&e.jsx(d,{className:"h-8 w-8 shrink-0",children:e.jsx(h,{className:"bg-gradient-to-br from-gray-600 to-gray-700 text-white",children:e.jsx(z,{className:"h-5 w-5"})})})]})});function Gs(){const{toast:e}=p(),n=t.useCallback((t,n={})=>{const{showToast:r=!0,context:a="Modal",userMessage:s}=n,i=t instanceof Error?t.message:"Erro desconhecido";return r&&e({title:"Algo deu errado",description:s||i,variant:"destructive"}),i},[e]),r=t.useCallback(async(e,t={})=>{try{return await e()}catch(r){return n(r,t),null}},[n]),a=t.useCallback(async(e,t=3,n=1e3)=>{let r;for(let s=1;s<=t;s++)try{return await e()}catch(a){if(r=a,s<t){const e=n*Math.pow(2,s-1);await new Promise(t=>setTimeout(t,e))}}throw r},[]);return{handleError:n,withErrorHandling:r,withRetry:a}}function Ys(){const[e,n]=t.useState(!1),[r,a]=t.useState(""),{handleError:s,withRetry:i}=Gs(),o=m(e=>e.addMessage),l=m(e=>e.setAssistantTyping),c=f(e=>e.user),u=t.useCallback(async(e,t={})=>{if(!c)throw new Error("Usuário não autenticado");const{conversationId:r,context:u="chat",systemPrompt:h,model:p="claude"}=t;n(!0),a(""),l(!0);try{r&&await o(c.id,r,{role:"user",content:e});return await i(async()=>{const t=await fetch("/api/chat-stream",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.id}`},body:JSON.stringify({message:e,conversationId:r,context:u,systemPrompt:h,model:p,userId:c.id})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao enviar mensagem")}return await d(t,r)},2)}catch(m){throw s(m,{context:"Chat Stream",userMessage:"Não foi possível enviar sua mensagem. Tente novamente."}),m}finally{n(!1),l(!1)}},[c,o,l,s,i]),d=async(e,t)=>{const n=e.body?.getReader();if(!n)throw new Error("Stream não disponível");const r=new TextDecoder;let s="";try{for(;;){const{done:e,value:t}=await n.read();if(e)break;const i=r.decode(t,{stream:!0}).split("\n");for(const n of i){if(!n.trim()||!n.startsWith("data: "))continue;const e=n.slice(6);if("[DONE]"===e)break;try{const t=JSON.parse(e);if(t.content&&(s+=t.content,a(s)),t.error)throw new Error(t.error)}catch(Wo){if(Wo instanceof SyntaxError)continue;throw Wo}}}return t&&s&&c&&await o(c.id,t,{role:"assistant",content:s}),s}finally{n.releaseLock()}};return{sendMessage:u,cancelStream:t.useCallback(()=>{n(!1),l(!1),a("")},[l]),isStreaming:e,streamedContent:r}}function Ks(e){const n=[];return e.onSend&&n.push({key:"Enter",ctrl:!0,callback:e.onSend,description:"Enviar mensagem"}),e.onClose&&n.push({key:"Escape",callback:e.onClose,description:"Fechar"}),e.onClear&&n.push({key:"K",ctrl:!0,callback:e.onClear,description:"Limpar"}),function(e,n={}){const{enabled:r=!0,target:a=document}=n,s=t.useCallback(t=>{const n=t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement;for(const r of e){const e=void 0===r.ctrl||r.ctrl===(t.ctrlKey||t.metaKey),a=void 0===r.shift||r.shift===t.shiftKey,s=void 0===r.alt||r.alt===t.altKey,i=t.key.toLowerCase()===r.key.toLowerCase();if(e&&a&&s&&i){if(n&&(!r.ctrl||"Enter"!==r.key))continue;t.preventDefault(),r.callback();break}}},[e]);t.useEffect(()=>{if(!r)return;const e=a;return e.addEventListener("keydown",s),()=>{e.removeEventListener("keydown",s)}},[r,a,s]),t.useCallback(e=>{const t=[];e.ctrl&&t.push("Ctrl"),e.shift&&t.push("Shift"),e.alt&&t.push("Alt");const n="Enter"===e.key?"↵":"Escape"===e.key?"Esc":e.key.toUpperCase();return t.push(n),t.join(" + ")},[])}(n),n}const Xs=[{icon:"🎯",text:"Criar uma campanha de anúncios"},{icon:"📊",text:"Analisar métricas da campanha"},{icon:"💡",text:"Dar ideias para conteúdo"},{icon:"🎨",text:"Criar uma imagem para anúncio"}];function Js({onSendMessage:n,onDetectContext:r,onSwitchModal:a,userId:s,isExpanded:i}){const[o,l]=t.useState(""),[c,d]=t.useState(!1),h=t.useRef(null),p=t.useRef(null),g=t.useRef(null);f(e=>e.user);const x=m(e=>e.conversations),k=m(e=>e.activeConversationId),j=m(e=>e.isAssistantTyping),N=x.find(e=>e.id===k),C=N?.messages||[],{sendMessage:S,isStreaming:E,streamedContent:P}=Ys();Gs(),Ks({onSend:()=>{o.trim()&&!E&&M()}});t.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[C,j,P]),t.useEffect(()=>{if(o.trim()&&r){const e=setTimeout(()=>{r(o)},500);return()=>clearTimeout(e)}},[o,r]),t.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const M=async()=>{if(!o.trim()||E)return;const e=o.trim();l("");try{n?.(e),await S(e,{conversationId:k,context:"chat"}),p.current?.focus()}catch(t){}},T=[{label:"Carregar Arquivo",icon:oe,action:()=>{const e=document.createElement("input");e.type="file",e.onchange=e=>{},e.click()},color:"text-blue-400"},{label:"Criar Imagem",icon:we,action:()=>a?.("image-gallery"),color:"text-pink-400"},{label:"Criar Site",icon:K,action:()=>a?.("visual-editor"),color:"text-purple-400"},{label:"Criar Vídeo",icon:Pe,action:()=>a?.("video-gallery"),color:"text-orange-400"}];return e.jsxs("div",{className:"flex flex-col h-full",role:"region","aria-label":"Chat com IA",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-4 py-6 space-y-6",role:"log","aria-live":"polite",children:[0===C.length?e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center space-y-6",children:[e.jsx(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center shadow-2xl shadow-blue-600/50",children:e.jsx(U,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Como posso ajudar hoje?"}),e.jsx("p",{className:"text-gray-400 max-w-md",children:"Sou seu assistente de marketing digital especializado em SyncAds. Pergunte-me qualquer coisa!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-2xl mt-8",children:Xs.map((t,n)=>e.jsxs(F.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},onClick:()=>(e=>{l(e),p.current?.focus()})(t.text),className:u("group relative p-4 rounded-xl","bg-white/5 hover:bg-white/10","border border-white/10 hover:border-blue-500/50","transition-all duration-200","text-left"),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-300 group-hover:text-white transition-colors",children:t.text})})]}),e.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-600/0 via-blue-600/5 to-purple-600/0 opacity-0 group-hover:opacity-100 transition-opacity"})]},n))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{initial:!1,children:C.map((t,n)=>e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(Ws,{message:t})},t.id||n))}),e.jsx(B,{children:j&&e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center shadow-lg",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"flex-1 bg-white/5 rounded-2xl px-4 py-3 border border-white/10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.2},className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.4},className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Pensando..."})]})})]})})]}),e.jsx("div",{ref:h})]}),e.jsx("div",{className:"border-t border-white/10 bg-black/20 backdrop-blur-sm",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"relative flex items-end gap-3 p-3 bg-white/5 border border-white/10 rounded-xl transition-all duration-200 focus-within:ring-2 focus-within:ring-blue-500/50 focus-within:border-blue-500/50",children:[e.jsxs("div",{className:"relative",ref:g,children:[e.jsx(F.button,{onClick:()=>d(!c),className:u("p-2 rounded-lg transition-colors",c?"bg-blue-600 text-white":"bg-white/10 text-gray-400 hover:bg-white/20 hover:text-white"),whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Abrir menu de opções",children:e.jsx(b,{className:u("w-5 h-5 transition-transform",c&&"rotate-45")})}),e.jsx(B,{children:c&&e.jsx(F.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:-10,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute bottom-full left-0 mb-2 w-56 p-2 bg-gray-900 border border-white/10 rounded-xl shadow-xl z-50 backdrop-blur-md",children:e.jsx("div",{className:"space-y-1",children:T.map((t,n)=>e.jsxs(F.button,{onClick:()=>((0,t.action)(),void d(!1)),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-white/10 transition-colors text-left group",whileHover:{x:4},children:[e.jsx("div",{className:u("p-1.5 rounded-md bg-white/5 group-hover:bg-white/10 transition-colors",t.color),children:e.jsx(t.icon,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm text-gray-300 group-hover:text-white font-medium",children:t.label})]},n))})})})]}),e.jsx(y,{ref:p,value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),M())},placeholder:"Digite sua mensagem... (Ctrl+Enter para enviar)",minRows:1,maxRows:6,disabled:E,className:"flex-1 bg-transparent border-none text-white placeholder:text-gray-500 focus:outline-none resize-none py-2 max-h-40"}),e.jsx(F.button,{onClick:M,disabled:!o.trim()||E,className:u("p-2 rounded-lg transition-all duration-200",o.trim()&&!E?"bg-blue-600 text-white shadow-lg shadow-blue-600/30 hover:bg-blue-700":"bg-white/5 text-gray-500 cursor-not-allowed"),whileHover:o.trim()&&!E?{scale:1.05}:{},whileTap:o.trim()&&!E?{scale:.95}:{},children:E?e.jsx(H,{className:"w-5 h-5 animate-spin"}):e.jsx(w,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 px-1",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-white/10 rounded",children:"Ctrl"})," +"," ",e.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-white/10 rounded",children:"Enter"})," para enviar"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[o.length," / 2000"]})]})]})})]})}var Zs=Array(12).fill(0),Qs=({visible:e,className:t})=>a.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},a.createElement("div",{className:"sonner-spinner"},Zs.map((e,t)=>a.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ei=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ti=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},a.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ni=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ri=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ai=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),si=1,ii=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:si++,s=this.toasts.find(e=>e.id===a),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:n}),{...t,...e,id:a,dismissible:i,title:n}):t):this.addToast({title:n,...r,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r,s=e instanceof Promise?e:e(),i=void 0!==n,o=s.then(async e=>{if(r=["resolve",e],a.isValidElement(e))i=!1,this.create({id:n,type:"default",message:e});else if(oi(e)&&!e.ok){i=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:a})}else if(void 0!==t.success){i=!1;let r="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:a})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){i=!1;let r="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:a})}}).finally(()=>{var e;i&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),l=()=>new Promise((e,t)=>o.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||si++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oi=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,li=(e,t)=>{let n=(null==t?void 0:t.id)||si++;return ii.addToast({title:e,...t,id:n}),n},ci=Object.assign(li,{success:ii.success,info:ii.info,warning:ii.warning,error:ii.error,custom:ii.custom,message:ii.message,promise:ii.promise,dismiss:ii.dismiss,loading:ii.loading},{getHistory:()=>ii.toasts,getToasts:()=>ii.getActiveToasts()});function ui(e){return void 0!==e.label}!function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var di=3,hi=14;function pi(...e){return e.filter(Boolean).join(" ")}var mi=e=>{var n,r,s,i,o,l,c,u,d,h,p;let{invert:m,toast:f,unstyled:g,interacting:x,setHeights:v,visibleToasts:b,heights:y,index:w,toasts:k,expanded:j,removeToast:N,defaultRichColors:C,closeButton:S,style:E,cancelButtonStyle:P,actionButtonStyle:M,className:T="",descriptionClassName:I="",duration:D,position:A,gap:R,loadingIcon:z,expandByDefault:O,classNames:_,icons:L,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:F}=e,[B,U]=a.useState(null),[H,q]=a.useState(null),[V,W]=a.useState(!1),[G,Y]=a.useState(!1),[K,X]=a.useState(!1),[J,Z]=a.useState(!1),[Q,ee]=a.useState(!1),[te,ne]=a.useState(0),[re,ae]=a.useState(0),se=a.useRef(f.duration||D||4e3),ie=a.useRef(null),oe=a.useRef(null),le=0===w,ce=w+1<=b,ue=f.type,de=!1!==f.dismissible,he=f.className||"",pe=f.descriptionClassName||"",me=a.useMemo(()=>y.findIndex(e=>e.toastId===f.id)||0,[y,f.id]),fe=a.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:S},[f.closeButton,S]),ge=a.useMemo(()=>f.duration||D||4e3,[f.duration,D]),xe=a.useRef(0),ve=a.useRef(0),be=a.useRef(0),ye=a.useRef(null),[we,ke]=A.split("-"),je=a.useMemo(()=>y.reduce((e,t,n)=>n>=me?e:e+t.height,0),[y,me]),Ne=(()=>{let[e,t]=a.useState(document.hidden);return a.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),Ce=f.invert||m,Se="loading"===ue;ve.current=a.useMemo(()=>me*R+je,[me,je]),a.useEffect(()=>{se.current=ge},[ge]),a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{let e=oe.current;if(e){let t=e.getBoundingClientRect().height;return ae(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),a.useLayoutEffect(()=>{if(!V)return;let e=oe.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,ae(n),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:n}:e):[{toastId:f.id,height:n,position:f.position},...e])},[V,f.title,f.description,v,f.id]);let Ee=a.useCallback(()=>{Y(!0),ne(ve.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{N(f)},200)},[f,N,v,ve]);return a.useEffect(()=>{if(f.promise&&"loading"===ue||f.duration===1/0||"loading"===f.type)return;let e;return j||x||F&&Ne?(()=>{if(be.current<xe.current){let e=(new Date).getTime()-xe.current;se.current=se.current-e}be.current=(new Date).getTime()})():se.current!==1/0&&(xe.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),Ee()},se.current)),()=>clearTimeout(e)},[j,x,f,ue,F,Ne,Ee]),a.useEffect(()=>{f.delete&&Ee()},[Ee,f.delete]),a.createElement("li",{tabIndex:0,ref:oe,className:pi(T,he,null==_?void 0:_.toast,null==(n=null==f?void 0:f.classNames)?void 0:n.toast,null==_?void 0:_.default,null==_?void 0:_[ue],null==(r=null==f?void 0:f.classNames)?void 0:r[ue]),"data-sonner-toast":"","data-rich-colors":null!=(s=f.richColors)?s:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":V,"data-promise":!!f.promise,"data-swiped":Q,"data-removed":G,"data-visible":ce,"data-y-position":we,"data-x-position":ke,"data-index":w,"data-front":le,"data-swiping":K,"data-dismissible":de,"data-type":ue,"data-invert":Ce,"data-swipe-out":J,"data-swipe-direction":H,"data-expanded":!!(j||O&&V),style:{"--index":w,"--toasts-before":w,"--z-index":k.length-w,"--offset":`${G?te:ve.current}px`,"--initial-height":O?"auto":`${re}px`,...E,...f.style},onDragEnd:()=>{X(!1),U(null),ye.current=null},onPointerDown:e=>{Se||!de||(ie.current=new Date,ne(ve.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(X(!0),ye.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(J||!de)return;ye.current=null;let a=Number((null==(e=oe.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=oe.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(n=ie.current)?void 0:n.getTime()),o="x"===B?a:s,l=Math.abs(o)/i;if(Math.abs(o)>=20||l>.11)return ne(ve.current),null==(r=f.onDismiss)||r.call(f,f),q("x"===B?a>0?"right":"left":s>0?"down":"up"),Ee(),Z(!0),void ee(!1);X(!1),U(null)},onPointerMove:t=>{var n,r,a,s;if(!ye.current||!de||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let i=t.clientY-ye.current.y,o=t.clientX-ye.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(A);!B&&(Math.abs(o)>1||Math.abs(i)>1)&&U(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===B?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&i<0||l.includes("bottom")&&i>0)&&(c.y=i):"x"===B&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&o<0||l.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(a=oe.current)||a.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(s=oe.current)||s.style.setProperty("--swipe-amount-y",`${c.y}px`)}},fe&&!f.jsx?a.createElement("button",{"aria-label":$,"data-disabled":Se,"data-close-button":!0,onClick:Se||!de?()=>{}:()=>{var e;Ee(),null==(e=f.onDismiss)||e.call(f,f)},className:pi(null==_?void 0:_.closeButton,null==(i=null==f?void 0:f.classNames)?void 0:i.closeButton)},null!=(o=null==L?void 0:L.close)?o:ai):null,f.jsx||t.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:a.createElement(a.Fragment,null,ue||f.icon||f.promise?a.createElement("div",{"data-icon":"",className:pi(null==_?void 0:_.icon,null==(l=null==f?void 0:f.classNames)?void 0:l.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||function(){var e,t,n;return null!=L&&L.loading?a.createElement("div",{className:pi(null==_?void 0:_.loader,null==(e=null==f?void 0:f.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ue},L.loading):z?a.createElement("div",{className:pi(null==_?void 0:_.loader,null==(t=null==f?void 0:f.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ue},z):a.createElement(Qs,{className:pi(null==_?void 0:_.loader,null==(n=null==f?void 0:f.classNames)?void 0:n.loader),visible:"loading"===ue})}():null,"loading"!==f.type?f.icon||(null==L?void 0:L[ue])||(e=>{switch(e){case"success":return ei;case"info":return ni;case"warning":return ti;case"error":return ri;default:return null}})(ue):null):null,a.createElement("div",{"data-content":"",className:pi(null==_?void 0:_.content,null==(c=null==f?void 0:f.classNames)?void 0:c.content)},a.createElement("div",{"data-title":"",className:pi(null==_?void 0:_.title,null==(u=null==f?void 0:f.classNames)?void 0:u.title)},"function"==typeof f.title?f.title():f.title),f.description?a.createElement("div",{"data-description":"",className:pi(I,pe,null==_?void 0:_.description,null==(d=null==f?void 0:f.classNames)?void 0:d.description)},"function"==typeof f.description?f.description():f.description):null),t.isValidElement(f.cancel)?f.cancel:f.cancel&&ui(f.cancel)?a.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:e=>{var t,n;ui(f.cancel)&&de&&(null==(n=(t=f.cancel).onClick)||n.call(t,e),Ee())},className:pi(null==_?void 0:_.cancelButton,null==(h=null==f?void 0:f.classNames)?void 0:h.cancelButton)},f.cancel.label):null,t.isValidElement(f.action)?f.action:f.action&&ui(f.action)?a.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:e=>{var t,n;ui(f.action)&&(null==(n=(t=f.action).onClick)||n.call(t,e),!e.defaultPrevented&&Ee())},className:pi(null==_?void 0:_.actionButton,null==(p=null==f?void 0:f.classNames)?void 0:p.actionButton)},f.action.label):null))};function fi(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function gi(e,t){let n={};return[e,t].forEach((e,t)=>{let r=1===t,a=r?"--mobile-offset":"--offset",s=r?"16px":"32px";function i(e){["top","right","bottom","left"].forEach(t=>{n[`${a}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${a}-${t}`]=s:n[`${a}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(s)}),n}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach(function(t){vi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach(function(t){wi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ni(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t.apply(n,[].concat(a,r))}}}function Ci(e){return{}.toString.call(e).includes("Object")}function Si(e){return"function"==typeof e}t.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:u,mobileOffset:d,theme:h="light",richColors:p,duration:m,style:f,visibleToasts:g=di,toastOptions:x,dir:v=fi(),gap:b=hi,loadingIcon:y,icons:w,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:j}=e,[N,C]=a.useState([]),S=a.useMemo(()=>Array.from(new Set([r].concat(N.filter(e=>e.position).map(e=>e.position)))),[N,r]),[E,P]=a.useState([]),[M,T]=a.useState(!1),[I,D]=a.useState(!1),[A,R]=a.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=a.useRef(null),O=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=a.useRef(null),L=a.useRef(!1),$=a.useCallback(e=>{C(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||ii.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return a.useEffect(()=>ii.subscribe(e=>{e.dismiss?C(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{s.flushSync(()=>{C(t=>{let n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),a.useEffect(()=>{if("system"!==h)return void R(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{R(e?"dark":"light")})}catch(el){e.addListener(({matches:e})=>{try{R(e?"dark":"light")}catch(t){}})}},[h]),a.useEffect(()=>{N.length<=1&&T(!1)},[N]),a.useEffect(()=>{let e=e=>{var t,n;i.every(t=>e[t]||e.code===t)&&(T(!0),null==(t=z.current)||t.focus()),"Escape"===e.code&&(document.activeElement===z.current||null!=(n=z.current)&&n.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),a.useEffect(()=>{if(z.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,L.current=!1)}},[z.current]),a.createElement("section",{ref:t,"aria-label":`${k} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,r)=>{var s;let[i,h]=t.split("-");return N.length?a.createElement("ol",{key:t,dir:"auto"===v?fi():v,tabIndex:-1,ref:z,className:c,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":i,"data-lifted":M&&N.length>1&&!o,"data-x-position":h,style:{"--front-toast-height":`${(null==(s=E[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${b}px`,...f,...gi(u,d)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,_.current=e.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{I||T(!1)},onDragEnd:()=>T(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D(!0)},onPointerUp:()=>D(!1)},N.filter(e=>!e.position&&0===r||e.position===t).map((r,s)=>{var i,c;return a.createElement(mi,{key:r.id,icons:w,index:s,toast:r,defaultRichColors:p,duration:null!=(i=null==x?void 0:x.duration)?i:m,className:null==x?void 0:x.className,descriptionClassName:null==x?void 0:x.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==x?void 0:x.closeButton)?c:l,interacting:I,position:t,style:null==x?void 0:x.style,unstyled:null==x?void 0:x.unstyled,classNames:null==x?void 0:x.classNames,cancelButtonStyle:null==x?void 0:x.cancelButtonStyle,actionButtonStyle:null==x?void 0:x.actionButtonStyle,removeToast:$,toasts:N.filter(e=>e.position==r.position),heights:E.filter(e=>e.position==r.position),setHeights:P,expandByDefault:o,gap:b,loadingIcon:y,expanded:M,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});var Ei=Ni(function(e,t){throw new Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),Pi={changes:function(e,t){return Ci(t)||Ei("changeType"),Object.keys(t).some(function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r})&&Ei("changeField"),t},selector:function(e){Si(e)||Ei("selectorType")},handler:function(e){Si(e)||Ci(e)||Ei("handlerType"),Ci(e)&&Object.values(e).some(function(e){return!Si(e)})&&Ei("handlersType")},initial:function(e){var t;e||Ei("initialIsRequired"),Ci(e)||Ei("initialType"),t=e,Object.keys(t).length||Ei("initialContent")}};function Mi(e,t){return Si(t)?t(e.current):t}function Ti(e,t){return e.current=ji(ji({},e.current),t),t}function Ii(e,t,n){return Si(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}var Di={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Pi.initial(e),Pi.handler(t);var n={current:e},r=Ni(Ii)(n,t),a=Ni(Ti)(n),s=Ni(Pi.changes)(e),i=Ni(Mi)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Pi.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(r,a,s,i)(e)}]}};var Ai,Ri=(Ai=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return r.length>=Ai.length?Ai.apply(this,r):function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e.apply(t,[].concat(r,a))}})({configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "}),zi={config:function(e){var t;return e||Ri("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||Ri("configType"),e.urls?{paths:{vs:e.urls.monacoBase}}:e}};function Oi(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Oi(e[n],t[n]))}),yi(yi({},e),t)}var _i={type:"cancelation",msg:"operation is manually canceled"};function Li(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(_i):n(e)}),e.catch(r)});return n.cancel=function(){return t=!0},n}var $i=["monaco"],Fi=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Di.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),2),Bi=Fi[0],Ui=Fi[1];function Hi(e){return document.body.appendChild(e)}function qi(e){var t,n,r=Bi(function(e){return{config:e.config,reject:e.reject}}),a=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return a.onload=function(){return e()},a.onerror=r.reject,a}function Vi(){var e=Bi(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){var n=t.m||t;Wi(n),e.resolve(n)},function(t){e.reject(t)})}function Wi(e){Bi().monaco||Ui({monaco:e})}var Gi=new Promise(function(e,t){return Ui({resolve:e,reject:t})}),Yi={config:function(e){var t=zi.config(e),n=t.monaco,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,$i);Ui(function(e){return{config:Oi(e.config,r),monaco:n}})},init:function(){var e=Bi(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(Ui({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Li(Gi);if(window.monaco&&window.monaco.editor)return Wi(window.monaco),e.resolve(window.monaco),Li(Gi);!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(Hi,qi)(Vi)}return Li(Gi)},__getMonacoInstance:function(){return Bi(function(e){return e.monaco})}},Ki={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Xi={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var Ji=function({children:e}){return a.createElement("div",{style:Xi.container},e)},Zi=Ji;var Qi=function({width:e,height:t,isEditorReady:n,loading:r,_ref:s,className:i,wrapperProps:o}){return a.createElement("section",{style:{...Ki.wrapper,width:e,height:t},...o},!n&&a.createElement(Zi,null,r),a.createElement("div",{ref:s,style:{...Ki.fullWidth,...!n&&Ki.hide},className:i}))},eo=t.memo(Qi);var to=function(e){t.useEffect(e,[])};var no=function(e,n,r=!0){let a=t.useRef(!0);t.useEffect(a.current||!r?()=>{a.current=!1}:e,n)};function ro(){}function ao(e,t,n,r){return function(e,t){return e.editor.getModel(so(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?so(e,r):void 0)}(e,t,n,r)}function so(e,t){return e.Uri.parse(t)}var io=function({original:e,modified:n,language:r,originalLanguage:s,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:d="light",loading:h="Loading...",options:p={},height:m="100%",width:f="100%",className:g,wrapperProps:x={},beforeMount:v=ro,onMount:b=ro}){let[y,w]=t.useState(!1),[k,j]=t.useState(!0),N=t.useRef(null),C=t.useRef(null),S=t.useRef(null),E=t.useRef(b),P=t.useRef(v),M=t.useRef(!1);to(()=>{let e=Yi.init();return e.then(e=>(C.current=e)&&j(!1)).catch(e=>"cancelation"!==e?.type&&void 0),()=>N.current?function(){let e=N.current?.getModel();c||e?.original?.dispose(),u||e?.modified?.dispose(),N.current?.dispose()}():e.cancel()}),no(()=>{if(N.current&&C.current){let t=N.current.getOriginalEditor(),n=ao(C.current,e||"",s||r||"text",o||"");n!==t.getModel()&&t.setModel(n)}},[o],y),no(()=>{if(N.current&&C.current){let e=N.current.getModifiedEditor(),t=ao(C.current,n||"",i||r||"text",l||"");t!==e.getModel()&&e.setModel(t)}},[l],y),no(()=>{let e=N.current.getModifiedEditor();e.getOption(C.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[n],y),no(()=>{N.current?.getModel()?.original.setValue(e||"")},[e],y),no(()=>{let{original:e,modified:t}=N.current.getModel();C.current.editor.setModelLanguage(e,s||r||"text"),C.current.editor.setModelLanguage(t,i||r||"text")},[r,s,i],y),no(()=>{C.current?.editor.setTheme(d)},[d],y),no(()=>{N.current?.updateOptions(p)},[p],y);let T=t.useCallback(()=>{if(!C.current)return;P.current(C.current);let t=ao(C.current,e||"",s||r||"text",o||""),a=ao(C.current,n||"",i||r||"text",l||"");N.current?.setModel({original:t,modified:a})},[r,n,i,e,s,o,l]),I=t.useCallback(()=>{!M.current&&S.current&&(N.current=C.current.editor.createDiffEditor(S.current,{automaticLayout:!0,...p}),T(),C.current?.editor.setTheme(d),w(!0),M.current=!0)},[p,d,T]);return t.useEffect(()=>{y&&E.current(N.current,C.current)},[y]),t.useEffect(()=>{!k&&!y&&I()},[k,y,I]),a.createElement(eo,{width:f,height:m,isEditorReady:y,loading:h,_ref:S,className:g,wrapperProps:x})};t.memo(io);var oo=function(e){let n=t.useRef();return t.useEffect(()=>{n.current=e},[e]),n.current},lo=new Map;var co=function({defaultValue:e,defaultLanguage:n,defaultPath:r,value:s,language:i,path:o,theme:l="light",line:c,loading:u="Loading...",options:d={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:m=!1,width:f="100%",height:g="100%",className:x,wrapperProps:v={},beforeMount:b=ro,onMount:y=ro,onChange:w,onValidate:k=ro}){let[j,N]=t.useState(!1),[C,S]=t.useState(!0),E=t.useRef(null),P=t.useRef(null),M=t.useRef(null),T=t.useRef(y),I=t.useRef(b),D=t.useRef(),A=t.useRef(s),R=oo(o),z=t.useRef(!1),O=t.useRef(!1);to(()=>{let e=Yi.init();return e.then(e=>(E.current=e)&&S(!1)).catch(e=>"cancelation"!==e?.type&&void 0),()=>P.current?(D.current?.dispose(),m?p&&lo.set(o,P.current.saveViewState()):P.current.getModel()?.dispose(),void P.current.dispose()):e.cancel()}),no(()=>{let t=ao(E.current,e||s||"",n||i||"",o||r||"");t!==P.current?.getModel()&&(p&&lo.set(R,P.current?.saveViewState()),P.current?.setModel(t),p&&P.current?.restoreViewState(lo.get(o)))},[o],j),no(()=>{P.current?.updateOptions(d)},[d],j),no(()=>{!P.current||void 0===s||(P.current.getOption(E.current.editor.EditorOption.readOnly)?P.current.setValue(s):s!==P.current.getValue()&&(O.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),P.current.pushUndoStop(),O.current=!1))},[s],j),no(()=>{let e=P.current?.getModel();e&&i&&E.current?.editor.setModelLanguage(e,i)},[i],j),no(()=>{void 0!==c&&P.current?.revealLine(c)},[c],j),no(()=>{E.current?.editor.setTheme(l)},[l],j);let _=t.useCallback(()=>{if(M.current&&E.current&&!z.current){I.current(E.current);let t=o||r,a=ao(E.current,s||e||"",n||i||"",t||"");P.current=E.current?.editor.create(M.current,{model:a,automaticLayout:!0,...d},h),p&&P.current.restoreViewState(lo.get(t)),E.current.editor.setTheme(l),void 0!==c&&P.current.revealLine(c),N(!0),z.current=!0}},[e,n,r,s,i,o,d,h,p,l,c]);return t.useEffect(()=>{j&&T.current(P.current,E.current)},[j]),t.useEffect(()=>{!C&&!j&&_()},[C,j,_]),A.current=s,t.useEffect(()=>{j&&w&&(D.current?.dispose(),D.current=P.current?.onDidChangeModelContent(e=>{O.current||w(P.current.getValue(),e)}))},[j,w]),t.useEffect(()=>{if(j){let e=E.current.editor.onDidChangeMarkers(e=>{let t=P.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=E.current.editor.getModelMarkers({resource:t});k?.(e)}});return()=>{e?.dispose()}}return()=>{}},[j,k]),a.createElement(eo,{width:f,height:g,isEditorReady:j,loading:u,_ref:M,className:x,wrapperProps:v})},uo=t.memo(co);function ho({value:t,onChange:n,language:r="html",readOnly:a=!1,height:s="100%"}){return e.jsx(uo,{height:s,defaultLanguage:r,language:r,value:t,onChange:n,theme:"vs-dark",onMount:(e,t)=>{e.updateOptions({fontSize:14,minimap:{enabled:!0},lineNumbers:"on",automaticLayout:!0,formatOnPaste:!0,formatOnType:!0,tabSize:2,wordWrap:"on",scrollBeyondLastLine:!1,smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on"}),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyS,()=>{})},options:{readOnly:a,minimap:{enabled:!a},scrollbar:{vertical:"auto",horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1}},loading:e.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:e.jsx("div",{className:"text-white",children:"Carregando editor..."})})})}const po=[{id:"navbar-modern",name:"Navbar Moderna",category:"navigation",tags:["navbar","responsive","dropdown"],preview:"/previews/navbar-modern.png",description:"Navbar responsiva com dropdown e CTA",code:()=>'\n\x3c!-- Navbar Moderna --\x3e\n<nav class="bg-white shadow-lg sticky top-0 z-50">\n  <div class="container mx-auto px-4">\n    <div class="flex items-center justify-between h-16">\n      \x3c!-- Logo --\x3e\n      <div class="flex items-center space-x-3">\n        <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg"></div>\n        <span class="text-xl font-bold text-gray-900">SeuLogo</span>\n      </div>\n      \n      \x3c!-- Desktop Navigation --\x3e\n      <div class="hidden md:flex items-center space-x-8">\n        <a href="#home" class="text-gray-700 hover:text-blue-600 transition">Início</a>\n        <a href="#features" class="text-gray-700 hover:text-blue-600 transition">Features</a>\n        <a href="#pricing" class="text-gray-700 hover:text-blue-600 transition">Preços</a>\n        <a href="#contact" class="text-gray-700 hover:text-blue-600 transition">Contato</a>\n      </div>\n      \n      \x3c!-- CTA Button --\x3e\n      <div class="hidden md:block">\n        <button class="px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:scale-105 transition-transform">\n          Começar Agora\n        </button>\n      </div>\n      \n      \x3c!-- Mobile Menu Button --\x3e\n      <button class="md:hidden p-2">\n        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>\n        </svg>\n      </button>\n    </div>\n  </div>\n</nav>\n    '.trim()},{id:"navbar-transparent",name:"Navbar Transparente",category:"navigation",tags:["navbar","transparent","overlay"],preview:"/previews/navbar-transparent.png",description:"Navbar transparente para hero sections",code:()=>'\n\x3c!-- Navbar Transparente --\x3e\n<nav class="absolute top-0 left-0 right-0 z-50">\n  <div class="container mx-auto px-4">\n    <div class="flex items-center justify-between h-20">\n      <div class="text-white text-2xl font-bold">Logo</div>\n      <div class="hidden md:flex items-center space-x-8">\n        <a href="#" class="text-white/90 hover:text-white transition">Home</a>\n        <a href="#" class="text-white/90 hover:text-white transition">About</a>\n        <a href="#" class="text-white/90 hover:text-white transition">Services</a>\n        <button class="px-6 py-2 border-2 border-white text-white rounded-lg hover:bg-white hover:text-gray-900 transition">\n          Get Started\n        </button>\n      </div>\n    </div>\n  </div>\n</nav>\n    '.trim()}],mo=[{id:"hero-centered",name:"Hero Centrado",category:"hero",tags:["hero","centered","gradient"],preview:"/previews/hero-centered.png",description:"Hero section centrado com gradiente vibrante",code:()=>'\n\x3c!-- Hero Centrado --\x3e\n<section class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 relative overflow-hidden">\n  \x3c!-- Background Animation --\x3e\n  <div class="absolute inset-0">\n    <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse"></div>\n    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse delay-1000"></div>\n  </div>\n  \n  \x3c!-- Content --\x3e\n  <div class="relative text-center text-white max-w-5xl px-4 z-10">\n    <span class="inline-block px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium mb-6">\n      🚀 Novo Produto Lançado\n    </span>\n    \n    <h1 class="text-6xl md:text-7xl font-bold mb-6 leading-tight">\n      Transforme Suas Ideias em\n      <span class="bg-gradient-to-r from-yellow-200 to-pink-200 bg-clip-text text-transparent"> Realidade</span>\n    </h1>\n    \n    <p class="text-xl md:text-2xl mb-10 text-white/90 max-w-3xl mx-auto">\n      A plataforma mais avançada para criar, gerenciar e escalar seu negócio online. Junte-se a mais de 10.000 empresas de sucesso.\n    </p>\n    \n    <div class="flex flex-col sm:flex-row gap-4 justify-center">\n      <button class="px-8 py-4 bg-white text-blue-600 rounded-lg font-semibold text-lg hover:scale-105 transition-transform shadow-2xl">\n        Começar Gratuitamente\n      </button>\n      <button class="px-8 py-4 bg-white/10 backdrop-blur-sm text-white border-2 border-white rounded-lg font-semibold text-lg hover:bg-white/20 transition">\n        Ver Demonstração\n      </button>\n    </div>\n    \n    \x3c!-- Social Proof --\x3e\n    <div class="mt-12 flex items-center justify-center gap-8 text-sm">\n      <div class="flex -space-x-2">\n        <div class="w-10 h-10 rounded-full bg-white/20 border-2 border-white"></div>\n        <div class="w-10 h-10 rounded-full bg-white/20 border-2 border-white"></div>\n        <div class="w-10 h-10 rounded-full bg-white/20 border-2 border-white"></div>\n      </div>\n      <p class="text-white/90">Mais de <span class="font-bold">10.000+</span> usuários satisfeitos</p>\n    </div>\n  </div>\n</section>\n\n<style>\n@keyframes pulse {\n  0%, 100% { opacity: 0.3; }\n  50% { opacity: 0.6; }\n}\n.animate-pulse { animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\n.delay-1000 { animation-delay: 1s; }\n</style>\n    '.trim()},{id:"hero-split",name:"Hero Split Screen",category:"hero",tags:["hero","split","image"],preview:"/previews/hero-split.png",description:"Hero com conteúdo e imagem lado a lado",code:()=>'\n\x3c!-- Hero Split Screen --\x3e\n<section class="min-h-screen grid md:grid-cols-2">\n  \x3c!-- Left Content --\x3e\n  <div class="flex items-center justify-center bg-gray-50 p-8 md:p-16">\n    <div class="max-w-lg">\n      <span class="inline-block px-4 py-2 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold mb-4">\n        Novidade 2024\n      </span>\n      \n      <h1 class="text-5xl md:text-6xl font-bold text-gray-900 mb-6">\n        Seu Produto\n        <span class="text-blue-600"> Revolucionário</span>\n      </h1>\n      \n      <p class="text-xl text-gray-600 mb-8">\n        Descubra uma nova forma de trabalhar. Mais produtividade, menos complexidade.\n      </p>\n      \n      <div class="flex gap-4">\n        <button class="px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">\n          Começar Agora\n        </button>\n        <button class="px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-gray-400 transition">\n          Saiba Mais\n        </button>\n      </div>\n      \n      \x3c!-- Stats --\x3e\n      <div class="mt-12 grid grid-cols-3 gap-8 text-center">\n        <div>\n          <div class="text-3xl font-bold text-gray-900">99%</div>\n          <div class="text-sm text-gray-600">Satisfação</div>\n        </div>\n        <div>\n          <div class="text-3xl font-bold text-gray-900">24/7</div>\n          <div class="text-sm text-gray-600">Suporte</div>\n        </div>\n        <div>\n          <div class="text-3xl font-bold text-gray-900">50k+</div>\n          <div class="text-sm text-gray-600">Usuários</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  \x3c!-- Right Image --\x3e\n  <div class="bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-16">\n    <div class="w-full max-w-md aspect-square bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl flex items-center justify-center">\n      <span class="text-white text-xl">Sua Imagem / Screenshot</span>\n    </div>\n  </div>\n</section>\n    '.trim()},{id:"hero-video-bg",name:"Hero com Vídeo Background",category:"hero",tags:["hero","video","overlay"],preview:"/previews/hero-video.png",description:"Hero com vídeo de fundo e overlay",code:()=>'\n\x3c!-- Hero com Vídeo Background --\x3e\n<section class="relative min-h-screen flex items-center justify-center overflow-hidden">\n  \x3c!-- Video Background --\x3e\n  <div class="absolute inset-0 z-0">\n    <div class="w-full h-full bg-gray-900"></div>\n    \x3c!-- Adicione seu vídeo aqui: <video autoplay loop muted class="w-full h-full object-cover"></video> --\x3e\n  </div>\n  \n  \x3c!-- Overlay --\x3e\n  <div class="absolute inset-0 bg-gradient-to-br from-blue-900/80 to-purple-900/80 z-10"></div>\n  \n  \x3c!-- Content --\x3e\n  <div class="relative z-20 text-center text-white max-w-4xl px-4">\n    <h1 class="text-6xl md:text-7xl font-bold mb-6">\n      Experiência Imersiva\n    </h1>\n    <p class="text-2xl mb-10 text-white/90">\n      Conecte-se com seu público de forma única e memorável\n    </p>\n    <button class="px-10 py-5 bg-white text-gray-900 rounded-lg font-bold text-lg hover:scale-105 transition-transform shadow-2xl">\n      Explorar Agora\n    </button>\n  </div>\n</section>\n    '.trim()}],fo=[{id:"features-grid-3x3",name:"Features Grid 3x3",category:"features",tags:["features","grid","icons"],preview:"/previews/features-grid.png",description:"Grid 3x3 de features com ícones",code:()=>'\n\x3c!-- Features Grid 3x3 --\x3e\n<section class="py-20 bg-gray-50">\n  <div class="container mx-auto px-4">\n    \x3c!-- Header --\x3e\n    <div class="text-center max-w-3xl mx-auto mb-16">\n      <span class="inline-block px-4 py-2 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold mb-4">\n        Features\n      </span>\n      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">\n        Tudo que Você Precisa\n      </h2>\n      <p class="text-xl text-gray-600">\n        Ferramentas poderosas para impulsionar seu negócio\n      </p>\n    </div>\n    \n    \x3c!-- Grid --\x3e\n    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">\n      \x3c!-- Feature 1 --\x3e\n      <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition group">\n        <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">\n          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>\n          </svg>\n        </div>\n        <h3 class="text-xl font-bold text-gray-900 mb-3">Rápido</h3>\n        <p class="text-gray-600">Performance otimizada para resultados instantâneos e experiência fluida.</p>\n      </div>\n      \n      \x3c!-- Feature 2 --\x3e\n      <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition group">\n        <div class="w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">\n          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>\n          </svg>\n        </div>\n        <h3 class="text-xl font-bold text-gray-900 mb-3">Seguro</h3>\n        <p class="text-gray-600">Criptografia de ponta e proteção avançada para seus dados mais importantes.</p>\n      </div>\n      \n      \x3c!-- Feature 3 --\x3e\n      <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition group">\n        <div class="w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">\n          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>\n          </svg>\n        </div>\n        <h3 class="text-xl font-bold text-gray-900 mb-3">Confiável</h3>\n        <p class="text-gray-600">99.9% uptime e suporte 24/7 para garantir que você nunca fique parado.</p>\n      </div>\n      \n      \x3c!-- Feature 4 --\x3e\n      <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition group">\n        <div class="w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">\n          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>\n          </svg>\n        </div>\n        <h3 class="text-xl font-bold text-gray-900 mb-3">Personalizável</h3>\n        <p class="text-gray-600">Adapte cada detalhe às suas necessidades específicas e preferências.</p>\n      </div>\n      \n      \x3c!-- Feature 5 --\x3e\n      <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition group">\n        <div class="w-14 h-14 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">\n          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>\n          </svg>\n        </div>\n        <h3 class="text-xl font-bold text-gray-900 mb-3">Colaborativo</h3>\n        <p class="text-gray-600">Trabalhe em equipe com sincronização em tempo real e compartilhamento fácil.</p>\n      </div>\n      \n      \x3c!-- Feature 6 --\x3e\n      <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition group">\n        <div class="w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">\n          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>\n          </svg>\n        </div>\n        <h3 class="text-xl font-bold text-gray-900 mb-3">Analytics</h3>\n        <p class="text-gray-600">Insights poderosos e relatórios detalhados para tomar decisões informadas.</p>\n      </div>\n    </div>\n  </div>\n</section>\n    '.trim()}],go=[{id:"pricing-3-cards",name:"Pricing 3 Cards",category:"pricing",tags:["pricing","cards","3-column"],preview:"/previews/pricing.png",description:"Tabela de preços 3 planos",code:()=>'\n<section class="py-20 bg-gray-50">\n  <div class="container mx-auto px-4">\n    <div class="text-center mb-16">\n      <h2 class="text-4xl font-bold mb-4">Planos e Preços</h2>\n      <p class="text-xl text-gray-600">Escolha o plano ideal</p>\n    </div>\n    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">\n      <div class="bg-white p-8 rounded-2xl shadow-lg">\n        <h3 class="text-2xl font-bold mb-2">Basic</h3>\n        <div class="mb-8"><span class="text-5xl font-bold">R$ 29</span><span class="text-gray-600">/mês</span></div>\n        <button class="w-full px-6 py-3 bg-gray-900 text-white rounded-lg font-semibold">Começar</button>\n      </div>\n      <div class="bg-gradient-to-br from-blue-600 to-purple-600 p-8 rounded-2xl shadow-2xl scale-105">\n        <h3 class="text-2xl font-bold text-white mb-2">Pro</h3>\n        <div class="mb-8"><span class="text-5xl font-bold text-white">R$ 99</span><span class="text-white/90">/mês</span></div>\n        <button class="w-full px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold">Começar</button>\n      </div>\n      <div class="bg-white p-8 rounded-2xl shadow-lg">\n        <h3 class="text-2xl font-bold mb-2">Enterprise</h3>\n        <div class="mb-8"><span class="text-5xl font-bold">Custom</span></div>\n        <button class="w-full px-6 py-3 bg-gray-900 text-white rounded-lg font-semibold">Falar com Vendas</button>\n      </div>\n    </div>\n  </div>\n</section>\n    '.trim()}],xo=[{id:"contact-form",name:"Contact Form",category:"forms",tags:["form","contact"],preview:"/previews/contact.png",description:"Formulário de contato profissional",code:()=>'\n<section class="py-20">\n  <div class="container mx-auto px-4 max-w-2xl">\n    <div class="text-center mb-12">\n      <h2 class="text-4xl font-bold mb-4">Entre em Contato</h2>\n      <p class="text-xl text-gray-600">Responderemos em até 24h</p>\n    </div>\n    <form class="space-y-6">\n      <div class="grid md:grid-cols-2 gap-6">\n        <input type="text" placeholder="Nome" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">\n        <input type="email" placeholder="Email" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">\n      </div>\n      <textarea rows="5" placeholder="Mensagem" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>\n      <button class="w-full px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700">Enviar</button>\n    </form>\n  </div>\n</section>\n    '.trim()}],vo=[{id:"cta-gradient",name:"CTA Gradient",category:"cta",tags:["cta","call-to-action"],preview:"/previews/cta.png",description:"Call to action com gradiente",code:()=>'\n<section class="py-20 bg-gradient-to-r from-blue-600 to-purple-600">\n  <div class="container mx-auto px-4 text-center">\n    <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">Pronto para Começar?</h2>\n    <p class="text-xl text-white/90 mb-10">Junte-se a milhares de empresas de sucesso</p>\n    <div class="flex flex-col sm:flex-row gap-4 justify-center">\n      <button class="px-10 py-5 bg-white text-blue-600 rounded-lg font-bold text-lg hover:scale-105 transition">Começar Grátis</button>\n      <button class="px-10 py-5 bg-white/10 border-2 border-white text-white rounded-lg font-bold text-lg">Agendar Demo</button>\n    </div>\n  </div>\n</section>\n    '.trim()}],bo=[{id:"footer-4-column",name:"Footer 4 Colunas",category:"footer",tags:["footer","complete"],preview:"/previews/footer.png",description:"Footer completo 4 colunas",code:()=>'\n<footer class="bg-gray-900 text-white pt-16 pb-8">\n  <div class="container mx-auto px-4">\n    <div class="grid md:grid-cols-4 gap-8 mb-12">\n      <div>\n        <div class="flex items-center gap-3 mb-6">\n          <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg"></div>\n          <span class="text-xl font-bold">Logo</span>\n        </div>\n        <p class="text-gray-400">Transformando ideias em realidade</p>\n      </div>\n      <div>\n        <h4 class="font-bold mb-4">Produto</h4>\n        <ul class="space-y-3">\n          <li><a href="#" class="text-gray-400 hover:text-white">Features</a></li>\n          <li><a href="#" class="text-gray-400 hover:text-white">Preços</a></li>\n        </ul>\n      </div>\n      <div>\n        <h4 class="font-bold mb-4">Empresa</h4>\n        <ul class="space-y-3">\n          <li><a href="#" class="text-gray-400 hover:text-white">Sobre</a></li>\n          <li><a href="#" class="text-gray-400 hover:text-white">Blog</a></li>\n        </ul>\n      </div>\n      <div>\n        <h4 class="font-bold mb-4">Legal</h4>\n        <ul class="space-y-3">\n          <li><a href="#" class="text-gray-400 hover:text-white">Privacidade</a></li>\n          <li><a href="#" class="text-gray-400 hover:text-white">Termos</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="border-t border-white/10 pt-8 text-center">\n      <p class="text-gray-400">© 2024 Todos os direitos reservados</p>\n    </div>\n  </div>\n</footer>\n    '.trim()}],yo=[...po,...mo,...fo,...go,...xo,...vo,...bo],wo={navigation:po,hero:mo,features:fo,pricing:go,forms:xo,cta:vo,footer:bo},ko={navigation:pe,hero:V,features:ce,pricing:Q,forms:me,cta:Y,footer:Se},jo={navigation:"Navegação",hero:"Hero",features:"Features",pricing:"Preços",forms:"Formulários",cta:"Call to Action",footer:"Rodapé"};function No({onComponentSelect:n}){const[r,a]=t.useState(""),[s,i]=t.useState(null),o=Object.entries(wo).reduce((e,[t,n])=>{if(s&&t!==s)return e;const a=n.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(r.toLowerCase())));return a.length>0&&(e[t]=a),e},{});return e.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[e.jsxs("div",{className:"p-4 border-b border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Componentes"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Buscar componentes...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]})]}),e.jsx("div",{className:"px-4 py-3 border-b border-white/10 overflow-x-auto",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(null),className:u("px-3 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap",s?"bg-white/5 text-gray-400 hover:bg-white/10":"bg-blue-600 text-white"),children:"Todos"}),Object.keys(ko).map(t=>{const n=ko[t];return e.jsxs("button",{onClick:()=>i(t),className:u("flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap",s===t?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),children:[e.jsx(n,{className:"w-4 h-4"}),jo[t]]},t)})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsx(B,{mode:"wait",children:Object.entries(o).map(([t,r])=>{const a=ko[t];return e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[!s&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(a,{className:"w-5 h-5 text-blue-400"}),e.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:jo[t]})]}),e.jsx("div",{className:"grid gap-3",children:r.map(t=>e.jsxs(F.button,{onClick:()=>n(t),className:"group relative bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg p-4 text-left transition-all hover:border-blue-500/50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"w-full h-24 bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:[e.jsx(a,{className:"w-8 h-8 text-gray-600"}),e.jsx("span",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"Novo"})]}),e.jsx("h5",{className:"text-sm font-semibold text-white mb-1 group-hover:text-blue-400 transition-colors",children:t.name}),e.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.slice(0,3).map(t=>e.jsx("span",{className:"px-2 py-0.5 bg-white/5 text-gray-400 text-xs rounded",children:t},t))})]},t.id))})]},t)})}),0===Object.keys(o).length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(q,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Nenhum componente encontrado"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tente buscar por outro termo"})]})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20",children:e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"💡 Clique em um componente para adicioná-lo à página"})})]})}function Co(){const[n,r]=t.useState("linear"),[a,s]=t.useState(90),[i,o]=t.useState([{color:"#3b82f6",position:0},{color:"#8b5cf6",position:100}]),[l,c]=t.useState(0),d="linear"===n?`linear-gradient(${a}deg, ${i.map(e=>`${e.color} ${e.position}%`).join(", ")})`:`radial-gradient(circle, ${i.map(e=>`${e.color} ${e.position}%`).join(", ")})`,h=(e,t)=>{const n=i.map((n,r)=>r===e?{...n,...t}:n);o(n.sort((e,t)=>e.position-t.position))};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Gradient Builder"}),e.jsx("div",{className:"h-32 rounded-xl mb-4",style:{background:d}}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>r("linear"),className:u("flex-1 px-4 py-2 rounded-lg font-medium transition","linear"===n?"bg-blue-600 text-white":"bg-white/5 text-gray-400"),children:"Linear"}),e.jsx("button",{onClick:()=>r("radial"),className:u("flex-1 px-4 py-2 rounded-lg font-medium transition","radial"===n?"bg-blue-600 text-white":"bg-white/5 text-gray-400"),children:"Radial"})]}),"linear"===n&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Ângulo: ",a,"°"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:a,onChange:e=>s(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-400",children:["Cores (",i.length,")"]}),e.jsx("button",{onClick:()=>{o([...i,{color:"#ffffff",position:50}].sort((e,t)=>e.position-t.position))},className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition",children:e.jsx(b,{className:"w-4 h-4 text-white"})})]}),i.map((t,n)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-white/20 cursor-pointer",style:{background:t.color},onClick:()=>c(n)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:t.position,onChange:e=>h(n,{position:Number(e.target.value)}),className:"w-full"}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[t.position,"%"]})]}),i.length>2&&e.jsx("button",{onClick:()=>(e=>{i.length<=2?ci.error("Mínimo 2 cores"):o(i.filter((t,n)=>n!==e))})(n),className:"p-2 bg-red-600/20 hover:bg-red-600/30 rounded-lg transition",children:e.jsx(k,{className:"w-4 h-4 text-red-400"})})]}),l===n&&e.jsx(G,{color:t.color,onChange:e=>h(n,{color:e}),className:"w-full"})]},n))]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Presets"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries({sunset:[{color:"#ff6b6b",position:0},{color:"#feca57",position:50},{color:"#ee5a6f",position:100}],ocean:[{color:"#667eea",position:0},{color:"#764ba2",position:100}],fire:[{color:"#f12711",position:0},{color:"#f5af19",position:100}],purple:[{color:"#667eea",position:0},{color:"#764ba2",position:100}]}).map(([t,n])=>e.jsx("button",{onClick:()=>o(n),className:"h-12 rounded-lg capitalize",style:{background:`linear-gradient(90deg, ${n.map(e=>`${e.color} ${e.position}%`).join(", ")})`},children:e.jsx("span",{className:"text-white text-xs font-medium drop-shadow-lg",children:t})},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"CSS"}),e.jsxs("div",{className:"relative",children:[e.jsxs("pre",{className:"p-3 bg-black/50 rounded-lg text-xs text-gray-300 overflow-x-auto",children:["background: ",d,";"]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`background: ${d};`),ci.success("CSS copiado!")},className:"absolute top-2 right-2 p-2 bg-white/10 hover:bg-white/20 rounded transition",children:e.jsx(Z,{className:"w-4 h-4 text-white"})})]})]})]})})}function So(){const[n,r]=t.useState(0),[a,s]=t.useState(10),[i,o]=t.useState(20),[l,c]=t.useState(0),[u,d]=t.useState("#000000"),[h,p]=t.useState(.3),[m,f]=t.useState(!1),g=`${m?"inset ":""}${n}px ${a}px ${i}px ${l}px ${x=u,v=h,`rgba(${parseInt(x.slice(1,3),16)}, ${parseInt(x.slice(3,5),16)}, ${parseInt(x.slice(5,7),16)}, ${v})`}`;var x,v;return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Shadow Generator"}),e.jsx("div",{className:"h-48 bg-gray-800 rounded-xl p-8 mb-6 flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-blue-600 rounded-xl",style:{boxShadow:g}})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Horizontal: ",n,"px"]}),e.jsx("input",{type:"range",min:"-50",max:"50",value:n,onChange:e=>r(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Vertical: ",a,"px"]}),e.jsx("input",{type:"range",min:"-50",max:"50",value:a,onChange:e=>s(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Blur: ",i,"px"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:i,onChange:e=>o(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Spread: ",l,"px"]}),e.jsx("input",{type:"range",min:"-50",max:"50",value:l,onChange:e=>c(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Opacity: ",(100*h).toFixed(0),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:h,onChange:e=>p(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"inset",checked:m,onChange:e=>f(e.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"inset",className:"text-sm font-medium text-gray-400",children:"Inset (sombra interna)"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Cor da Sombra"}),e.jsx(G,{color:u,onChange:d,className:"w-full"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Presets"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"Soft",h:0,v:4,b:6,s:-1,o:.1},{name:"Medium",h:0,v:10,b:20,s:0,o:.15},{name:"Hard",h:0,v:20,b:25,s:5,o:.25},{name:"Glow",h:0,v:0,b:20,s:5,o:.5}].map(t=>e.jsx("button",{onClick:()=>(e=>{r(e.h),s(e.v),o(e.b),c(e.s),p(e.o)})(t),className:"px-4 py-3 bg-white/5 hover:bg-white/10 rounded-lg text-sm font-medium text-gray-300 transition",children:t.name},t.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"CSS"}),e.jsxs("div",{className:"relative",children:[e.jsxs("pre",{className:"p-3 bg-black/50 rounded-lg text-xs text-gray-300 overflow-x-auto",children:["box-shadow: ",g,";"]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`box-shadow: ${g};`),ci.success("CSS copiado!")},className:"absolute top-2 right-2 p-2 bg-white/10 hover:bg-white/20 rounded transition",children:e.jsx(Z,{className:"w-4 h-4 text-white"})})]})]})]})})}function Eo(){const[n,r]=t.useState("myAnimation"),[a,s]=t.useState(1),[i,o]=t.useState("ease"),[l,c]=t.useState("infinite"),[d,h]=t.useState([{percent:0,transform:"translateX(0)",opacity:1},{percent:100,transform:"translateX(100px)",opacity:1}]),[p,m]=t.useState(!1),f=()=>`@keyframes ${n} {\n${d.map(e=>`  ${e.percent}% {\n    transform: ${e.transform};\n    opacity: ${e.opacity};\n  }`).join("\n")}\n}`,g=`animation: ${n} ${a}s ${i} ${l};`,x=(e,t)=>{const n=d.map((n,r)=>r===e?{...n,...t}:n);h(n.sort((e,t)=>e.percent-t.percent))};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Animation Timeline"}),e.jsx("div",{className:"h-32 bg-gray-800 rounded-xl mb-6 flex items-center justify-center overflow-hidden",children:e.jsx("div",{className:u("w-16 h-16 bg-blue-600 rounded-lg",p&&"animate-playing"),style:p?{animation:`${n} ${a}s ${i}`}:{}})}),e.jsx("style",{children:`@keyframes ${n} {\n            ${d.map(e=>`\n              ${e.percent}% {\n                transform: ${e.transform};\n                opacity: ${e.opacity};\n              }\n            `).join("")}\n          }`}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Animation Name"}),e.jsx("input",{type:"text",value:n,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Duration: ",a,"s"]}),e.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:a,onChange:e=>s(Number(e.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Timing Function"}),e.jsxs("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ease",children:"Ease"}),e.jsx("option",{value:"linear",children:"Linear"}),e.jsx("option",{value:"ease-in",children:"Ease In"}),e.jsx("option",{value:"ease-out",children:"Ease Out"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Iteration Count"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("1"),className:u("flex-1 px-4 py-2 rounded-lg font-medium transition","1"===l?"bg-blue-600 text-white":"bg-white/5 text-gray-400"),children:"Once"}),e.jsx("button",{onClick:()=>c("infinite"),className:u("flex-1 px-4 py-2 rounded-lg font-medium transition","infinite"===l?"bg-blue-600 text-white":"bg-white/5 text-gray-400"),children:"Infinite"})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-400",children:["Keyframes (",d.length,")"]}),e.jsx("button",{onClick:()=>{h([...d,{percent:50,transform:"translateX(0)",opacity:1}].sort((e,t)=>e.percent-t.percent))},className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition",children:e.jsx(b,{className:"w-4 h-4 text-white"})})]}),d.map((t,n)=>e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-white",children:[t.percent,"%"]}),d.length>2&&e.jsx("button",{onClick:()=>(e=>{d.length<=2?ci.error("Mínimo 2 keyframes"):h(d.filter((t,n)=>n!==e))})(n),className:"p-1 bg-red-600/20 hover:bg-red-600/30 rounded transition",children:e.jsx(k,{className:"w-4 h-4 text-red-400"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position"}),e.jsx("input",{type:"range",min:"0",max:"100",value:t.percent,onChange:e=>x(n,{percent:Number(e.target.value)}),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Transform"}),e.jsx("input",{type:"text",value:t.transform,onChange:e=>x(n,{transform:e.target.value}),className:"w-full px-2 py-1 bg-black/30 border border-white/10 rounded text-white text-xs",placeholder:"translateX(0)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Opacity: ",t.opacity]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.opacity,onChange:e=>x(n,{opacity:Number(e.target.value)}),className:"w-full"})]})]},n))]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Presets"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries({fadeIn:[{percent:0,transform:"translateX(0)",opacity:0},{percent:100,transform:"translateX(0)",opacity:1}],slideIn:[{percent:0,transform:"translateX(-100px)",opacity:0},{percent:100,transform:"translateX(0)",opacity:1}],bounce:[{percent:0,transform:"translateY(0)",opacity:1},{percent:50,transform:"translateY(-30px)",opacity:1},{percent:100,transform:"translateY(0)",opacity:1}]}).map(([t,n])=>e.jsx("button",{onClick:()=>h(n),className:"px-3 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-xs font-medium text-gray-300 transition capitalize",children:t},t))})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>{m(!0),setTimeout(()=>m(!1),1e3*a)},className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold flex items-center justify-center gap-2 transition",children:[e.jsx(je,{className:"w-5 h-5"}),"Play"]}),e.jsx("button",{onClick:()=>{const e=`${f()}\n\n/* Apply to element */\n${g}`;navigator.clipboard.writeText(e),ci.success("CSS copiado!")},className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-white rounded-lg transition",children:e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"CSS"}),e.jsxs("pre",{className:"p-3 bg-black/50 rounded-lg text-xs text-gray-300 overflow-x-auto",children:[f(),e.jsx("br",{}),e.jsx("br",{}),"/* Apply to element */",e.jsx("br",{}),g]})]})]})})}function Po(){const[n,r]=t.useState("colors"),[a,s]=t.useState("#3b82f6"),[i,o]=t.useState(null),l=e=>{navigator.clipboard.writeText(e),o(e),setTimeout(()=>o(null),2e3),onColorSelect?.(e)};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[e.jsxs("div",{className:"p-4 border-b border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Design Tools"}),e.jsxs("div",{className:"flex gap-1 bg-white/5 p-1 rounded-lg",children:[e.jsxs("button",{onClick:()=>r("colors"),className:u("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded text-sm font-medium transition-colors","colors"===n?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:[e.jsx(ye,{className:"w-4 h-4"}),"Cores"]}),e.jsxs("button",{onClick:()=>r("typography"),className:u("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded text-sm font-medium transition-colors","typography"===n?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:[e.jsx(Ee,{className:"w-4 h-4"}),"Texto"]}),e.jsxs("button",{onClick:()=>r("spacing"),className:u("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded text-sm font-medium transition-colors","spacing"===n?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:[e.jsx(Ne,{className:"w-4 h-4"}),"Espaço"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:["colors"===n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white mb-3 block",children:"Seletor de Cor"}),e.jsx(G,{color:a,onChange:s,className:"w-full"}),e.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-white/20",style:{backgroundColor:a}}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),e.jsx("button",{onClick:()=>l(a),className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:i===a?e.jsx(W,{className:"w-4 h-4 text-green-500"}):e.jsx(Z,{className:"w-4 h-4 text-gray-400"})})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white mb-3 block",children:"Paleta Gerada"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:(e=>{const t=(e,t)=>e,n=(e,t)=>e;return[e,t(e),n(e),t(e),n(e)]})(a).map(({shade:t,color:n})=>e.jsx("button",{onClick:()=>l(n),className:"group relative aspect-square rounded-lg hover:scale-110 transition-transform",style:{backgroundColor:n},children:e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity text-white bg-black/50 rounded-lg",children:t})},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white mb-3 block",children:"Cores Populares"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6","#f97316","#6366f1","#06b6d4"].map(t=>e.jsx("button",{onClick:()=>s(t),className:"aspect-square rounded-lg hover:scale-110 transition-transform border-2 border-transparent hover:border-white/50",style:{backgroundColor:t}},t))})]})]}),"typography"===n&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white mb-3 block",children:"Escala de Tamanho"}),e.jsx("div",{className:"space-y-2",children:[{name:"xs",size:"0.75rem",class:"text-xs"},{name:"sm",size:"0.875rem",class:"text-sm"},{name:"base",size:"1rem",class:"text-base"},{name:"lg",size:"1.125rem",class:"text-lg"},{name:"xl",size:"1.25rem",class:"text-xl"},{name:"2xl",size:"1.5rem",class:"text-2xl"},{name:"3xl",size:"1.875rem",class:"text-3xl"},{name:"4xl",size:"2.25rem",class:"text-4xl"}].map(({name:t,size:n,class:r})=>e.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[e.jsx("span",{className:u("text-white font-medium",r),children:"Aa"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:t}),e.jsx("div",{className:"text-xs text-gray-400",children:n})]})]},t))})]})}),"spacing"===n&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white mb-3 block",children:"Escala de Espaçamento"}),e.jsx("div",{className:"space-y-2",children:[{name:"1",size:"0.25rem",px:1},{name:"2",size:"0.5rem",px:2},{name:"4",size:"1rem",px:4},{name:"6",size:"1.5rem",px:6},{name:"8",size:"2rem",px:8},{name:"12",size:"3rem",px:12},{name:"16",size:"4rem",px:16},{name:"24",size:"6rem",px:24}].map(({name:t,size:n,px:r})=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"bg-blue-600 rounded",style:{width:n,height:n}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm font-medium text-white",children:["p-",t]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[n," • ",r,"px"]})]})]},t))})]})}),"gradients"===n&&e.jsx(Co,{}),"shadows"===n&&e.jsx(So,{}),"animations"===n&&e.jsx(Eo,{})]})]})}function Mo({pages:n,currentPageId:r,onPageSelect:a,onPageAdd:s,onPageDelete:i,onPageDuplicate:o,onPageRename:l,onSetHome:c}){const[d,h]=t.useState(!1),[p,m]=t.useState(""),[f,x]=t.useState(""),[v,y]=t.useState(null),[w,j]=t.useState(""),[N,C]=t.useState(null),S=e=>{w.trim()&&(l(e,w),y(null))};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[e.jsxs("div",{className:"p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Páginas"}),e.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition",children:e.jsx(b,{className:"w-5 h-5 text-white"})})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[n.length," página",1!==n.length?"s":""]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:e.jsx(B,{children:n.map(t=>e.jsx(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:u("relative group rounded-lg transition-colors",r===t.id?"bg-blue-600":"bg-white/5 hover:bg-white/10"),children:v===t.id?e.jsxs("div",{className:"p-3",children:[e.jsx("input",{type:"text",value:w,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&S(t.id),"Escape"===e.key&&y(null)},className:"w-full px-2 py-1 bg-white/10 border border-white/20 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>S(t.id),className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700",children:e.jsx(W,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>y(null),className:"flex-1 px-2 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700",children:e.jsx(g,{className:"w-4 h-4 mx-auto"})})]})]}):e.jsxs("button",{onClick:()=>a(t.id),className:"w-full p-3 text-left",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.isHome&&e.jsx(he,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-white truncate",children:t.name})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),C(N===t.id?null:t.id)},className:"p-1 opacity-0 group-hover:opacity-100 hover:bg-white/10 rounded transition",children:e.jsx(re,{className:"w-4 h-4 text-white"})}),e.jsx(B,{children:N===t.id&&e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-white/10 rounded-lg shadow-xl z-50",children:[!t.isHome&&e.jsxs("button",{onClick:e=>{e.stopPropagation(),c(t.id),C(null)},className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"Definir como Home"]}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),(e=>{y(e.id),j(e.name),C(null)})(t)},className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Renomear"]}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),o(t.id),C(null)},className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Duplicar"]}),n.length>1&&e.jsxs("button",{onClick:e=>{e.stopPropagation(),i(t.id),C(null)},className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2 border-t border-white/10",children:[e.jsx(k,{className:"w-4 h-4"}),"Deletar"]})]})})]})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 truncate",children:t.path})]})},t.id))})}),e.jsx(B,{children:d&&e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"p-4 border-t border-white/10 bg-black/20",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Nome da Página"}),e.jsx("input",{type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"Sobre Nós",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Caminho (Path)"}),e.jsx("input",{type:"text",value:f,onChange:e=>x(e.target.value),placeholder:"/about",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{p.trim()&&f.trim()&&(s(p,f),m(""),x(""),h(!1))},disabled:!p.trim()||!f.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition",children:"Adicionar"}),e.jsx("button",{onClick:()=>{h(!1),m(""),x("")},className:"flex-1 px-4 py-2 bg-white/5 text-white rounded-lg font-semibold hover:bg-white/10 transition",children:"Cancelar"})]})]})})}),!d&&e.jsx("div",{className:"p-4 border-t border-white/10",children:e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"💡 Crie páginas adicionais para sites multi-página"})})]})}const To={GENERATE_PAGE:{name:"GENERATE_PAGE",description:"Gera uma página completa baseada na descrição",params:["description"],execute:async function(e){let t="";return/landing|sale|venda/i.test(e)&&(t=`<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Landing Page</title>\n  <script src="https://cdn.tailwindcss.com"><\/script>\n</head>\n<body class="bg-gray-50">\n  ${yo.find(e=>"navbar-modern"===e.id)?.code()||""}\n  ${yo.find(e=>"hero-centered"===e.id)?.code()||""}\n  ${yo.find(e=>"features-grid-3x3"===e.id)?.code()||""}\n</body>\n</html>`),{success:!0,action:"replace",code:t,message:"Página gerada com sucesso!"}}},ADD_COMPONENT:{name:"ADD_COMPONENT",description:"Adiciona um componente específico",params:["componentType","position?"],execute:async function(e,t="append"){const n=yo.find(t=>t.id.includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase()));return n?{success:!0,action:"insert",code:n.code(),message:`Componente "${n.name}" adicionado!`,position:t}:{success:!1,action:"insert",message:`Componente "${e}" não encontrado. Componentes disponíveis: ${yo.map(e=>e.id).join(", ")}`}}},UPDATE_STYLES:{name:"UPDATE_STYLES",description:"Atualiza estilos CSS de um seletor",params:["selector","styles"],execute:async function(e,t){return{success:!0,action:"update",selector:e,message:`Estilos atualizados para "${e}"`,code:`<style>\n${e} {\n  ${t}\n}\n</style>`}}},FIX_RESPONSIVE:{name:"FIX_RESPONSIVE",description:"Corrige responsividade para um breakpoint",params:["breakpoint"],execute:async function(e){const t={mobile:"(max-width: 640px)",tablet:"(max-width: 1024px)",desktop:"(min-width: 1024px)"};return{success:!0,action:"update",message:`Responsividade otimizada para ${e}`,code:`<style>\n@media ${t[e]||t.mobile} {\n  /* Ajustes responsivos serão aplicados aqui */\n  body { padding: 1rem; }\n  h1 { font-size: calc(2rem + 2vw); }\n  .container { max-width: 100%; }\n}\n</style>`}}},OPTIMIZE_CODE:{name:"OPTIMIZE_CODE",description:"Otimiza o código",params:["type?"],execute:async function(e="all"){return{success:!0,action:"optimize",message:`Código otimizado (${e})`,code:"\x3c!-- Otimizações aplicadas --\x3e"}}}};let Io=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};function Do({onSendMessage:n,onDetectContext:r,userId:a,isExpanded:s}){const{pages:i,currentPage:o,addPage:l,deletePage:c,updatePage:d,setCurrentPage:h,setHomePage:p,duplicatePage:m,renamePage:f}=function(){const[e,n]=t.useState([{id:Io(),name:"Home",path:"/",htmlCode:'<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Nova Página</title>\n  <script src="https://cdn.tailwindcss.com"><\/script>\n</head>\n<body class="bg-gray-50">\n  <div class="min-h-screen flex items-center justify-center">\n    <div class="text-center">\n      <h1 class="text-4xl font-bold text-gray-900 mb-4">Nova Página</h1>\n      <p class="text-xl text-gray-600">Comece a editar...</p>\n    </div>\n  </div>\n</body>\n</html>',cssCode:"",jsCode:"",isHome:!0,createdAt:new Date,updatedAt:new Date}]),[r,a]=t.useState(e[0].id),s=e.find(e=>e.id===r)||e[0],i=t.useCallback((e,t)=>{const r={id:Io(),name:e,path:t,htmlCode:'<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Nova Página</title>\n  <script src="https://cdn.tailwindcss.com"><\/script>\n</head>\n<body class="bg-gray-50">\n  <div class="min-h-screen flex items-center justify-center">\n    <div class="text-center">\n      <h1 class="text-4xl font-bold text-gray-900 mb-4">Nova Página</h1>\n      <p class="text-xl text-gray-600">Comece a editar...</p>\n    </div>\n  </div>\n</body>\n</html>',cssCode:"",jsCode:"",isHome:!1,createdAt:new Date,updatedAt:new Date};n(e=>[...e,r]),a(r.id)},[]),o=t.useCallback(e=>{n(t=>{const n=t.filter(t=>t.id!==e);return 0===n.length?t:(e===r&&a(n[0].id),n)})},[r]),l=t.useCallback((e,t)=>{n(n=>n.map(n=>n.id===e?{...n,...t,updatedAt:new Date}:n))},[]),c=t.useCallback(e=>{a(e)},[]),u=t.useCallback(e=>{n(t=>t.map(t=>({...t,isHome:t.id===e})))},[]),d=t.useCallback(t=>{const r=e.find(e=>e.id===t);if(!r)return;const s={...r,id:Io(),name:`${r.name} (Copy)`,path:`${r.path}-copy`,isHome:!1,createdAt:new Date,updatedAt:new Date};n(e=>[...e,s]),a(s.id)},[e]),h=t.useCallback((e,t)=>{l(e,{name:t})},[l]);return{pages:e,currentPage:s,addPage:i,deletePage:o,updatePage:l,setCurrentPage:c,setHomePage:u,duplicatePage:d,renamePage:h}}(),[g,x]=t.useState("split"),[v,b]=t.useState("desktop"),[k,j]=t.useState("html"),[N,C]=t.useState(o?.htmlCode||'<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Meu Site</title>\n  <script src="https://cdn.tailwindcss.com"><\/script>\n</head>\n<body class="bg-gray-50">\n  <div class="min-h-screen flex items-center justify-center">\n    <div class="text-center">\n      <h1 class="text-6xl font-bold text-gray-900 mb-4">\n        Bem-vindo ao\n        <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">\n          Construtor\n        </span>\n      </h1>\n      <p class="text-xl text-gray-600 mb-8">\n        Use a IA para criar sua página perfeita\n      </p>\n      <button class="px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">\n        Começar Agora\n      </button>\n    </div>\n  </div>\n</body>\n</html>'),[S,E]=t.useState(o?.cssCode||""),[P,M]=t.useState(o?.jsCode||""),[T,I]=t.useState(!1),[D,A]=t.useState(!0),[R,z]=t.useState(!1),[O,_]=t.useState(""),[L,$]=t.useState([]),F=t.useRef(null),B=t.useRef(null),{sendMessage:U,isStreaming:q}=Ys(),{handleError:W}=Gs();t.useEffect(()=>{o&&(C(o.htmlCode),E(o.cssCode),M(o.jsCode))},[o?.id]),t.useEffect(()=>{if(o){const e=setTimeout(()=>{d(o.id,{htmlCode:N,cssCode:S,jsCode:P})},500);return()=>clearTimeout(e)}},[N,S,P,o?.id,d]);const G=`${N}\n<style>\n${S}\n</style>\n<script>\n${P}\n<\/script>`;t.useEffect(()=>{if(F.current){const e=F.current,t=e.contentDocument||e.contentWindow?.document;t&&(t.open(),t.write(G),t.close())}},[G]);const Y=async()=>{if(!O.trim()||q)return;const e=O.trim();_(""),$(t=>[...t,{role:"user",content:e}]);try{const t=await U(e,{context:"visual-editor",systemPrompt:'Você é um expert em web development e UI/UX design.\n\nCAPACIDADES:\n1. Gerar páginas completas profissionais e responsivas\n2. Adicionar componentes específicos ao código existente\n3. Modificar estilos mantendo consistência visual\n4. Corrigir problemas de responsividade\n5. Otimizar performance e acessibilidade\n6. Criar designs modernos e atraentes\n\nSTACK TECNOLÓGICO:\n- HTML5 semântico\n- Tailwind CSS (SEMPRE use Tailwind)\n- JavaScript vanilla (quando necessário)\n- Design mobile-first\n\nPADRÕES DE DESIGN:\n- Cores vibrantes e gradientes\n- Glassmorphism e blur effects\n- Animações sutis (hover, transitions)\n- Spacing generoso (whitespace)\n- Typography moderna (font-bold, text-lg+)\n- Componentes com shadow e rounded\n\nREGRAS CRÍTICAS:\n1. SEMPRE mobile-first e 100% responsivo\n2. Acessibilidade WCAG AA mínimo\n3. Performance otimizada (lazy loading, etc)\n4. SEO-friendly (meta tags, semantic HTML)\n5. Código limpo e bem comentado\n6. Tailwind CSS via CDN (script tag)\n\nFERRAMENTAS DISPONÍVEIS:\nUse as seguintes ferramentas quando apropriado:\n\n[GENERATE_PAGE: descrição] - Gera página completa\nExemplo: [GENERATE_PAGE: landing page para vender curso online]\n\n[ADD_COMPONENT: tipo, posição] - Adiciona componente\nExemplo: [ADD_COMPONENT: pricing-table, append]\nTipos disponíveis: navbar, hero, features, pricing, form, cta, footer\n\n[UPDATE_STYLES: seletor, propriedades] - Modifica CSS\nExemplo: [UPDATE_STYLES: .hero, background: linear-gradient(...)]\n\n[FIX_RESPONSIVE: breakpoint] - Corrige responsivo\nExemplo: [FIX_RESPONSIVE: mobile]\n\n[OPTIMIZE_CODE: tipo] - Otimiza código\nExemplo: [OPTIMIZE_CODE: performance]\n\nFLUXO DE TRABALHO:\n1. Analise o pedido do usuário\n2. Decida qual ferramenta usar (se aplicável)\n3. Gere código HTML completo com Tailwind\n4. Retorne código limpo e funcional\n\nEXEMPLO DE INTERAÇÃO:\nUser: "Crie uma landing page moderna"\nAI: [GENERATE_PAGE: landing page moderna com hero e features]\n```html\n<!DOCTYPE html>\n<html>...</html>\n```\n\nUser: "Adicione uma seção de preços"\nAI: [ADD_COMPONENT: pricing, append]\nVou adicionar uma tabela de preços profissional.\n```html\n\x3c!-- Pricing Section --\x3e\n...\n```\n\nIMPORTANTE: Sempre retorne código funcional e visualmente impressionante!',model:"claude"}),{updatedCode:n,messages:r}=await async function(e,t){const n=function(e){const t=/\[([A-Z_]+):\s*([^\]]+)\]/g,n=[];let r;for(;null!==(r=t.exec(e));)n.push({tool:r[1],params:r[2].split(",").map(e=>e.trim())});return n}(e),r=[];let a=t;for(const i of n){const e=To[i.tool];if(e)try{const t=await e.execute(...i.params);r.push(t.message),t.success&&t.code&&("replace"===t.action?a=t.code:"insert"===t.action?a="append"===t.position?a.replace("</body>",`${t.code}\n</body>`):a.replace("<body>",`<body>\n${t.code}`):"update"===t.action&&(a=a.replace("</head>",`${t.code}\n</head>`)))}catch(s){r.push(`❌ Erro ao executar ${i.tool}: ${s}`)}else r.push(`⚠️ Ferramenta "${i.tool}" não encontrada`)}return{updatedCode:a,messages:r}}(t,N);n!==N&&(C(n),ci.success("Código atualizado pela IA!")),$(e=>[...e,{role:"assistant",content:r.length>0?r.join("\n"):"Código gerado com sucesso!"}])}catch(t){W(t,{context:"Visual Editor AI",userMessage:"Erro ao gerar código"})}};return e.jsxs("div",{className:"flex h-full bg-gray-950",children:[D&&e.jsx("div",{className:"w-80 border-r border-white/10",children:e.jsx(Mo,{pages:i,currentPageId:o?.id||"",onPageSelect:h,onPageAdd:l,onPageDelete:c,onPageDuplicate:m,onPageRename:f,onSetHome:p})}),T&&e.jsx("div",{className:"w-80 border-r border-white/10",children:e.jsx(No,{onComponentSelect:e=>{const t=e.code(),n=N.replace("</body>",`${t}\n</body>`);C(n),ci.success(`${e.name} adicionado!`)}})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 border-b border-white/10 bg-gray-900",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white/5 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>x("code"),className:u("px-3 py-1.5 rounded text-sm transition-colors","code"===g?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x("split"),className:u("px-3 py-1.5 rounded text-sm transition-colors","split"===g?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:"Split"}),e.jsx("button",{onClick:()=>x("preview"),className:u("px-3 py-1.5 rounded text-sm transition-colors","preview"===g?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:e.jsx(ie,{className:"w-4 h-4"})})]}),("preview"===g||"split"===g)&&e.jsxs("div",{className:"flex items-center gap-1 bg-white/5 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>b("desktop"),className:u("p-1.5 rounded transition-colors","desktop"===v?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b("tablet"),className:u("p-1.5 rounded transition-colors","tablet"===v?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b("mobile"),className:u("p-1.5 rounded transition-colors","mobile"===v?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:e.jsx(te,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>A(!D),className:u("px-4 py-2 rounded-lg text-sm font-medium transition-colors",D?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),children:["Páginas (",i.length,")"]}),e.jsx("button",{onClick:()=>I(!T),className:u("px-4 py-2 rounded-lg text-sm font-medium transition-colors",T?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),children:"Componentes"}),e.jsx("button",{onClick:()=>z(!R),className:u("px-4 py-2 rounded-lg text-sm font-medium transition-colors",R?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),children:"Design"}),e.jsxs("button",{onClick:()=>{const e=new Blob([G],{type:"text/html"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="my-website.html",n.click(),URL.revokeObjectURL(t),ci.success("Download iniciado!")},className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),"Download"]}),e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Deploy"]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[("code"===g||"split"===g)&&e.jsxs("div",{className:u("flex flex-col border-r border-white/10","split"===g?"w-1/2":"flex-1"),children:[e.jsx("div",{className:"flex items-center gap-1 px-4 py-2 border-b border-white/10 bg-gray-900",children:["html","css","js"].map(t=>e.jsx("button",{onClick:()=>j(t),className:u("px-4 py-2 rounded text-sm font-medium transition-colors",k===t?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),children:t.toUpperCase()},t))}),e.jsxs("div",{className:"flex-1",children:["html"===k&&e.jsx(ho,{value:N,onChange:e=>C(e||""),language:"html"}),"css"===k&&e.jsx(ho,{value:S,onChange:e=>E(e||""),language:"css"}),"js"===k&&e.jsx(ho,{value:P,onChange:e=>M(e||""),language:"javascript"})]})]}),("preview"===g||"split"===g)&&e.jsx("div",{className:u("flex items-center justify-center p-8 bg-gray-900","split"===g?"w-1/2":"flex-1"),children:e.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden transition-all h-full",style:{desktop:{width:"100%",height:"100%"},tablet:{width:"768px",height:"1024px"},mobile:{width:"375px",height:"667px"}}[v],children:e.jsx("iframe",{ref:F,className:"w-full h-full border-0",title:"Preview",sandbox:"allow-scripts"})})})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-gray-900",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{ref:B,value:O,onChange:e=>_(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),Y())},placeholder:"Peça para a IA gerar ou modificar código... (Ctrl+Enter)",maxRows:3,disabled:q,className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 resize-none"}),e.jsx("button",{onClick:Y,disabled:!O.trim()||q,className:u("px-6 py-3 rounded-lg font-medium flex items-center gap-2 transition-all",O.trim()&&!q?"bg-blue-600 text-white hover:bg-blue-700":"bg-white/5 text-gray-500 cursor-not-allowed"),children:q?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-5 h-5 animate-spin"}),"Gerando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-5 h-5"}),"Enviar"]})})]})})]}),R&&e.jsx("div",{className:"w-80 border-l border-white/10",children:e.jsx(Po,{})})]})}const Ao=[{id:"vivid",name:"Vibrante",icon:"🎨"},{id:"natural",name:"Natural",icon:"🌿"},{id:"realistic",name:"Realista",icon:"📸"},{id:"artistic",name:"Artístico",icon:"🖼️"}],Ro=[{id:"1024x1024",name:"Quadrado",size:"1024x1024"},{id:"1792x1024",name:"Paisagem",size:"1792x1024"},{id:"1024x1792",name:"Retrato",size:"1024x1792"}],zo=[{icon:"🎯",text:"Banner promocional moderno e minimalista"},{icon:"🚀",text:"Logo futurista e profissional"},{icon:"🎨",text:"Arte abstrata vibrante e colorida"},{icon:"📱",text:"Thumbnail para redes sociais"}];function Oo({onSendMessage:n,onDetectContext:r,userId:a,isExpanded:s}){const[i,o]=t.useState(""),[l,c]=t.useState([]),[d,h]=t.useState(!1),[m,v]=t.useState("vivid"),[b,w]=t.useState("1024x1024"),[j,N]=t.useState(""),[C,S]=t.useState(null),[E,P]=t.useState(null),[M,T]=t.useState(!1),I=t.useRef(null),{toast:D}=p(),A=f(e=>e.user);t.useEffect(()=>{R()},[]);const R=async()=>{if(A)try{const{data:e,error:t}=await x.from("generated_images").select("id, url, prompt, timestamp:created_at, size, model, liked").eq("user_id",A.id).is("deleted_at",null).order("created_at",{ascending:!1}).limit(50);if(t)throw t;if(e){const t=e.map(e=>({id:e.id,url:e.url,prompt:e.prompt,timestamp:new Date(e.timestamp).getTime(),size:e.size,model:e.model,liked:e.liked||!1}));c(t)}}catch(e){}};t.useEffect(()=>{if(i.trim()&&r){const e=setTimeout(()=>{r(i)},500);return()=>clearTimeout(e)}},[i,r]);const z=async()=>{if(!i.trim()||d||!A)return;const e=i.trim();o(""),h(!0);try{n?.(e),D({title:"Gerando imagem...",description:"Isso pode levar alguns segundos"});const{data:{session:t}}=await x.auth.getSession();if(!t)throw new Error("Não autenticado");const r=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({prompt:e,size:b,quality:"standard",provider:"auto"})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Erro ao gerar imagem")}const a=await r.json();if(!a.success||!a.image?.url)throw new Error("Resposta inválida do servidor");{const{data:t,error:n}=await x.from("generated_images").insert({user_id:A.id,url:a.image.url,prompt:e,model:a.image.provider||"pollinations",style:m,size:b,quality:"standard"}).select().single();if(n)throw n;const r={id:t.id,url:a.image.url,prompt:e,timestamp:Date.now(),size:b,model:a.image.provider||"pollinations"};c(e=>[r,...e]),D({title:"Imagem gerada!",description:a.image.free?"🎉 Gerada gratuitamente com Pollinations.ai!":"Sua imagem foi criada com sucesso"})}}catch(t){D({title:"Erro ao gerar imagem",description:t.message||"Tente novamente",variant:"destructive"})}finally{h(!1),I.current?.focus()}},O=async e=>{c(t=>t.map(t=>t.id===e?{...t,liked:!t.liked}:t));try{const t=l.find(t=>t.id===e);if(!t)return;await x.from("generated_images").update({liked:!t.liked}).eq("id",e)}catch(t){c(t=>t.map(t=>t.id===e?{...t,liked:!t.liked}:t))}},_=async e=>{try{const t=await fetch(e.url),n=await t.blob(),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`syncads-image-${e.id}.png`,a.click(),URL.revokeObjectURL(r),D({title:"Download iniciado",description:"A imagem está sendo baixada"})}catch(t){D({title:"Erro ao baixar",description:"Tente novamente",variant:"destructive"})}},L=l.filter(e=>!j||e.prompt.toLowerCase().includes(j.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-white/10 bg-black/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(we,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Galeria de Imagens"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[l.length," imagens geradas"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Buscar imagens...",className:"pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50 w-64"})]}),e.jsx("button",{onClick:()=>T(!M),className:u("p-2 rounded-lg transition-colors",M?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"),children:e.jsx(le,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{children:M&&e.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"flex gap-4 pb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mb-2 block",children:"Estilo"}),e.jsx("div",{className:"flex gap-2",children:Ao.map(t=>e.jsxs("button",{onClick:()=>v(t.id),className:u("flex-1 px-3 py-2 rounded-lg text-sm transition-all",m===t.id?"bg-purple-600 text-white shadow-lg shadow-purple-600/30":"bg-white/5 text-gray-400 hover:bg-white/10"),children:[e.jsx("span",{className:"mr-1",children:t.icon}),t.name]},t.id))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mb-2 block",children:"Tamanho"}),e.jsx("div",{className:"flex gap-2",children:Ro.map(t=>e.jsx("button",{onClick:()=>w(t.size),className:u("flex-1 px-3 py-2 rounded-lg text-sm transition-all",b===t.size?"bg-purple-600 text-white shadow-lg shadow-purple-600/30":"bg-white/5 text-gray-400 hover:bg-white/10"),children:t.name},t.id))})]})]})})}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{ref:I,value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),z())},placeholder:"Descreva a imagem que você quer gerar...",maxRows:3,disabled:d,className:u("w-full px-4 py-3 pr-12","bg-white/5 border border-white/10 rounded-xl","text-white placeholder:text-gray-500 text-sm","focus:outline-none focus:ring-2 focus:ring-purple-500/50","disabled:opacity-50 resize-none")}),e.jsx("button",{onClick:z,disabled:!i.trim()||d,className:u("absolute right-2 bottom-2 w-9 h-9 rounded-lg flex items-center justify-center transition-all",i.trim()&&!d?"bg-purple-600 text-white shadow-lg shadow-purple-600/30 hover:bg-purple-700":"bg-white/5 text-gray-500 cursor-not-allowed"),children:d?e.jsx(H,{className:"w-5 h-5 animate-spin"}):e.jsx(Te,{className:"w-5 h-5"})})]}),!d&&0===l.length&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:zo.map((t,n)=>e.jsxs("button",{onClick:()=>(e=>{o(e),I.current?.focus()})(t.text),className:"flex-shrink-0 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 text-sm text-gray-300 transition-colors",children:[e.jsx("span",{className:"mr-1",children:t.icon}),t.text]},n))})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d&&0===l.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[e.jsx(F.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white font-medium",children:"Gerando sua imagem..."}),e.jsx("p",{className:"text-sm text-gray-400",children:"Isso pode levar alguns segundos"})]})]}):0===L.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[e.jsx(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-2xl",children:e.jsx(U,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:j?"Nenhuma imagem encontrada":"Galeria vazia"}),e.jsx("p",{className:"text-gray-400",children:j?"Tente buscar por outro termo":"Comece gerando sua primeira imagem com IA"})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.jsx(B,{children:L.map((t,n)=>e.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.05*n},className:"group relative aspect-square rounded-xl overflow-hidden bg-white/5 border border-white/10 cursor-pointer",onClick:()=>S(t),children:[e.jsx("img",{src:t.url,alt:t.prompt,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-2",children:[e.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:t.prompt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.timestamp).toLocaleDateString()}),e.jsx("div",{className:"flex gap-1",children:e.jsx("button",{onClick:e=>{e.stopPropagation(),O(t.id)},className:"p-1.5 rounded-lg bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:t.liked?e.jsx(Ae,{className:"w-4 h-4 text-red-500"}):e.jsx(ue,{className:"w-4 h-4 text-white"})})})]})]})}),e.jsx("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:e=>{e.stopPropagation(),_(t)},className:"p-1.5 rounded-lg bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:e.jsx(ae,{className:"w-4 h-4 text-white"})})})]},t.id))})})}),e.jsx(B,{children:C&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>S(null),children:e.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-6xl w-full max-h-[90vh] bg-gray-900 rounded-2xl overflow-hidden border border-white/10",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-black/20",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[e.jsx("p",{className:"text-white font-medium truncate",children:C.prompt}),e.jsxs("p",{className:"text-sm text-gray-400",children:[C.size," • ",new Date(C.timestamp).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>O(C.id),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:C.liked?e.jsx(Ae,{className:"w-5 h-5 text-red-500"}):e.jsx(ue,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>(e=>{navigator.clipboard.writeText(e.url),P(e.id),setTimeout(()=>P(null),2e3),D({title:"Link copiado!",description:"URL da imagem copiada para área de transferência"})})(C),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:E===C.id?e.jsx(W,{className:"w-5 h-5 text-green-500"}):e.jsx(Z,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>_(C),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:e.jsx(ae,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>(async e=>{c(t=>t.filter(t=>t.id!==e)),S(null),D({title:"Imagem removida",description:"A imagem foi excluída da galeria"});try{await x.from("generated_images").update({deleted_at:(new Date).toISOString()}).eq("id",e)}catch(t){}})(C.id),className:"p-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 transition-colors",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>S(null),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:e.jsx(g,{className:"w-5 h-5 text-white"})})]})]}),e.jsx("div",{className:"flex items-center justify-center p-8 max-h-[calc(90vh-100px)] overflow-auto",children:e.jsx("img",{src:C.url,alt:C.prompt,className:"max-w-full max-h-full object-contain rounded-lg"})})]})})})]})}var _o={};async function Lo(e){try{const{data:t,error:n}=await x.from("GlobalAiConnection").select("*").eq("userId",e.userId).eq("isActive",!0).single();if(n||!t)return{success:!1,error:"Configuração de IA não encontrada. Configure em Configurações > IA Global."};const r=e.provider||"runway",a=_o.VITE_RUNWAY_API_KEY||t?.runwayKey,s=_o.VITE_PIKA_API_KEY||t?.pikaKey;return"runway"===r&&a?await async function(e,t,n){try{e.onProgress&&e.onProgress("🎨 Otimizando prompt para vídeo...",10);const r=await $o(e.prompt,n);e.onProgress&&e.onProgress("🎬 Enviando para Runway Gen-2...",30);const a=await fetch("https://api.runwayml.com/v1/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({prompt:r,duration:e.duration||5,aspect_ratio:e.aspectRatio||"16:9",model:"gen2"})});if(!a.ok){const e=await a.json();throw new Error(e.message||"Erro ao criar vídeo no Runway")}const s=(await a.json()).id;e.onProgress&&e.onProgress("⏳ Gerando vídeo (isso pode levar 1-2 minutos)...",50);const i=await async function(e,t,n){const r=60;let a=0;for(;a<r;){const s=await fetch(`https://api.runwayml.com/v1/generations/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=await s.json();if("SUCCEEDED"===e.status&&e.output_url)return e.output_url;if("FAILED"===e.status)throw new Error("Geração de vídeo falhou no Runway");n&&n(`⏳ Processando... (${a}/${r})`,50+a/r*30)}await new Promise(e=>setTimeout(e,5e3)),a++}throw new Error("Timeout ao gerar vídeo no Runway")}(s,t,e.onProgress);e.onProgress&&e.onProgress("📤 Fazendo upload do vídeo...",80);const o=await Fo(i,e.userId,"runway");return e.onProgress&&e.onProgress("✅ Vídeo gerado com sucesso!",100),{success:!0,videoUrl:o||i,downloadUrl:o||i,metadata:{prompt:r,duration:e.duration||5,aspectRatio:e.aspectRatio||"16:9",provider:"runway",generatedAt:(new Date).toISOString(),status:"completed",jobId:s}}}catch(r){return{success:!1,error:r.message}}}(e,a,t.apiKey||""):"pika"===r&&s?await async function(e,t,n){try{e.onProgress&&e.onProgress("🎨 Otimizando prompt para vídeo...",10);const r=await $o(e.prompt,n);e.onProgress&&e.onProgress("🎬 Enviando para Pika Labs...",30);const a=await fetch("https://api.pika.art/v1/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({prompt:r,parameters:{duration:e.duration||3,aspect_ratio:e.aspectRatio||"16:9",motion:2,style:e.style||"realistic"}})});if(!a.ok){const e=await a.json();throw new Error(e.message||"Erro ao criar vídeo no Pika")}const s=(await a.json()).job_id;e.onProgress&&e.onProgress("⏳ Gerando vídeo (isso pode levar 1-2 minutos)...",50);const i=await async function(e,t,n){const r=60;let a=0;for(;a<r;){const s=await fetch(`https://api.pika.art/v1/jobs/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=await s.json();if("completed"===e.status&&e.video_url)return e.video_url;if("failed"===e.status)throw new Error("Geração de vídeo falhou no Pika Labs");n&&n(`⏳ Processando... (${a}/${r})`,50+a/r*30)}await new Promise(e=>setTimeout(e,5e3)),a++}throw new Error("Timeout ao gerar vídeo no Pika Labs")}(s,t,e.onProgress);e.onProgress&&e.onProgress("📤 Fazendo upload do vídeo...",80);const o=await Fo(i,e.userId,"pika");return e.onProgress&&e.onProgress("✅ Vídeo gerado com sucesso!",100),{success:!0,videoUrl:o||i,downloadUrl:o||i,metadata:{prompt:r,duration:e.duration||3,aspectRatio:e.aspectRatio||"16:9",provider:"pika",generatedAt:(new Date).toISOString(),status:"completed",jobId:s}}}catch(r){return{success:!1,error:r.message}}}(e,s,t.apiKey||""):await async function(e){return{success:!1,error:`🎬 **Geração de Vídeos - Em Configuração**\n\nPara ativar esta funcionalidade, você precisa:\n\n1. **Runway Gen-2**: Configure \`VITE_RUNWAY_API_KEY\` em .env\n   - Obtenha em: https://runwayml.com\n   - Plano recomendado: Standard ($12/vídeo)\n\n2. **Pika Labs**: Configure \`VITE_PIKA_API_KEY\` em .env\n   - Obtenha em: https://pika.art\n   - Plano recomendado: Pro ($10/mês)\n\nPrompt salvo: "${e.prompt}"\n\n_Após configurar, esta funcionalidade estará disponível!_`,metadata:{prompt:e.prompt,duration:e.duration||5,aspectRatio:e.aspectRatio||"16:9",provider:"none",generatedAt:(new Date).toISOString(),status:"pending"}}}(e)}catch(t){return{success:!1,error:t.message||"Erro desconhecido ao gerar vídeo"}}}async function $o(e,t){if(!t)return e;try{const n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"Você é um especialista em criar prompts para geração de vídeos com IA. Otimize o prompt do usuário para gerar vídeos cinematográficos de alta qualidade. Seja descritivo sobre movimento, iluminação, câmera e atmosfera. Mantenha em inglês."},{role:"user",content:`Otimize este prompt para geração de vídeo: "${e}"`}],temperature:.7,max_tokens:150})});if(n.ok){const t=await n.json();return t.choices[0]?.message?.content||e}}catch(n){}return e}async function Fo(e,t,n){try{const r=await fetch(e).then(e=>e.blob()),a=`videos/${t}/${n}_${Date.now()}.mp4`,{error:s}=await x.storage.from("ai-generated").upload(a,r,{contentType:"video/mp4",cacheControl:"3600",upsert:!1});if(s)return null;const{data:i}=x.storage.from("ai-generated").getPublicUrl(a);return i.publicUrl}catch(r){return null}}const Bo=[{id:"3",name:"3 segundos",duration:3},{id:"5",name:"5 segundos",duration:5},{id:"10",name:"10 segundos",duration:10}],Uo=[{id:"realistic",name:"Realista",icon:"🎬"},{id:"animated",name:"Animado",icon:"🎨"},{id:"cinematic",name:"Cinemático",icon:"🎥"},{id:"abstract",name:"Abstrato",icon:"🌀"}],Ho=[{icon:"🚀",text:"Animação de logo corporativo moderno"},{icon:"🌊",text:"Cena relaxante de natureza"},{icon:"🎯",text:"Vídeo promocional de produto"},{icon:"✨",text:"Transição animada com efeitos"}];function qo({onSendMessage:n,onDetectContext:r,userId:a,isExpanded:s}){const[i,o]=t.useState(""),[l,c]=t.useState([]),[d,h]=t.useState(!1),[m,f]=t.useState("realistic"),[x,v]=t.useState(5),[b,w]=t.useState(""),[j,N]=t.useState(null),[C,S]=t.useState(null),[E,P]=t.useState(!1),[M,T]=t.useState(!1),[I,D]=t.useState(0),A=t.useRef(null),R=t.useRef(null),{toast:z}=p();t.useEffect(()=>{const e=localStorage.getItem("syncads_generated_videos");if(e)try{c(JSON.parse(e))}catch(t){}},[]),t.useEffect(()=>{l.length>0&&localStorage.setItem("syncads_generated_videos",JSON.stringify(l))},[l]),t.useEffect(()=>{if(i.trim()&&r){const e=setTimeout(()=>{r(i)},500);return()=>clearTimeout(e)}},[i,r]);const O=async()=>{if(!i.trim()||d||!a)return;const e=i.trim();o(""),h(!0),D(0);const t={id:Date.now().toString(),url:"",prompt:e,timestamp:Date.now(),duration:x,resolution:"1920x1080",status:"generating"};c(e=>[t,...e]);try{n?.(e),z({title:"Gerando vídeo...",description:"Isso pode levar alguns minutos"});const r=setInterval(()=>{D(e=>e>=90?(clearInterval(r),90):e+10)},3e3),s=await Lo({prompt:e,duration:x,style:m,userId:a});if(clearInterval(r),D(100),!s.success||!s.videoUrl)throw new Error(s.error||"Erro ao gerar vídeo");c(e=>e.map(e=>e.id===t.id?{...e,url:s.videoUrl,thumbnailUrl:s.thumbnailUrl,status:"ready"}:e)),z({title:"Vídeo gerado!",description:"Seu vídeo foi criado com sucesso"})}catch(r){c(e=>e.map(e=>e.id===t.id?{...e,status:"error"}:e)),z({title:"Erro ao gerar vídeo",description:r.message||"Tente novamente",variant:"destructive"})}finally{h(!1),D(0),A.current?.focus()}},_=e=>{c(t=>t.map(t=>t.id===e?{...t,liked:!t.liked}:t))},L=async e=>{if("ready"===e.status)try{const t=await fetch(e.url),n=await t.blob(),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`syncads-video-${e.id}.mp4`,a.click(),URL.revokeObjectURL(r),z({title:"Download iniciado",description:"O vídeo está sendo baixado"})}catch(t){z({title:"Erro ao baixar",description:"Tente novamente",variant:"destructive"})}},$=e=>{c(t=>t.filter(t=>t.id!==e)),N(null),z({title:"Vídeo removido",description:"O vídeo foi excluído da galeria"})},V=l.filter(e=>!b||e.prompt.toLowerCase().includes(b.toLowerCase())),G=e=>`${e}s`;return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-white/10 bg-black/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center shadow-lg",children:e.jsx(Pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Galeria de Vídeos"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[l.filter(e=>"ready"===e.status).length," vídeos prontos"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",value:b,onChange:e=>w(e.target.value),placeholder:"Buscar vídeos...",className:"pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 w-64"})]}),e.jsx("button",{onClick:()=>P(!E),className:u("p-2 rounded-lg transition-colors",E?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"),children:e.jsx(le,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{children:E&&e.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"flex gap-4 pb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mb-2 block",children:"Estilo"}),e.jsx("div",{className:"flex gap-2",children:Uo.map(t=>e.jsxs("button",{onClick:()=>f(t.id),className:u("flex-1 px-3 py-2 rounded-lg text-sm transition-all",m===t.id?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-white/5 text-gray-400 hover:bg-white/10"),children:[e.jsx("span",{className:"mr-1",children:t.icon}),t.name]},t.id))})]}),e.jsxs("div",{className:"w-64",children:[e.jsx("label",{className:"text-xs text-gray-400 mb-2 block",children:"Duração"}),e.jsx("div",{className:"flex gap-2",children:Bo.map(t=>e.jsx("button",{onClick:()=>v(t.duration),className:u("flex-1 px-3 py-2 rounded-lg text-sm transition-all",x===t.duration?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-white/5 text-gray-400 hover:bg-white/10"),children:t.name},t.id))})]})]})})}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{ref:A,value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),O())},placeholder:"Descreva o vídeo que você quer gerar...",maxRows:3,disabled:d,className:u("w-full px-4 py-3 pr-12","bg-white/5 border border-white/10 rounded-xl","text-white placeholder:text-gray-500 text-sm","focus:outline-none focus:ring-2 focus:ring-blue-500/50","disabled:opacity-50 resize-none")}),e.jsx("button",{onClick:O,disabled:!i.trim()||d,className:u("absolute right-2 bottom-2 w-9 h-9 rounded-lg flex items-center justify-center transition-all",i.trim()&&!d?"bg-blue-600 text-white shadow-lg shadow-blue-600/30 hover:bg-blue-700":"bg-white/5 text-gray-500 cursor-not-allowed"),children:d?e.jsx(H,{className:"w-5 h-5 animate-spin"}):e.jsx(Te,{className:"w-5 h-5"})})]}),d&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Gerando vídeo..."}),e.jsxs("span",{className:"text-blue-500 font-medium",children:[I,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:e.jsx(F.div,{className:"h-full bg-gradient-to-r from-blue-600 to-cyan-600",initial:{width:0},animate:{width:`${I}%`},transition:{duration:.5}})})]}),!d&&0===l.length&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Ho.map((t,n)=>e.jsxs("button",{onClick:()=>(e=>{o(e),A.current?.focus()})(t.text),className:"flex-shrink-0 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 text-sm text-gray-300 transition-colors",children:[e.jsx("span",{className:"mr-1",children:t.icon}),t.text]},n))})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:0!==V.length||d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(B,{children:V.map((t,n)=>e.jsx(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.05*n},className:"group relative aspect-video rounded-xl overflow-hidden bg-white/5 border border-white/10",children:"generating"===t.status?e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-blue-600/20 to-cyan-600/20 backdrop-blur-sm",children:[e.jsx(H,{className:"w-12 h-12 text-blue-500 animate-spin mb-3"}),e.jsx("p",{className:"text-white text-sm font-medium",children:"Gerando..."}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:G(t.duration)})]}):"error"===t.status?e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-600/10",children:[e.jsx(g,{className:"w-12 h-12 text-red-500 mb-3"}),e.jsx("p",{className:"text-red-400 text-sm font-medium",children:"Erro ao gerar"}),e.jsx("button",{onClick:()=>$(t.id),className:"mt-3 px-3 py-1 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 text-xs transition-colors",children:"Remover"})]}):e.jsxs(e.Fragment,{children:[t.thumbnailUrl?e.jsx("img",{src:t.thumbnailUrl,alt:t.prompt,className:"w-full h-full object-cover"}):e.jsx("video",{src:t.url,className:"w-full h-full object-cover",muted:!0}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>N(t),children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsx(je,{className:"w-8 h-8 text-white ml-1"})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:[e.jsx("p",{className:"text-white text-sm font-medium line-clamp-2 mb-2",children:t.prompt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[e.jsx(X,{className:"w-3 h-3"}),e.jsx("span",{children:G(t.duration)})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),_(t.id)},className:"p-1.5 rounded-lg bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:t.liked?e.jsx(Ae,{className:"w-4 h-4 text-red-500"}):e.jsx(ue,{className:"w-4 h-4 text-white"})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),L(t)},className:"p-1.5 rounded-lg bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:e.jsx(ae,{className:"w-4 h-4 text-white"})})]})]})]})]})},t.id))})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[e.jsx(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center shadow-2xl",children:e.jsx(U,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:b?"Nenhum vídeo encontrado":"Galeria vazia"}),e.jsx("p",{className:"text-gray-400",children:b?"Tente buscar por outro termo":"Comece gerando seu primeiro vídeo com IA"})]})]})}),e.jsx(B,{children:j&&"ready"===j.status&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{N(null),T(!1)},children:e.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-6xl w-full bg-gray-900 rounded-2xl overflow-hidden border border-white/10",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-black/20",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[e.jsx("p",{className:"text-white font-medium truncate",children:j.prompt}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("span",{className:"text-sm text-gray-400",children:G(j.duration)}),e.jsx("span",{className:"text-sm text-gray-400",children:j.resolution}),e.jsx("span",{className:"text-sm text-gray-400",children:new Date(j.timestamp).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_(j.id),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:j.liked?e.jsx(Ae,{className:"w-5 h-5 text-red-500"}):e.jsx(ue,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>{var e;"ready"===(e=j).status&&(navigator.clipboard.writeText(e.url),S(e.id),setTimeout(()=>S(null),2e3),z({title:"Link copiado!",description:"URL do vídeo copiada para área de transferência"}))},className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:C===j.id?e.jsx(W,{className:"w-5 h-5 text-green-500"}):e.jsx(Z,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>L(j),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:e.jsx(ae,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>$(j.id),className:"p-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 transition-colors",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{N(null),T(!1)},className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:e.jsx(g,{className:"w-5 h-5 text-white"})})]})]}),e.jsx("div",{className:"relative bg-black aspect-video",children:e.jsx("video",{ref:R,src:j.url,className:"w-full h-full",controls:!0,autoPlay:!0,loop:!0})})]})})})]})}function Vo(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class Wo{constructor(){this.listeners={}}on(e,t,n){if(this.listeners[e]||(this.listeners[e]=new Set),null==n?void 0:n.once){const n=(...r)=>{this.un(e,n),t(...r)};return this.listeners[e].add(n),()=>this.un(e,n)}return this.listeners[e].add(t),()=>this.un(e,t)}un(e,t){var n;null===(n=this.listeners[e])||void 0===n||n.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(e=>e(...t))}}const Go={decode:function(e,t){return Vo(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});try{return yield n.decodeAudioData(e)}finally{n.close()}})},createBuffer:function(e,t){if(!e||0===e.length)throw new Error("channelData must be a non-empty array");if(t<=0)throw new Error("duration must be greater than 0");if("number"==typeof e[0]&&(e=[e]),!e[0]||0===e[0].length)throw new Error("channelData must contain non-empty channel arrays");!function(e){const t=e[0];if(t.some(e=>e>1||e<-1)){const n=t.length;let r=0;for(let e=0;e<n;e++){const n=Math.abs(t[e]);n>r&&(r=n)}for(const t of e)for(let e=0;e<n;e++)t[e]/=r}}(e);const n=e.map(e=>e instanceof Float32Array?e:Float32Array.from(e));return{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:e=>{const t=n[e];if(!t)throw new Error(`Channel ${e} not found`);return t},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Yo(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,a]of Object.entries(t))if("children"===r&&a)for(const[e,t]of Object.entries(a))t instanceof Node?n.appendChild(t):"string"==typeof t?n.appendChild(document.createTextNode(t)):n.appendChild(Yo(e,t));else"style"===r?Object.assign(n.style,a):"textContent"===r?n.textContent=a:n.setAttribute(r,a.toString());return n}function Ko(e,t,n){const r=Yo(e,t||{});return null==n||n.appendChild(r),r}var Xo=Object.freeze({__proto__:null,createElement:Ko,default:Ko});const Jo={fetchBlob:function(e,t,n){return Vo(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(e,t){Vo(this,void 0,void 0,function*(){if(!e.body||!e.headers)return;const n=e.body.getReader(),r=Number(e.headers.get("Content-Length"))||0;let a=0;const s=e=>{a+=(null==e?void 0:e.length)||0;const n=Math.round(a/r*100);t(n)};try{for(;;){const e=yield n.read();if(e.done)break;s(e.value)}}catch(n){}})}(r.clone(),t),r.blob()})}};function Zo(e){let t=e;const n=new Set;return{get value(){return t},set(e){Object.is(t,e)||(t=e,n.forEach(e=>e(t)))},update(e){this.set(e(t))},subscribe:e=>(n.add(e),()=>n.delete(e))}}function Qo(e,t){const n=Zo(e());return t.forEach(t=>t.subscribe(()=>{const t=e();Object.is(n.value,t)||n.set(t)})),{get value(){return n.value},subscribe:e=>n.subscribe(e)}}function el(e,t){let n;const r=()=>{n&&(n(),n=void 0),n=e()},a=t.map(e=>e.subscribe(r));return r(),()=>{n&&(n(),n=void 0),a.forEach(e=>e())}}class tl extends Wo{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(e){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=Zo(!1),this._currentTime=Zo(0),this._duration=Zo(0),this._volume=Zo(this.media.volume),this._muted=Zo(this.media.muted),this._playbackRate=Zo(this.media.playbackRate||1),this._seeking=Zo(!1),this.setupReactiveMediaEvents(),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),null!=e.playbackRate&&this.onMediaEvent("canplay",()=>{null!=e.playbackRate&&(this.media.playbackRate=e.playbackRate)},{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",()=>{this._isPlaying.set(!0)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",()=>{this._isPlaying.set(!1)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",()=>{this._isPlaying.set(!1)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",()=>{this._currentTime.set(this.media.currentTime)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",()=>{this._duration.set(this.media.duration||0)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",()=>{this._duration.set(this.media.duration||0)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",()=>{this._seeking.set(!0)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",()=>{this._seeking.set(!1)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)})),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",()=>{this._playbackRate.set(this.media.playbackRate)}))}onMediaEvent(e,t,n){return this.media.addEventListener(e,t,n),()=>this.media.removeEventListener(e,t,n)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return""!==this.media.canPlayType(e)}setSrc(e,t){const n=this.getSrc();if(e&&n===e)return;this.revokeSrc();const r=t instanceof Blob&&(this.canPlayType(t.type)||!e)?URL.createObjectURL(t):e;if(n&&this.media.removeAttribute("src"),r||e)try{this.media.src=r}catch(t){this.media.src=e}}destroy(){this.reactiveMediaEventCleanups.forEach(e=>e()),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(e){this.reactiveMediaEventCleanups.forEach(e=>e()),this.reactiveMediaEventCleanups=[],this.media=e,this.setupReactiveMediaEvents()}play(){return Vo(this,void 0,void 0,function*(){try{return yield this.media.play()}catch(Vo){if(Vo instanceof DOMException&&"AbortError"===Vo.name)return;throw Vo}})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,t){null!=t&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}function nl({maxTop:e,maxBottom:t,halfHeight:n,vScale:r,barMinHeight:a=0,barAlign:s}){let i=Math.round(e*n*r),o=i+Math.round(t*n*r)||1;return o<a&&(o=a,s||(i=o/2)),{topHeight:i,totalHeight:o}}function rl({barAlign:e,halfHeight:t,topHeight:n,totalHeight:r,canvasHeight:a}){return"top"===e?0:"bottom"===e?a-r:t-n}function al(e,t,n){const r=t-e.left,a=n-e.top;return[r/e.width,a/e.height]}function sl(e){return Boolean(e.barWidth||e.barGap||e.barAlign)}function il(e,t){if(!sl(t))return e;const n=t.barWidth||.5,r=n+(t.barGap||n/2);return 0===r?e:Math.floor(e/r)*r}function ol({scrollLeft:e,totalWidth:t,numCanvases:n}){if(0===t)return[0];const r=e/t,a=Math.floor(r*n);return[a-1,a,a+1]}function ll(e){const t=e._cleanup;"function"==typeof t&&t()}class cl extends Wo{constructor(e,t){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=e;const n=this.parentFromOptionsContainer(e.container);this.parent=n;const[r,a]=this.initHtml();n.appendChild(r),this.container=r,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),t&&a.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if("string"==typeof e?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){this.wrapper.addEventListener("click",e=>{const t=this.wrapper.getBoundingClientRect(),[n,r]=al(t,e.clientX,e.clientY);this.emit("click",n,r)}),this.wrapper.addEventListener("dblclick",e=>{const t=this.wrapper.getBoundingClientRect(),[n,r]=al(t,e.clientX,e.clientY);this.emit("dblclick",n,r)}),!0!==this.options.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollStream=function(e){const t=Zo({scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth}),n=Qo(()=>function(e){const{scrollLeft:t,scrollWidth:n,clientWidth:r}=e;if(0===n)return{startX:0,endX:1};const a=t/n,s=(t+r)/n;return{startX:Math.max(0,Math.min(1,a)),endX:Math.max(0,Math.min(1,s))}}(t.value),[t]),r=Qo(()=>function(e){return{left:e.scrollLeft,right:e.scrollLeft+e.clientWidth}}(t.value),[t]),a=()=>{t.set({scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth})};return e.addEventListener("scroll",a,{passive:!0}),{scrollData:t,percentages:n,bounds:r,cleanup:()=>{e.removeEventListener("scroll",a),ll(t)}}}(this.scrollContainer);const e=el(()=>{const{startX:e,endX:t}=this.scrollStream.percentages.value,{left:n,right:r}=this.scrollStream.bounds.value;this.emit("scroll",e,t,n,r)},[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(e),"function"==typeof ResizeObserver){const e=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{e().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&"auto"!==this.options.height||(this.lastContainerWidth=e,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=function(e,t={}){const{threshold:n=3,mouseButton:r=0,touchDelay:a=100}=t,s=Zo(null),i=new Map,o=matchMedia("(pointer: coarse)").matches;let l=()=>{};const c=t=>{if(t.button!==r)return;if(i.set(t.pointerId,t),i.size>1)return;let c=t.clientX,u=t.clientY,d=!1;const h=Date.now(),p=e.getBoundingClientRect(),{left:m,top:f}=p,g=e=>{if(e.defaultPrevented||i.size>1)return;if(o&&Date.now()-h<a)return;const t=e.clientX,r=e.clientY,l=t-c,p=r-u;(d||Math.abs(l)>n||Math.abs(p)>n)&&(e.preventDefault(),e.stopPropagation(),d||(s.set({type:"start",x:c-m,y:u-f}),d=!0),s.set({type:"move",x:t-m,y:r-f,deltaX:l,deltaY:p}),c=t,u=r)},x=e=>{if(i.delete(e.pointerId),d){const t=e.clientX,n=e.clientY;s.set({type:"end",x:t-m,y:n-f})}l()},v=e=>{i.delete(e.pointerId),e.relatedTarget&&e.relatedTarget!==document.documentElement||x(e)},b=e=>{d&&(e.stopPropagation(),e.preventDefault())},y=e=>{e.defaultPrevented||i.size>1||d&&e.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",x),document.addEventListener("pointerout",v),document.addEventListener("pointercancel",v),document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("click",b,{capture:!0}),l=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",x),document.removeEventListener("pointerout",v),document.removeEventListener("pointercancel",v),document.removeEventListener("touchmove",y),setTimeout(()=>{document.removeEventListener("click",b,{capture:!0})},10)}};return e.addEventListener("pointerdown",c),{signal:s,cleanup:()=>{l(),e.removeEventListener("pointerdown",c),i.clear(),ll(s)}}}(this.wrapper);const e=el(()=>{const e=this.dragStream.signal.value;if(!e)return;const t=this.wrapper.getBoundingClientRect().width,n=(r=e.x/t)<0?0:r>1?1:r;var r;"start"===e.type?(this.isDragging=!0,this.emit("dragstart",n)):"move"===e.type?this.emit("drag",n):"end"===e.type&&(this.isDragging=!1,this.emit("dragend",n))},[this.dragStream.signal]);this.subscriptions.push(e)}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"}),n=this.options.cspNonce&&"string"==typeof this.options.cspNonce?this.options.cspNonce.replace(/"/g,""):"";return t.innerHTML=`\n      <style${n?` nonce="${n}"`:""}>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\n          pointer-events: none;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class="scroll" part="scroll">\n        <div class="wrapper" part="wrapper">\n          <div class="canvases" part="canvases"></div>\n          <div class="progress" part="progress"></div>\n          <div class="cursor" part="cursor"></div>\n        </div>\n      </div>\n    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}!0!==e.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:t}=this.scrollContainer,n=t*e;this.setScroll(n)}destroy(){var e;this.subscriptions.forEach(e=>e()),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),null===(e=this.unsubscribeOnScroll)||void 0===e||e.forEach(e=>e()),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(e=10){let t,n;const r=()=>{t&&(clearTimeout(t),t=void 0),n&&(n(),n=void 0)};return this.timeouts.push(r),()=>new Promise((a,s)=>{r(),n=s,t=setTimeout(()=>{t=void 0,n=void 0,a()},e)})}getHeight(e,t){var n;const r=(null===(n=this.audioData)||void 0===n?void 0:n.numberOfChannels)||1;return function({optionsHeight:e,optionsSplitChannels:t,parentHeight:n,numberOfChannels:r,defaultHeight:a=128}){if(null==e)return a;const s=Number(e);if(!isNaN(s))return s;if("auto"===e){const e=n||a;return(null==t?void 0:t.every(e=>!e.overlay))?e/r:e}return a}({optionsHeight:e,optionsSplitChannels:t,parentHeight:this.parent.clientHeight,numberOfChannels:r,defaultHeight:128})}convertColorValues(e,t){return function(e,t,n){if(!Array.isArray(e))return e||"";if(0===e.length)return"#999";if(e.length<2)return e[0]||"";const r=document.createElement("canvas"),a=r.getContext("2d"),s=null!=n?n:r.height*t,i=a.createLinearGradient(0,0,0,s||t),o=1/(e.length-1);return e.forEach((e,t)=>{i.addColorStop(t*o,e)}),i}(e,this.getPixelRatio(),null==t?void 0:t.canvas.height)}getPixelRatio(){return e=window.devicePixelRatio,Math.max(1,e||1);var e}renderBarWaveform(e,t,n,r){const{width:a,height:s}=n.canvas,{halfHeight:i,barWidth:o,barRadius:l,barIndexScale:c,barSpacing:u,barMinHeight:d}=function({width:e,height:t,length:n,options:r,pixelRatio:a}){const s=t/2,i=r.barWidth?r.barWidth*a:1,o=r.barGap?r.barGap*a:r.barWidth?i/2:0,l=i+o||1;return{halfHeight:s,barWidth:i,barGap:o,barRadius:r.barRadius||0,barMinHeight:r.barMinHeight?r.barMinHeight*a:0,barIndexScale:n>0?e/l/n:0,barSpacing:l}}({width:a,height:s,length:(e[0]||[]).length,options:t,pixelRatio:this.getPixelRatio()}),h=function({channelData:e,barIndexScale:t,barSpacing:n,barWidth:r,halfHeight:a,vScale:s,canvasHeight:i,barAlign:o,barMinHeight:l}){const c=e[0]||[],u=e[1]||c,d=c.length,h=[];let p=0,m=0,f=0;for(let g=0;g<=d;g++){const e=Math.round(g*t);if(e>p){const{topHeight:t,totalHeight:c}=nl({maxTop:m,maxBottom:f,halfHeight:a,vScale:s,barMinHeight:l,barAlign:o}),u=rl({barAlign:o,halfHeight:a,topHeight:t,totalHeight:c,canvasHeight:i});h.push({x:p*n,y:u,width:r,height:c}),p=e,m=0,f=0}const d=Math.abs(c[g]||0),x=Math.abs(u[g]||0);d>m&&(m=d),x>f&&(f=x)}return h}({channelData:e,barIndexScale:c,barSpacing:u,barWidth:o,halfHeight:i,vScale:r,canvasHeight:s,barAlign:t.barAlign,barMinHeight:d});n.beginPath();for(const p of h)l&&"roundRect"in n?n.roundRect(p.x,p.y,p.width,p.height,l):n.rect(p.x,p.y,p.width,p.height);n.fill(),n.closePath()}renderLineWaveform(e,t,n,r){const{width:a,height:s}=n.canvas,i=function({channelData:e,width:t,height:n,vScale:r}){const a=n/2,s=e[0]||[];return[s,e[1]||s].map((e,n)=>{const s=e.length,i=s?t/s:0,o=a,l=0===n?-1:1,c=[{x:0,y:o}];let u=0,d=0;for(let t=0;t<=s;t++){const n=Math.round(t*i);if(n>u){const e=o+(Math.round(d*a*r)||1)*l;c.push({x:u,y:e}),u=n,d=0}const s=Math.abs(e[t]||0);s>d&&(d=s)}return c.push({x:u,y:o}),c})}({channelData:e,width:a,height:s,vScale:r});n.beginPath();for(const o of i)if(o.length){n.moveTo(o[0].x,o[0].y);for(let e=1;e<o.length;e++){const t=o[e];n.lineTo(t.x,t.y)}}n.fill(),n.closePath()}renderWaveform(e,t,n){if(n.fillStyle=this.convertColorValues(t.waveColor,n),t.renderFunction)return void t.renderFunction(e,n);const r=function({channelData:e,barHeight:t,normalize:n,maxPeak:r}){var a;const s=t||1;if(!n)return s;const i=e[0];if(!i||0===i.length)return s;let o=null!=r?r:0;if(!r)for(let l=0;l<i.length;l++){const e=null!==(a=i[l])&&void 0!==a?a:0,t=Math.abs(e);t>o&&(o=t)}return o?s/o:s}({channelData:e,barHeight:t.barHeight,normalize:t.normalize,maxPeak:t.maxPeak});sl(t)?this.renderBarWaveform(e,t,n,r):this.renderLineWaveform(e,t,n,r)}renderSingleCanvas(e,t,n,r,a,s,i){const o=this.getPixelRatio(),l=document.createElement("canvas");l.width=Math.round(n*o),l.height=Math.round(r*o),l.style.width=`${n}px`,l.style.height=`${r}px`,l.style.left=`${Math.round(a)}px`,s.appendChild(l);const c=l.getContext("2d");if(t.renderFunction?(c.fillStyle=this.convertColorValues(t.waveColor,c),t.renderFunction(e,c)):this.renderWaveform(e,t,c),l.width>0&&l.height>0){const e=l.cloneNode(),n=e.getContext("2d");n.drawImage(l,0,0),n.globalCompositeOperation="source-in",n.fillStyle=this.convertColorValues(t.progressColor,n),n.fillRect(0,0,l.width,l.height),i.appendChild(e)}}renderMultiCanvas(e,t,n,r,a,s){const i=this.getPixelRatio(),{clientWidth:o}=this.scrollContainer,l=n/i,c=function({clientWidth:e,totalWidth:t,options:n}){return il(Math.min(8e3,e,t),n)}({clientWidth:o,totalWidth:l,options:t});let u={};if(0===c)return;const d=n=>{if(n<0||n>=h)return;if(u[n])return;u[n]=!0;const i=n*c;let o=Math.min(l-i,c);if(o=il(o,t),o<=0)return;const d=function({channelData:e,offset:t,clampedWidth:n,totalWidth:r}){return e.map(e=>{const a=Math.floor(t/r*e.length),s=Math.floor((t+n)/r*e.length);return e.slice(a,s)})}({channelData:e,offset:i,clampedWidth:o,totalWidth:l});this.renderSingleCanvas(d,t,o,r,i,a,s)},h=Math.ceil(l/c);if(this.isScrollable){if(ol({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:l,numCanvases:h}).forEach(e=>d(e)),h>1){const e=this.on("scroll",()=>{const{scrollLeft:e}=this.scrollContainer;Object.keys(u).length>10&&(a.innerHTML="",s.innerHTML="",u={}),ol({scrollLeft:e,totalWidth:l,numCanvases:h}).forEach(e=>d(e))});this.unsubscribeOnScroll.push(e)}}else for(let p=0;p<h;p++)d(p)}renderChannel(e,t,n,r){var{overlay:a}=t,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["overlay"]);const i=document.createElement("div"),o=this.getHeight(s.height,s.splitChannels);i.style.height=`${o}px`,a&&r>0&&(i.style.marginTop=`-${o}px`),this.canvasWrapper.style.minHeight=`${o}px`,this.canvasWrapper.appendChild(i);const l=i.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(e,s,n,o,i,l)}render(e){return Vo(this,void 0,void 0,function*(){var t;this.timeouts.forEach(e=>e()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",null!=this.options.width&&(this.scrollContainer.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width);const n=this.getPixelRatio(),r=this.scrollContainer.clientWidth,{scrollWidth:a,isScrollable:s,useParentWidth:i,width:o}=function({duration:e,minPxPerSec:t=0,parentWidth:n,fillParent:r,pixelRatio:a}){const s=Math.ceil(e*t),i=s>n,o=Boolean(r&&!i);return{scrollWidth:s,isScrollable:i,useParentWidth:o,width:(o?n:s)*a}}({duration:e.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:r,fillParent:this.options.fillParent,pixelRatio:n});if(this.isScrollable=s,this.wrapper.style.width=i?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let l=0;l<e.numberOfChannels;l++){const n=Object.assign(Object.assign({},this.options),null===(t=this.options.splitChannels)||void 0===t?void 0:t[l]);this.renderChannel([e.getChannelData(l)],n,o,l)}else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),this.renderChannel(t,this.options,o,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(e=>e()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:t}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:e}=this.progressWrapper.getBoundingClientRect(),n=function(e){const t=2*e;return(t<0?Math.floor(t):Math.ceil(t))/2}(e-t);this.scrollContainer.scrollLeft+=n}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{scrollLeft:n,scrollWidth:r,clientWidth:a}=this.scrollContainer,s=e*r,i=n,o=n+a,l=a/2;if(this.isDragging){const e=30;s+e>o?this.scrollContainer.scrollLeft+=e:s-e<i&&(this.scrollContainer.scrollLeft-=e)}else{(s<i||s>o)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?l:0));const e=s-n-l;t&&this.options.autoCenter&&e>0&&(this.scrollContainer.scrollLeft+=e)}}renderProgress(e,t){if(isNaN(e))return;const n=100*e;this.canvasWrapper.style.clipPath=`polygon(${n}% 0%, 100% 0%, 100% 100%, ${n}% 100%)`,this.progressWrapper.style.width=`${n}%`,this.cursor.style.left=`${n}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${e*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(e,t)}exportImage(e,t,n){return Vo(this,void 0,void 0,function*(){const r=this.canvasWrapper.querySelectorAll("canvas");if(!r.length)throw new Error("No waveform data");if("dataURL"===n){const n=Array.from(r).map(n=>n.toDataURL(e,t));return Promise.resolve(n)}return Promise.all(Array.from(r).map(n=>new Promise((r,a)=>{n.toBlob(e=>{e?r(e):a(new Error("Could not export image"))},e,t)})))})}}class ul extends Wo{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const e=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(e))};e()}stop(){this.isRunning=!1,null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class dl extends Wo{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Vo(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(t=>{if(t.status>=400)throw new Error(`Failed to fetch ${e}: ${t.status} (${t.statusText})`);return t.arrayBuffer()}).then(t=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(t)).then(t=>{this.currentSrc===e&&(this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}).catch(e=>{})}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;(e>=this.duration||e<0)&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,null===(e=this.bufferNode)||void 0===e||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Vo(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){const t=e-this.currentTime,n=this.bufferNode;null==n||n.stop(this.audioContext.currentTime+t),null==n||n.addEventListener("ended",()=>{n===this.bufferNode&&(this.bufferNode=null,this.pause())},{once:!0})}setSinkId(e){return Vo(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const t=!this.paused;t&&this._pause(),this.playedDuration=e/this._playbackRate,t&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,t;return null!==(e=this._duration)&&void 0!==e?e:(null===(t=this.buffer)||void 0===t?void 0:t.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const t=this.buffer.numberOfChannels;for(let n=0;n<t;n++)e.push(this.buffer.getChannelData(n));return e}removeAttribute(e){switch(e){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const hl={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class pl extends tl{static create(e){return new pl(e)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(e){const t=e.media||("WebAudio"===e.backend?new dl:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},hl,e);const{state:n,actions:r}=function(e){var t,n,r,a,s,i;const o=null!==(t=null==e?void 0:e.currentTime)&&void 0!==t?t:Zo(0),l=null!==(n=null==e?void 0:e.duration)&&void 0!==n?n:Zo(0),c=null!==(r=null==e?void 0:e.isPlaying)&&void 0!==r?r:Zo(!1),u=null!==(a=null==e?void 0:e.isSeeking)&&void 0!==a?a:Zo(!1),d=null!==(s=null==e?void 0:e.volume)&&void 0!==s?s:Zo(1),h=null!==(i=null==e?void 0:e.playbackRate)&&void 0!==i?i:Zo(1),p=Zo(null),m=Zo(null),f=Zo(""),g=Zo(0),x=Zo(0),v=Qo(()=>!c.value,[c]),b=Qo(()=>null!==p.value,[p]),y=Qo(()=>b.value&&l.value>0,[b,l]),w=Qo(()=>o.value,[o]),k=Qo(()=>l.value>0?o.value/l.value:0,[o,l]);return{state:{currentTime:o,duration:l,isPlaying:c,isPaused:v,isSeeking:u,volume:d,playbackRate:h,audioBuffer:p,peaks:m,url:f,zoom:g,scrollPosition:x,canPlay:b,isReady:y,progress:w,progressPercent:k},actions:{setCurrentTime:e=>{const t=Math.max(0,Math.min(l.value||1/0,e));o.set(t)},setDuration:e=>{l.set(Math.max(0,e))},setPlaying:e=>{c.set(e)},setSeeking:e=>{u.set(e)},setVolume:e=>{const t=Math.max(0,Math.min(1,e));d.set(t)},setPlaybackRate:e=>{const t=Math.max(.1,Math.min(16,e));h.set(t)},setAudioBuffer:e=>{p.set(e),e&&l.set(e.duration)},setPeaks:e=>{m.set(e)},setUrl:e=>{f.set(e)},setZoom:e=>{g.set(Math.max(0,e))},setScrollPosition:e=>{x.set(Math.max(0,e))}}}}({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=n,this.wavesurferActions=r,this.timer=new ul;const a=t?void 0:this.getMediaElement();this.renderer=new cl(this.options,a),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const s=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:e,duration:t}=this.options;(s||e&&t)&&this.load(s,e,t).catch(e=>{this.emit("error",e instanceof Error?e:new Error(String(e)))})})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),null!=this.stopAtPosition&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}}))}initReactiveState(){this.reactiveCleanups.push(function(e,t){const n=[];n.push(el(()=>{const n=e.isPlaying.value;t.emit(n?"play":"pause")},[e.isPlaying])),n.push(el(()=>{const n=e.currentTime.value;t.emit("timeupdate",n),e.isPlaying.value&&t.emit("audioprocess",n)},[e.currentTime,e.isPlaying])),n.push(el(()=>{e.isSeeking.value&&t.emit("seeking",e.currentTime.value)},[e.isSeeking,e.currentTime]));let r=!1;n.push(el(()=>{e.isReady.value&&!r&&(r=!0,t.emit("ready",e.duration.value))},[e.isReady,e.duration]));let a=!1;return n.push(el(()=>{const n=e.isPlaying.value,r=e.currentTime.value,s=e.duration.value,i=s>0&&r>=s;a&&!n&&i&&t.emit("finish"),a=n&&i},[e.isPlaying,e.currentTime,e.duration])),n.push(el(()=>{const n=e.zoom.value;n>0&&t.emit("zoom",n)},[e.zoom])),()=>{n.forEach(e=>e())}}(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var e;this.emit("error",null!==(e=this.getMediaElement().error)&&void 0!==e?e:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))}),this.renderer.on("dblclick",(e,t)=>{this.emit("dblclick",e,t)}),this.renderer.on("scroll",(e,t,n,r)=>{const a=this.getDuration();this.emit("scroll",e*a,t*a,n,r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",e=>{this.emit("dragstart",e)}),this.renderer.on("dragend",e=>{this.emit("dragend",e)}),this.renderer.on("resize",()=>{this.emit("resize")}));{let e;const t=this.renderer.on("drag",t=>{var n;if(!this.options.interact)return;this.renderer.renderProgress(t),clearTimeout(e);let r=0;const a=this.options.dragToSeek;this.isPlaying()?r=0:!0===a?r=200:a&&"object"==typeof a&&(r=null!==(n=a.debounceTime)&&void 0!==n?n:200),e=setTimeout(()=>{this.seekTo(t)},r),this.emit("interaction",t*this.getDuration()),this.emit("drag",t)});this.subscriptions.push(()=>{clearTimeout(e),t()})}}initPlugins(){var e;(null===(e=this.options.plugins)||void 0===e?void 0:e.length)&&this.options.plugins.forEach(e=>{this.registerPlugin(e)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=Go.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=Go.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),null!=e.mediaControls&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){if(this.plugins.includes(e))return e;e._init(this),this.plugins.push(e);const t=e.once("destroy",()=>{this.plugins=this.plugins.filter(t=>t!==e),this.subscriptions=this.subscriptions.filter(e=>e!==t)});return this.subscriptions.push(t),e}unregisterPlugin(e){this.plugins=this.plugins.filter(t=>t!==e),e.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const t=e/this.getDuration();this.renderer.setScrollPercentage(t)}getActivePlugins(){return this.plugins}loadAudio(e,t,n,r){return Vo(this,void 0,void 0,function*(){var a;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,null===(a=this.abortController)||void 0===a||a.abort(),this.abortController=null,!t&&!n){const n=this.options.fetchParams||{};window.AbortController&&!n.signal&&(this.abortController=new AbortController,n.signal=this.abortController.signal);const r=e=>this.emit("loading",e);t=yield Jo.fetchBlob(e,r,n);const a=this.options.blobMimeType;a&&(t=new Blob([t],{type:a}))}this.setSrc(e,t);const s=yield new Promise(e=>{const t=r||this.getDuration();t?e(t):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>e(this.getDuration()),{once:!0}))});if(!e&&!t){const e=this.getMediaElement();e instanceof dl&&(e.duration=s)}if(n)this.decodedData=Go.createBuffer(n,s||0);else if(t){const e=yield t.arrayBuffer();this.decodedData=yield Go.decode(e,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,t,n){return Vo(this,void 0,void 0,function*(){try{return yield this.loadAudio(e,void 0,t,n)}catch(Vo){throw this.emit("error",Vo),Vo}})}loadBlob(e,t,n){return Vo(this,void 0,void 0,function*(){try{return yield this.loadAudio("",e,t,n)}catch(Vo){throw this.emit("error",Vo),Vo}})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:n=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const r=Math.min(e,this.decodedData.numberOfChannels),a=[];for(let s=0;s<r;s++){const e=this.decodedData.getChannelData(s),r=[],i=e.length/t;for(let a=0;a<t;a++){const t=e.slice(Math.floor(a*i),Math.ceil((a+1)*i));let s=0;for(let e=0;e<t.length;e++){const n=t[e];Math.abs(n)>Math.abs(s)&&(s=n)}r.push(Math.round(s*n)/n)}a.push(r)}return a}getDuration(){let e=super.getDuration()||0;return 0!==e&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}play(e,t){const n=Object.create(null,{play:{get:()=>super.play}});return Vo(this,void 0,void 0,function*(){null!=e&&this.setTime(e);const r=yield n.play.call(this);return null!=t&&(this.media instanceof dl?this.media.stopAt(t):this.stopAtPosition=t),r})}playPause(){return Vo(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return Vo(this,arguments,void 0,function*(e="image/png",t=1,n="dataURL"){return this.renderer.exportImage(e,t,n)})}destroy(){var e;this.emit("destroy"),null===(e=this.abortController)||void 0===e||e.abort(),this.plugins.forEach(e=>e.destroy()),this.subscriptions.forEach(e=>e()),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach(e=>e()),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}function ml({audioUrl:n,onSave:r,onClose:a}){const[s,i]=t.useState(null),[o,l]=t.useState(!1),[c,u]=t.useState(0),[d,h]=t.useState(0),[p,m]=t.useState(1),[f,x]=t.useState(50),[v,b]=t.useState(0),[y,w]=t.useState(0),k=t.useRef(null);t.useEffect(()=>{if(!k.current)return;const e=pl.create({container:k.current,waveColor:"#4f46e5",progressColor:"#8b5cf6",cursorColor:"#ffffff",barWidth:2,barRadius:3,cursorWidth:2,height:200,barGap:3});return e.load(n),e.on("ready",()=>{const t=e.getDuration();h(t),w(t)}),e.on("audioprocess",()=>{u(e.getCurrentTime())}),e.on("finish",()=>{l(!1)}),i(e),()=>{e.destroy()}},[n]);const j=e=>{const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(e%1*100);return`${t}:${n.toString().padStart(2,"0")}.${r.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editor de Áudio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{ci.success("Áudio processado! (Simulado)"),r(n)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Exportar"]}),e.jsx("button",{onClick:a,className:"p-2 bg-white/10 hover:bg-white/20 text-gray-300 rounded-lg transition",children:e.jsx(g,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col p-6 gap-6 overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"w-6 h-6 text-purple-400"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Waveform"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[j(c)," / ",j(d)]})]}),e.jsx("div",{ref:k,className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Controles"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{onClick:()=>{s&&(s.playPause(),l(!o))},className:"w-16 h-16 flex items-center justify-center bg-purple-600 hover:bg-purple-700 rounded-full transition",children:o?e.jsx(ke,{className:"w-8 h-8 text-white"}):e.jsx(je,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"}),"Volume"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round(100*p),"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:p,onChange:e=>{return t=Number(e.target.value),void(s&&(s.setVolume(t),m(t)));var t},className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),"Zoom"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[f,"px"]})]}),e.jsx("input",{type:"range",min:"10",max:"200",value:f,onChange:e=>{return t=Number(e.target.value),void(s&&(s.zoom(t),x(t)));var t},className:"w-full"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Efeitos"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>{ci.info("Fade in aplicado (funcionalidade de processamento completo em breve)")},className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition",children:"Fade In"}),e.jsx("button",{onClick:()=>{ci.info("Fade out aplicado (funcionalidade de processamento completo em breve)")},className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition",children:"Fade Out"}),e.jsx("button",{onClick:()=>{ci.info("Normalização aplicada (funcionalidade de processamento completo em breve)")},className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition col-span-2",children:"Normalizar Volume"}),e.jsx("button",{className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition",children:"Reverb"}),e.jsx("button",{className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition",children:"Echo"}),e.jsx("button",{className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition",children:"EQ"}),e.jsx("button",{className:"px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg text-sm font-medium transition",children:"Noise Reduction"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Trim Áudio"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Início"}),e.jsx("input",{type:"range",min:"0",max:d,step:"0.01",value:v,onChange:e=>b(Number(e.target.value)),className:"w-full mb-1"}),e.jsx("span",{className:"text-sm text-gray-400",children:j(v)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Fim"}),e.jsx("input",{type:"range",min:"0",max:d,step:"0.01",value:y,onChange:e=>w(Number(e.target.value)),className:"w-full mb-1"}),e.jsx("span",{className:"text-sm text-gray-400",children:j(y)})]})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:["Duração final: ",j(y-v)]})]})]}),e.jsx("div",{className:"px-6 py-3 border-t border-white/10 text-sm text-gray-400 text-center",children:"💡 Editor profissional com Wavesurfer.js - Processamento completo de efeitos em breve"})]})}function fl({onSelectSound:n,onClose:r}){const[a,s]=t.useState(""),[i,o]=t.useState([]),[l,c]=t.useState(!1),[u,d]=t.useState(null),[h,p]=t.useState(null),[m,f]=t.useState(1),x=[{id:"1",name:"Thunder Storm",username:"freesound_user1",duration:15,url:"https://example.com/thunder.mp3",previewUrl:"https://example.com/thunder-preview.mp3",tags:["thunder","storm","weather","nature"],license:"CC BY 3.0"},{id:"2",name:"Door Slam",username:"freesound_user2",duration:2,url:"https://example.com/door-slam.mp3",previewUrl:"https://example.com/door-slam-preview.mp3",tags:["door","slam","impact","indoor"],license:"CC0"},{id:"3",name:"Birds Chirping",username:"nature_sounds",duration:30,url:"https://example.com/birds.mp3",previewUrl:"https://example.com/birds-preview.mp3",tags:["birds","nature","ambient","outdoor"],license:"CC BY 3.0"},{id:"4",name:"Button Click",username:"ui_sounds",duration:.5,url:"https://example.com/click.mp3",previewUrl:"https://example.com/click-preview.mp3",tags:["click","button","ui","interface"],license:"CC0"},{id:"5",name:"Car Engine",username:"vehicle_sounds",duration:10,url:"https://example.com/car.mp3",previewUrl:"https://example.com/car-preview.mp3",tags:["car","engine","vehicle","motor"],license:"CC BY 3.0"}];t.useEffect(()=>{o(x)},[]);const v=async e=>{if(e.trim()){c(!0);try{const t=x.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.tags.some(t=>t.toLowerCase().includes(e.toLowerCase())));o(t)}catch(t){ci.error("Erro ao buscar sons")}finally{c(!1)}}};t.useEffect(()=>()=>{h&&h.pause()},[h]);const b=e=>{if(e<1)return`${Math.round(1e3*e)}ms`;const t=Math.floor(e/60),n=Math.round(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}`:`${n}s`};return e.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex-1 max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"Sound Effects Library"}),e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"600,000+ free sound effects from Freesound.org"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&v(a),placeholder:"Search sound effects... (ex: 'thunder', 'click', 'birds')",className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("button",{onClick:()=>v(a),disabled:l,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition disabled:opacity-50",children:l?e.jsx(H,{className:"w-5 h-5 animate-spin"}):"Search"})]}),e.jsx("div",{className:"flex gap-2 mt-3 flex-wrap",children:["impact","ambient","nature","ui","footsteps","door"].map(t=>e.jsxs("button",{onClick:()=>{s(t),v(t)},className:"px-3 py-1 bg-white/5 hover:bg-white/10 text-gray-300 text-xs rounded-full transition",children:["#",t]},t))})]}),e.jsx("button",{onClick:r,className:"ml-4 p-2 bg-white/10 hover:bg-white/20 text-gray-300 rounded-lg transition",children:e.jsx(g,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(H,{className:"w-12 h-12 text-blue-500 animate-spin"})}):0===i.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(Me,{className:"w-20 h-20 text-gray-600 mb-4"}),e.jsx("p",{className:"text-xl text-gray-400",children:"Nenhum som encontrado"})]}):e.jsx("div",{className:"space-y-2",children:i.map(t=>e.jsxs("div",{className:"group flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-lg transition",children:[e.jsx("button",{onClick:()=>(e=>{if(u===e.id)h?.pause(),d(null);else{h&&h.pause();const t=new Audio(e.previewUrl);t.play(),t.addEventListener("ended",()=>{d(null)}),p(t),d(e.id)}})(t),className:"w-12 h-12 flex items-center justify-center bg-green-600 hover:bg-green-700 rounded-full transition",children:u===t.id?e.jsx(ke,{className:"w-6 h-6 text-white"}):e.jsx(je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-white",children:t.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["by ",t.username]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("span",{children:b(t.duration)}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-xs",children:t.license})]}),e.jsx("div",{className:"flex gap-1 mt-1",children:t.tags.slice(0,3).map(t=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-300 text-xs rounded",children:t},t))})]}),e.jsx("div",{className:"w-32 h-12 flex items-center justify-center opacity-50",children:e.jsx(Ie,{className:"w-full h-full text-green-500"})}),e.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[e.jsx("button",{onClick:()=>{n(t.url,t.name),ci.success(`${t.name} adicionado!`),r()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition",children:"Usar"}),e.jsx("button",{onClick:()=>{ci.success("Download iniciado!")},className:"p-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition",children:e.jsx(ae,{className:"w-5 h-5"})})]})]},t.id))})}),e.jsx("div",{className:"px-6 py-3 border-t border-white/10 text-sm text-gray-400 text-center",children:"💡 Powered by Freesound.org - All sounds are Creative Commons licensed"})]})}pl.BasePlugin=class extends Wo{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e()),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},pl.dom=Xo;const gl={elevenlabs_tts:{id:"elevenlabs_tts",name:"ElevenLabs TTS",description:"Premium ultra-realistic text-to-speech",type:["tts"],costPer1000Chars:30,supportedVoices:["rachel","drew","clyde","paul","domi","dave","fin","sarah","antoni","thomas"],generate:async e=>{const{data:{session:t}}=await x.auth.getSession();if(!t)throw new Error("Not authenticated");const n=await fetch("https://your-project.supabase.co/functions/v1/generate-audio",{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({text:e.text,voice:e.voice||"rachel",provider:"elevenlabs",style:e.style||"natural"})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Audio generation failed")}const r=await n.json();if(!r.success||!r.audio)throw new Error("Invalid response from server");return{url:r.audio.url,type:"tts",text:r.audio.text,provider:r.audio.provider,timestamp:Date.now(),cost:r.audio.cost||0,metadata:{model:"eleven_monolingual_v1",duration:r.audio.duration,voice:r.audio.voice}}},isAvailable:async()=>{const{data:{session:e}}=await x.auth.getSession();return!!e}},playht_tts:{id:"playht_tts",name:"Play.ht TTS",description:"High-quality text-to-speech alternative",type:["tts"],costPer1000Chars:15,supportedVoices:["matthew","joanna","ivy","justin","kendra","kimberly","salli","joey","nicole","russell"],generate:async e=>{throw new Error("Play.ht not implemented yet")},isAvailable:async()=>!1},stable_audio:{id:"stable_audio",name:"Stable Audio",description:"AI music and sound effects generation",type:["music","sfx"],costPerSecond:1,generate:async e=>{throw new Error("Stable Audio not implemented yet")},isAvailable:async()=>!1},suno_music:{id:"suno_music",name:"Suno AI Music",description:"Full song generation with vocals",type:["music"],costPerSecond:2,generate:async e=>{throw new Error("Suno AI not implemented yet")},isAvailable:async()=>!1}};async function xl(e){const t=Object.values(gl),n=await Promise.all(t.map(async e=>({provider:e,isAvailable:await e.isAvailable()})));let r=n.filter(e=>e.isAvailable).map(e=>e.provider);return e&&(r=r.filter(t=>t.type.includes(e))),r}const vl=["Olá! Bem-vindo ao nosso serviço.","Este é um teste de qualidade de voz.","Narração profissional para vídeos.","Podcast intro de alta qualidade."],bl=[{icon:"🎵",text:"Música lo-fi calma para estudar",mood:"calm"},{icon:"⚡",text:"Música eletrônica energética upbeat",mood:"energetic"},{icon:"🎻",text:"Música clássica orquestral épica",mood:"dramatic"},{icon:"🎸",text:"Rock instrumental intenso",mood:"energetic"}];function yl({onSendMessage:n,onDetectContext:r,userId:a,isExpanded:s}){const[i,o]=t.useState("tts"),[l,c]=t.useState(""),[d,h]=t.useState([]),[p,m]=t.useState(!1),[g,v]=t.useState("elevenlabs_tts"),[b,w]=t.useState("rachel"),[j,N]=t.useState("natural"),[C,S]=t.useState(30),[E,P]=t.useState(null),[M,T]=t.useState(!1),[I,D]=t.useState([]),A=t.useRef(null),R=f(e=>e.user);t.useEffect(()=>{z()},[i]);const z=async()=>{let e;e="tts"===i?await async function(){return xl("tts")}():"music"===i?await async function(){return xl("music")}():"sfx"===i?await async function(){return xl("sfx")}():[],D(e.map(e=>e.id)),e.length>0&&!I.includes(g)&&(v(e[0].id),e[0].supportedVoices&&w(e[0].supportedVoices[0]))};t.useEffect(()=>{"history"===i&&O()},[i]);const O=async()=>{if(R)try{const{data:e,error:t}=await x.from("generated_audios").select("*").eq("user_id",R.id).is("deleted_at",null).order("created_at",{ascending:!1}).limit(50);if(t)throw t;if(e){const t=e.map(e=>({id:e.id,url:e.url,type:e.type,text:e.text,prompt:e.prompt,timestamp:new Date(e.created_at).getTime(),duration:e.duration,provider:e.provider||"unknown",voice:e.voice,liked:e.liked||!1}));h(t)}}catch(e){ci.error("Erro ao carregar histórico")}},_=async()=>{if(!l.trim()||p||!R)return;const e=l.trim();m(!0);try{const t={type:i,text:"tts"===i?e:void 0,prompt:"tts"!==i?e:void 0,voice:"tts"===i?b:void 0,duration:"tts"!==i?C:void 0,style:j},n=await async function(e,t){const n=await xl(e.type);if(0===n.length)throw new Error(`No ${e.type} providers available`);if(t){const r=n.find(e=>e.id===t);if(r)try{return await r.generate(e)}catch(a){}}const r=[...n].sort((e,t)=>{const n=e.costPer1000Chars||e.costPerSecond||0;return(t.costPer1000Chars||t.costPerSecond||0)-n});for(const s of r)try{return await s.generate(e)}catch(a){}throw new Error("All audio generation providers failed")}(t,g),{data:r,error:a}=await x.from("generated_audios").insert({user_id:R.id,url:n.url,type:n.type,text:n.text,prompt:n.prompt,duration:n.metadata.duration,provider:n.provider,voice:n.metadata.voice}).select().single();if(a)throw a;const s={id:r.id,url:n.url,type:n.type,text:n.text,prompt:n.prompt,timestamp:Date.now(),duration:n.metadata.duration,provider:n.provider,voice:n.metadata.voice};h(e=>[s,...e]),c(""),ci.success("Áudio gerado!"),o("history")}catch(t){ci.error(t.message||"Erro ao gerar áudio")}finally{m(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex h-full bg-gray-950",children:[e.jsxs("div",{className:"w-20 bg-gray-900 border-r border-white/10 flex flex-col items-center py-6 gap-4",children:[e.jsx("button",{onClick:()=>o("tts"),className:u("w-12 h-12 rounded-xl flex items-center justify-center transition","tts"===i?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),title:"Text-to-Speech",children:e.jsx(xe,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>o("music"),className:u("w-12 h-12 rounded-xl flex items-center justify-center transition","music"===i?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),title:"Música",children:e.jsx(be,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>{T(!0),o("sfx")},className:u("w-12 h-12 rounded-xl flex items-center justify-center transition","sfx"===i?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),title:"Sound Effects",children:e.jsx(Me,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>o("history"),className:u("w-12 h-12 rounded-xl flex items-center justify-center transition","history"===i?"bg-blue-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"),title:"História",children:e.jsx(de,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-white/10",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["tts"===i&&"Text-to-Speech","music"===i&&"Geração de Música","sfx"===i&&"Sound Effects","history"===i&&"Histórico de Áudios"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["tts"===i&&"Converta texto em fala ultra-realista","music"===i&&"Gere músicas completas com IA","sfx"===i&&"600k+ efeitos sonoros gratuitos","history"===i&&`${d.length} áudios gerados`]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs(B,{mode:"wait",children:["tts"===i&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Provedor TTS"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:I.map(t=>{const n=gl[t];return n?e.jsxs("button",{onClick:()=>v(t),className:u("p-4 rounded-lg border-2 transition text-left",g===t?"border-blue-600 bg-blue-600/20":"border-white/10 bg-white/5 hover:border-white/20"),children:[e.jsx("div",{className:"font-semibold text-white mb-1",children:n.name}),e.jsx("div",{className:"text-xs text-gray-400",children:n.description}),e.jsxs("div",{className:"text-xs text-blue-400 mt-2",children:[n.costPer1000Chars," créditos/1k chars"]})]},t):null})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:["Voz (",gl[g]?.supportedVoices?.length||0," disponíveis)"]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:gl[g]?.supportedVoices?.map(t=>e.jsx("button",{onClick:()=>w(t),className:u("px-4 py-2 rounded-lg font-medium transition capitalize text-sm",b===t?"bg-purple-600 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"),children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Textos Rápidos"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:vl.map((t,n)=>e.jsx("button",{onClick:()=>c(t),className:"p-3 bg-white/5 hover:bg-white/10 rounded-lg text-left transition text-sm text-gray-300",children:t},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Seu Texto"}),e.jsx(y,{ref:A,value:l,onChange:e=>c(e.target.value),placeholder:"Digite o texto que você quer converter em fala...",maxRows:8,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[l.length," caracteres"]})]}),e.jsx("button",{onClick:_,disabled:!l.trim()||p,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center gap-3",children:p?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-6 h-6 animate-spin"}),"Gerando Áudio..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-6 h-6"}),"Gerar Áudio"]})})]},"tts"),"music"===i&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Duração"}),e.jsx("div",{className:"flex gap-3",children:[15,30,60,120].map(t=>e.jsx("button",{onClick:()=>S(t),className:u("flex-1 px-4 py-3 rounded-lg font-medium transition",C===t?"bg-blue-600 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"),children:t>=60?t/60+"min":`${t}s`},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Estilo"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["natural","expressive","calm","energetic"].map(t=>e.jsx("button",{onClick:()=>N(t),className:u("px-4 py-2 rounded-lg font-medium transition capitalize",j===t?"bg-purple-600 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"),children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Prompts de Música"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:bl.map((t,n)=>e.jsx("button",{onClick:()=>c(t.text),className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg text-left transition",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("span",{className:"text-sm text-gray-300",children:t.text})]})},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Descreva a Música"}),e.jsx(y,{value:l,onChange:e=>c(e.target.value),placeholder:"Descreva o tipo de música que você quer... (ex: 'música relaxante de piano para estudar')",maxRows:6,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),e.jsx("button",{onClick:_,disabled:!l.trim()||p,className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center gap-3",children:p?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-6 h-6 animate-spin"}),"Gerando Música..."]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-6 h-6"}),"Gerar Música"]})})]},"music"),"history"===i&&e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:0===d.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[e.jsx(Ie,{className:"w-20 h-20 text-gray-600 mb-4"}),e.jsx("p",{className:"text-xl text-gray-400 mb-2",children:"Nenhum áudio ainda"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gere seu primeiro áudio para começar"})]}):e.jsx("div",{className:"space-y-3",children:d.map(t=>{return e.jsxs("div",{className:"group flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-xl transition",children:[e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg",children:"tts"===t.type?e.jsx(xe,{className:"w-6 h-6 text-white"}):"music"===t.type?e.jsx(be,{className:"w-6 h-6 text-white"}):e.jsx(Me,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-white capitalize",children:t.type}),t.voice&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-600/30 text-purple-300 text-xs rounded capitalize",children:t.voice})]}),e.jsx("p",{className:"text-sm text-gray-400 line-clamp-1",children:t.text||t.prompt}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:(n=t.duration,`${Math.floor(n/60)}:${Math.round(n%60).toString().padStart(2,"0")}`)}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"capitalize",children:t.provider})]})]}),e.jsx("div",{className:"w-32 h-12 opacity-50",children:e.jsx(Ie,{className:"w-full h-full text-blue-500"})}),e.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[e.jsx("button",{onClick:()=>P(t.url),className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition",title:"Editar",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>(async e=>{try{const t=await fetch(e.url),n=await t.blob(),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`audio-${e.id}.mp3`,a.click(),URL.revokeObjectURL(r),ci.success("Download iniciado!")}catch(t){ci.error("Erro ao baixar áudio")}})(t),className:"p-2 bg-green-600 hover:bg-green-700 rounded-lg transition",title:"Download",children:e.jsx(ae,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>(async e=>{const t=d.find(t=>t.id===e);if(!t)return;const n=!t.liked;try{const{error:t}=await x.from("generated_audios").update({liked:n}).eq("id",e);if(t)throw t;h(t=>t.map(t=>t.id===e?{...t,liked:n}:t))}catch(r){}})(t.id),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition",title:"Curtir",children:t.liked?e.jsx(Ae,{className:"w-5 h-5 text-red-500"}):e.jsx(ue,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>(async e=>{try{const{error:t}=await x.from("generated_audios").update({deleted_at:(new Date).toISOString()}).eq("id",e);if(t)throw t;h(t=>t.filter(t=>t.id!==e)),ci.success("Áudio deletado")}catch(t){ci.error("Erro ao deletar")}})(t.id),className:"p-2 bg-red-600 hover:bg-red-700 rounded-lg transition",title:"Deletar",children:e.jsx(k,{className:"w-5 h-5 text-white"})})]})]},t.id);var n})})},"history")]})})]})]}),E&&e.jsx(ml,{audioUrl:E,onSave:e=>{P(null),ci.success("Áudio editado salvo!")},onClose:()=>P(null)}),M&&e.jsx(fl,{onSelectSound:(e,t)=>{T(!1),ci.success(`${t} selecionado!`)},onClose:()=>T(!1)})]})}const wl={chat:ge,"visual-editor":K,"image-gallery":we,"video-gallery":Pe,"audio-gallery":xe,"code-editor":ge},kl={chat:"Chat","visual-editor":"Editor Visual","image-gallery":"Imagens","video-gallery":"Vídeos","audio-gallery":"Áudio","code-editor":"Código"};function jl({autoDetect:n=!0,onModalChange:r,onSendMessage:s,initialModal:i="chat",allowManualSwitch:o=!0,className:l,userId:c}){const[d,h]=t.useState(i),[p,m]=t.useState(i),[f,x]=t.useState(!1),[v,b]=t.useState(null),[y,w]=t.useState(!1),k=t.useCallback(e=>{if(!n||!e.trim())return;const t=Oe(e);b(t),Be(t)&&t.type!==d&&j(t.type)},[n,d]),j=t.useCallback(e=>{e===d||f||(x(!0),m(d),setTimeout(()=>{h(e),x(!1),r?.(e)},100))},[d,f,r]),N=t.useCallback(e=>{o&&j(e)},[o,j]),C=t.useCallback(e=>{const t=Oe(e);s?.(e,t),n&&Be(t)&&t.type!==d&&j(t.type)},[n,d,s,j]),S=t.useMemo(()=>({duration:.4,ease:"easeInOut",variant:"chat"===p?"slideLeft":"fade"}),[p,d]);return e.jsxs("div",{className:u("relative flex flex-col h-full w-full","bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",l),children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10 bg-black/20 backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:Object.keys(kl).map(t=>{if("code-editor"===t)return null;const n=wl[t],r=d===t,a=v?.type===t;return e.jsxs(F.button,{onClick:()=>N(t),disabled:!o||f,className:u("relative flex items-center gap-2 px-3 py-2 rounded-lg","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",r?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"),whileHover:f?{}:{scale:1.05},whileTap:f?{}:{scale:.95},children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:kl[t]}),a&&!r&&e.jsx(F.div,{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500}})]},t)})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(F.button,{onClick:()=>w(!y),className:"p-2 rounded-lg bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:y?e.jsx(ve,{className:"w-4 h-4"}):e.jsx(fe,{className:"w-4 h-4"})})})]}),e.jsx(B,{children:v&&Be(v)&&v.type!==d&&e.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"px-4 py-2 bg-blue-600/20 border-b border-blue-600/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(F.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.createElement(wl[v.type],{className:"w-4 h-4 text-blue-400"})}),e.jsx("span",{className:"text-blue-300",children:v.metadata?.suggestedAction||"Contexto detectado"}),e.jsxs("span",{className:"text-blue-400 font-mono text-xs",children:[(100*v.confidence).toFixed(0),"%"]})]}),e.jsx("button",{onClick:()=>b(null),className:"p-1 rounded hover:bg-white/10 text-blue-400 hover:text-white transition-colors",children:e.jsx(g,{className:"w-3 h-3"})})]})})}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx(B,{mode:"wait",children:e.jsx(F.div,{initial:{opacity:0,x:"slideLeft"===S.variant?50:0,scale:"fade"===S.variant?.95:1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:"slideLeft"===S.variant?-50:0,scale:"fade"===S.variant?.95:1},transition:{duration:S.duration,ease:S.ease},className:"absolute inset-0",children:(()=>{const t={onSendMessage:C,onDetectContext:k,userId:c,isExpanded:y};switch(d){case"visual-editor":return e.jsx(Do,{...t});case"image-gallery":return e.jsx(Oo,{...t});case"video-gallery":return e.jsx(qo,{...t});case"audio-gallery":return e.jsx(yl,{...t});default:return e.jsx(Js,{...t,onSwitchModal:N})}})()},d)})}),e.jsx(B,{children:f&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center pointer-events-none",children:e.jsx(F.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full"})})})]})}new class{config;accessToken=null;constructor(e){this.config={clientId:"",clientSecret:"",redirectUri:`${window.location.origin}/auth/github/callback`,scopes:["repo","user","workflow"],...e}}initiateOAuth(){const e=this.generateState();sessionStorage.setItem("github_oauth_state",e);return`https://github.com/login/oauth/authorize?${new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,scope:this.config.scopes?.join(" ")||"repo user",state:e}).toString()}`}async completeOAuth(e,t){try{if(t!==sessionStorage.getItem("github_oauth_state"))return{success:!1,error:"Invalid state parameter"};const n=await fetch("https://github.com/login/oauth/access_token",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({client_id:this.config.clientId,client_secret:this.config.clientSecret,code:e,redirect_uri:this.config.redirectUri})});if(!n.ok)throw new Error("Failed to exchange code for token");const r=await n.json();if(r.error)throw new Error(r.error_description||r.error);this.accessToken=r.access_token;const a=await this.getAuthenticatedUser();if(!a.success||!a.data)throw new Error("Failed to get user info");return this.accessToken&&await this.storeToken(a.data.id,this.accessToken),{success:!0,data:{token:this.accessToken||"",user:a.data}}}catch(n){return{success:!1,error:n.message}}}setAccessToken(e){this.accessToken=e}getAccessToken(){return this.accessToken}async loadUserToken(e){try{const{data:t,error:n}=await x.from("integrations").select("access_token").eq("user_id",e).eq("platform","github").single();return!(n||!t)&&(this.accessToken=t.access_token,!0)}catch(t){return!1}}async getAuthenticatedUser(){return this.makeRequest("GET","/user")}async listRepositories(e){const t=new URLSearchParams;return e?.type&&t.append("type",e.type),e?.sort&&t.append("sort",e.sort),e?.per_page&&t.append("per_page",e.per_page.toString()),this.makeRequest("GET",`/user/repos?${t.toString()}`)}async createRepository(e){const t={name:e.name,description:e.description||"",private:!1!==e.private,auto_init:!1!==e.autoInit,gitignore_template:e.gitignore,license_template:e.license};return this.makeRequest("POST","/user/repos",t)}async getRepository(e,t){return this.makeRequest("GET",`/repos/${e}/${t}`)}async deleteRepository(e,t){return this.makeRequest("DELETE",`/repos/${e}/${t}`)}async commitFile(e){const t=e.branch||"main";let n=e.sha;if(!n){const r=await this.getFileContent(e.owner,e.repo,e.path,t);r.success&&r.data&&(n=r.data.sha)}const r={message:e.message,content:Buffer.from(e.content).toString("base64"),branch:t,...n&&{sha:n}};return this.makeRequest("PUT",`/repos/${e.owner}/${e.repo}/contents/${e.path}`,r)}async commitMultipleFiles(e,t,n,r,a="main"){try{const s=await this.makeRequest("GET",`/repos/${e}/${t}/git/ref/heads/${a}`);if(!s.success||!s.data)return{success:!1,error:"Failed to get branch reference"};const i=s.data.object.sha,o=await this.makeRequest("GET",`/repos/${e}/${t}/git/commits/${i}`);if(!o.success||!o.data)return{success:!1,error:"Failed to get commit"};const l=o.data.tree.sha,c=await Promise.all(n.map(async n=>{const r=await this.makeRequest("POST",`/repos/${e}/${t}/git/blobs`,{content:Buffer.from(n.content).toString("base64"),encoding:"base64"});if(!r.success||!r.data)throw new Error(`Failed to create blob for ${n.path}`);return{path:n.path,mode:"100644",type:"blob",sha:r.data.sha}})),u=await this.makeRequest("POST",`/repos/${e}/${t}/git/trees`,{base_tree:l,tree:c});if(!u.success||!u.data)return{success:!1,error:"Failed to create tree"};const d=await this.makeRequest("POST",`/repos/${e}/${t}/git/commits`,{message:r,tree:u.data.sha,parents:[i]});if(!d.success||!d.data)return{success:!1,error:"Failed to create commit"};return await this.makeRequest("PATCH",`/repos/${e}/${t}/git/refs/heads/${a}`,{sha:d.data.sha})}catch(s){return{success:!1,error:s.message}}}async getFileContent(e,t,n,r){const a=r?`/repos/${e}/${t}/contents/${n}?ref=${r}`:`/repos/${e}/${t}/contents/${n}`,s=await this.makeRequest("GET",a);if(s.success&&s.data){return{success:!0,data:{content:Buffer.from(s.data.content,"base64").toString("utf-8"),sha:s.data.sha,encoding:s.data.encoding}}}return s}async createBranch(e){try{const t=e.from||"main",n=await this.makeRequest("GET",`/repos/${e.owner}/${e.repo}/git/ref/heads/${t}`);if(!n.success||!n.data)return{success:!1,error:"Failed to get source branch"};const r=n.data.object.sha;return this.makeRequest("POST",`/repos/${e.owner}/${e.repo}/git/refs`,{ref:`refs/heads/${e.branch}`,sha:r})}catch(t){return{success:!1,error:t.message}}}async listBranches(e,t){return this.makeRequest("GET",`/repos/${e}/${t}/branches`)}async createWorkflow(e,t,n){const r=n.path.startsWith(".github/workflows/")?n.path:`.github/workflows/${n.path}`;return this.commitFile({owner:e,repo:t,path:r,content:n.content,message:`Add workflow: ${n.name}`})}async setupVercelWorkflow(e,t){return this.createWorkflow(e,t,{name:"Deploy to Vercel",content:"name: Deploy to Vercel\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Build\n        run: npm run build\n\n      - name: Deploy to Vercel\n        uses: amondnet/vercel-action@v25\n        with:\n          vercel-token: ${{ secrets.VERCEL_TOKEN }}\n          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}\n          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}\n          vercel-args: '--prod'\n",path:"deploy-vercel.yml"})}async createWebhook(e,t,n){const r={name:"web",active:!0,events:n.events,config:{url:n.url,content_type:"json",...n.secret&&{secret:n.secret}}};return this.makeRequest("POST",`/repos/${e}/${t}/hooks`,r)}async listWebhooks(e,t){return this.makeRequest("GET",`/repos/${e}/${t}/hooks`)}async makeRequest(e,t,n){try{if(!this.accessToken)return{success:!1,error:"Not authenticated. Please set access token first."};const r=t.startsWith("http")?t:`https://api.github.com${t}`,a=await fetch(r,{method:e,headers:{Authorization:`Bearer ${this.accessToken}`,Accept:"application/vnd.github+json","Content-Type":"application/json","X-GitHub-Api-Version":"2022-11-28"},...n&&{body:JSON.stringify(n)}}),s=a.headers.get("x-ratelimit-remaining"),i=a.headers.get("x-ratelimit-reset"),o={rateLimitRemaining:s?parseInt(s):void 0,rateLimitReset:i?parseInt(i):void 0};if(!a.ok){return{success:!1,error:(await a.json().catch(()=>({}))).message||`GitHub API error: ${a.status}`,metadata:o}}if("DELETE"===e)return{success:!0,metadata:o};return{success:!0,data:await a.json(),metadata:o}}catch(r){return{success:!1,error:r.message}}}generateState(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}async storeToken(e,t){const{data:{user:n}}=await x.auth.getUser();if(!n)throw new Error("User not authenticated");await x.from("integrations").upsert({user_id:n.id,platform:"github",platform_user_id:e.toString(),access_token:t,status:"connected",connected_at:(new Date).toISOString()})}};new class{config;baseUrl="https://api.vercel.com";constructor(e){this.config={token:"",teamId:void 0,...e}}async deploy(e){const t=Date.now();try{const n=await this.createProject({name:e.name,framework:e.framework,buildCommand:e.buildCommand,outputDirectory:e.outputDirectory,installCommand:e.installCommand});if(!n.success||!n.data)return{success:!1,error:n.error||"Failed to create project"};const r=n.data;if((await this.linkGitHubRepository(r.id,e.gitSource.repo)).success,e.environmentVariables){(await this.setEnvironmentVariables(r.id,e.environmentVariables)).success}const a=await this.createDeployment({projectId:r.id,gitSource:e.gitSource,target:"production"});if(!a.success||!a.data)return{success:!1,error:a.error||"Failed to create deployment"};const s=a.data,i=await this.waitForDeployment(s.uid,12e4);if(!i.success||!i.data)return{success:!1,error:i.error||"Deployment failed"};const o=i.data,l=`https://${o.url}`;return await this.storeDeployment(r.id,o,e),{success:!0,data:{project:r,deployment:o,url:l},metadata:{duration:Date.now()-t,deploymentUrl:l,projectUrl:`https://vercel.com/${r.name}`}}}catch(n){return{success:!1,error:n.message,metadata:{duration:Date.now()-t}}}}async createProject(e){try{const t={name:e.name,framework:e.framework||null};e.buildCommand&&(t.buildCommand=e.buildCommand),e.outputDirectory&&(t.outputDirectory=e.outputDirectory),e.installCommand&&(t.installCommand=e.installCommand),e.environmentVariables&&(t.environmentVariables=e.environmentVariables);return await this.makeRequest("POST","/v9/projects",t)}catch(t){return{success:!1,error:t.message}}}async listProjects(){try{const e=await this.makeRequest("GET","/v9/projects");return e.success&&e.data?{success:!0,data:e.data.projects}:e}catch(e){return{success:!1,error:e.message}}}async getProject(e){return this.makeRequest("GET",`/v9/projects/${e}`)}async deleteProject(e){return this.makeRequest("DELETE",`/v9/projects/${e}`)}async createDeployment(e){try{const t={name:e.projectId,project:e.projectId,target:e.target||"production"};e.gitSource&&(t.gitSource={type:e.gitSource.type,repo:e.gitSource.repo,ref:e.gitSource.ref||"main"});return await this.makeRequest("POST","/v13/deployments",t)}catch(t){return{success:!1,error:t.message}}}async getDeployment(e){return this.makeRequest("GET",`/v13/deployments/${e}`)}async listDeployments(e){try{const t=await this.makeRequest("GET",`/v6/deployments?projectId=${e}`);return t.success&&t.data?{success:!0,data:t.data.deployments}:t}catch(t){return{success:!1,error:t.message}}}async cancelDeployment(e){return this.makeRequest("PATCH",`/v12/deployments/${e}/cancel`)}async waitForDeployment(e,t=12e4){const n=Date.now();for(;Date.now()-n<t;){const t=await this.getDeployment(e);if(!t.success)return t;const n=t.data;if("READY"===n.readyState)return{success:!0,data:n};if("ERROR"===n.readyState||"CANCELED"===n.readyState)return{success:!1,error:`Deployment ${n.readyState.toLowerCase()}`};await new Promise(e=>setTimeout(e,5e3))}return{success:!1,error:"Deployment timeout"}}async addDomain(e,t){try{return await this.makeRequest("POST",`/v9/projects/${e}/domains`,{name:t})}catch(n){return{success:!1,error:n.message}}}async listDomains(e){try{const t=await this.makeRequest("GET",`/v9/projects/${e}/domains`);return t.success&&t.data?{success:!0,data:t.data.domains}:t}catch(t){return{success:!1,error:t.message}}}async removeDomain(e,t){return this.makeRequest("DELETE",`/v9/projects/${e}/domains/${t}`)}async verifyDomain(e,t){return this.makeRequest("POST",`/v9/projects/${e}/domains/${t}/verify`)}async setEnvironmentVariables(e,t,n=["production","preview","development"]){try{const r=Object.entries(t).map(([t,r])=>this.makeRequest("POST",`/v9/projects/${e}/env`,{key:t,value:r,target:n,type:"encrypted"}));return await Promise.all(r),{success:!0}}catch(r){return{success:!1,error:r.message}}}async listEnvironmentVariables(e){try{const t=await this.makeRequest("GET",`/v9/projects/${e}/env`);return t.success&&t.data?{success:!0,data:t.data.envs}:t}catch(t){return{success:!1,error:t.message}}}async removeEnvironmentVariable(e,t){return this.makeRequest("DELETE",`/v9/projects/${e}/env/${t}`)}async linkGitHubRepository(e,t){try{const[n,r]=t.split("/");return await this.makeRequest("POST",`/v9/projects/${e}/link`,{type:"github",repo:`${n}/${r}`,org:n})}catch(n){return{success:!1,error:n.message}}}async getDeploymentLogs(e){try{const t=await this.makeRequest("GET",`/v2/deployments/${e}/events`);return t.success&&t.data?{success:!0,data:t.data}:t}catch(t){return{success:!1,error:t.message}}}async makeRequest(e,t,n){try{if(!this.config.token)return{success:!1,error:"Vercel token not configured"};const r=`${this.baseUrl}${t}`,a={Authorization:`Bearer ${this.config.token}`,"Content-Type":"application/json"};this.config.teamId&&(a["X-Vercel-Team-Id"]=this.config.teamId);const s=await fetch(r,{method:e,headers:a,...n&&{body:JSON.stringify(n)}});if(!s.ok){const e=await s.json().catch(()=>({}));return{success:!1,error:e.error?.message||`Vercel API error: ${s.status}`}}if("DELETE"===e||204===s.status)return{success:!0};return{success:!0,data:await s.json()}}catch(r){return{success:!1,error:r.message}}}async storeDeployment(e,t,n){try{const{data:{user:r}}=await x.auth.getUser();if(!r)return;await x.from("deployments").insert({user_id:r.id,project_name:n.name,github_url:`https://github.com/${n.gitSource.repo}`,vercel_url:`https://${t.url}`,vercel_project_id:e,vercel_deployment_id:t.uid,status:t.readyState.toLowerCase(),metadata:{framework:n.framework,branch:n.gitSource.ref||"main",environment:t.target}})}catch(r){}}};const Nl=new class{config;uploadAbortControllers=new Map;constructor(e){this.config={defaultBucket:"user-assets",maxFileSize:104857600,allowedTypes:["image/*","video/*","application/pdf","application/zip"],cdnUrl:"https://your-project.supabase.co/storage/v1/object/public",...e}}async upload(e){const t=Date.now();try{const n=this.validateFile(e.file);if(!n.valid)return{success:!1,error:n.error};const r=e.bucket||this.config.defaultBucket,a=new AbortController,s=`${r}/${e.path}`;this.uploadAbortControllers.set(s,a);const{data:i,error:o}=await x.storage.from(r).upload(e.path,e.file,{contentType:e.contentType||e.file.type,cacheControl:e.cacheControl||"3600",upsert:e.upsert||!1});if(this.uploadAbortControllers.delete(s),o)return{success:!1,error:o.message};const l=this.getPublicUrl(r,i.path),c=this.getCDNUrl(r,i.path),u={path:i.path,url:l,cdnUrl:c,publicUrl:l,size:e.file.size||0,type:e.file.type||e.contentType||"",metadata:e.metadata};return await this.storeFileMetadata(r,u,e.metadata),{success:!0,data:u,metadata:{duration:Date.now()-t,size:u.size}}}catch(n){return{success:!1,error:n.message,metadata:{duration:Date.now()-t}}}}async uploadBatch(e){const t=Date.now(),n=[],r=[];try{const a=e.files.length;let s=0;for(let t=0;t<e.files.length;t++){const i=e.files[t],o=await this.upload({file:i.file,path:i.path,bucket:e.bucket,metadata:i.metadata});o.success&&o.data?(n.push(o.data),e.onFileComplete?.(o.data,t)):r.push(`${i.path}: ${o.error}`),s++,e.onProgress?.(s,a)}return{success:0===r.length,data:n,error:r.length>0?r.join("; "):void 0,metadata:{duration:Date.now()-t,count:n.length}}}catch(a){return{success:!1,error:a.message,data:n,metadata:{duration:Date.now()-t}}}}async uploadFromUrl(e,t,n){try{const r=await fetch(e);if(!r.ok)return{success:!1,error:"Failed to fetch file from URL"};const a=await r.blob(),s=new File([a],t.split("/").pop()||"file",{type:r.headers.get("content-type")||"application/octet-stream"});return this.upload({file:s,path:t,bucket:n})}catch(r){return{success:!1,error:r.message}}}async download(e,t){try{const{data:n,error:r}=await x.storage.from(t||this.config.defaultBucket).download(e);return r?{success:!1,error:r.message}:{success:!0,data:n}}catch(n){return{success:!1,error:n.message}}}async downloadAsZip(e,t){try{return{success:!1,error:"Use the generate-zip edge function for creating ZIP files"}}catch(n){return{success:!1,error:n.message}}}async list(e="",t){try{const{data:n,error:r}=await x.storage.from(t||this.config.defaultBucket).list(e,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});return r?{success:!1,error:r.message}:{success:!0,data:n,metadata:{count:n.length}}}catch(n){return{success:!1,error:n.message}}}async move(e){try{const t=e.bucket||this.config.defaultBucket,{error:n}=await x.storage.from(t).move(e.fromPath,e.toPath);return n?{success:!1,error:n.message}:(await this.updateFileMetadata(t,e.fromPath,{path:e.toPath}),{success:!0})}catch(t){return{success:!1,error:t.message}}}async copy(e,t,n){try{const r=await this.download(e,n);return r.success&&r.data?this.upload({file:r.data,path:t,bucket:n}):{success:!1,error:r.error}}catch(r){return{success:!1,error:r.message}}}async delete(e,t,n=!1){try{const r=t||this.config.defaultBucket;if(n){const{error:t}=await x.storage.from(r).remove([e]);if(t)return{success:!1,error:t.message};await this.deleteFileMetadata(r,e)}else await this.updateFileMetadata(r,e,{is_deleted:!0,deleted_at:(new Date).toISOString()});return{success:!0}}catch(r){return{success:!1,error:r.message}}}async deleteBatch(e,t,n=!1){try{const r=(await Promise.all(e.map(e=>this.delete(e,t,n)))).filter(e=>!e.success);return r.length>0?{success:!1,error:`Failed to delete ${r.length} files`}:{success:!0}}catch(r){return{success:!1,error:r.message}}}async restore(e,t){try{return await this.updateFileMetadata(t||this.config.defaultBucket,e,{is_deleted:!1,deleted_at:void 0}),{success:!0}}catch(n){return{success:!1,error:n.message}}}getPublicUrl(e,t){const{data:n}=x.storage.from(e).getPublicUrl(t);return n.publicUrl}getCDNUrl(e,t){return`${this.config.cdnUrl}/${e}/${t}`}async getSignedUrl(e,t=3600,n){try{const{data:r,error:a}=await x.storage.from(n||this.config.defaultBucket).createSignedUrl(e,t);return a?{success:!1,error:a.message}:{success:!0,data:r.signedUrl}}catch(r){return{success:!1,error:r.message}}}async getSignedUrls(e,t=3600,n){try{const{data:r,error:a}=await x.storage.from(n||this.config.defaultBucket).createSignedUrls(e,t);return a?{success:!1,error:a.message}:{success:!0,data:r.map((t,n)=>({path:e[n],url:t.signedUrl}))}}catch(r){return{success:!1,error:r.message}}}getOptimizedImageUrl(e,t,n){const r=this.getCDNUrl(e,t);if(!n)return r;const a=new URLSearchParams;return n.width&&a.append("width",n.width.toString()),n.height&&a.append("height",n.height.toString()),n.quality&&a.append("quality",n.quality.toString()),n.format&&a.append("format",n.format),n.resize&&a.append("resize",n.resize),`${r}?${a.toString()}`}validateFile(e){const t=e;if(t.size>this.config.maxFileSize)return{valid:!1,error:`File size exceeds maximum of ${this.formatBytes(this.config.maxFileSize)}`};if(t.type&&this.config.allowedTypes.length>0){if(!this.config.allowedTypes.some(e=>e.endsWith("/*")?t.type.startsWith(e.replace("/*","")):t.type===e))return{valid:!1,error:`File type ${t.type} is not allowed`}}return{valid:!0}}async storeFileMetadata(e,t,n){try{const{data:{user:r}}=await x.auth.getUser();if(!r)return;const a=t.path.split("/").pop()||"",s=t.path.split("/").slice(0,-1).join("/");await x.from("storage_files").insert({user_id:r.id,bucket:e,path:t.path,url:t.url,cdn_url:t.cdnUrl,filename:a,size:t.size,mime_type:t.type,folder:s||null,metadata:n||{},is_deleted:!1})}catch(r){}}async updateFileMetadata(e,t,n){try{const{data:{user:r}}=await x.auth.getUser();if(!r)return;await x.from("storage_files").update(n).eq("user_id",r.id).eq("bucket",e).eq("path",t)}catch(r){}}async deleteFileMetadata(e,t){try{const{data:{user:n}}=await x.auth.getUser();if(!n)return;await x.from("storage_files").delete().eq("user_id",n.id).eq("bucket",e).eq("path",t)}catch(n){}}formatBytes(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]}cancelUpload(e,t){const n=`${e}/${t}`,r=this.uploadAbortControllers.get(n);r&&(r.abort(),this.uploadAbortControllers.delete(n))}};Nl.upload.bind(Nl),Nl.uploadBatch.bind(Nl),Nl.download.bind(Nl),Nl.delete.bind(Nl),Nl.list.bind(Nl),Nl.getPublicUrl.bind(Nl),Nl.getCDNUrl.bind(Nl);const Cl=({isOpen:t,conversations:n,activeConversationId:r,onToggle:a,onClose:s,onNewConversation:i,onSelectConversation:o,onDeleteConversation:l})=>e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-in fade-in duration-200",onClick:s}),e.jsxs("div",{className:(t?"fixed md:relative inset-0 md:inset-auto w-full sm:w-80 md:w-72 z-50 md:z-auto animate-in slide-in-from-left duration-300":"hidden md:w-0")+" bg-white md:bg-gray-50 md:border-r border-gray-200 flex flex-col overflow-hidden shadow-xl md:shadow-none",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white md:bg-transparent",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base md:text-sm font-semibold text-gray-900 md:text-gray-700",children:"Conversas"}),e.jsx(c,{onClick:s,variant:"ghost",size:"sm",className:"h-8 w-8 md:h-7 md:w-7 p-0 hover:bg-gray-100",children:e.jsx(C,{className:"h-5 w-5 md:h-4 md:w-4"})})]}),e.jsxs(c,{onClick:()=>{i(),window.innerWidth<768&&s()},className:"w-full gap-2 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",size:"default",children:[e.jsx(O,{className:"h-4 w-4"}),"Nova Conversa"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-2 space-y-2 md:space-y-1",children:n.map(t=>e.jsxs("div",{className:"group relative flex items-center gap-3 p-3 md:p-2.5 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-200 "+(r===t.id?"bg-blue-50 border border-blue-200 shadow-sm":"bg-gray-50 md:bg-white hover:shadow-sm"),onClick:()=>{r!==t.id&&o(t.id),window.innerWidth<768&&s()},children:[e.jsx(_,{className:"h-5 w-5 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm md:text-sm font-medium text-gray-900 truncate",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:t.messages&&t.messages.length>0?t.messages[t.messages.length-1].content.substring(0,50)+"...":"Sem mensagens ainda"})]}),e.jsx(c,{onClick:e=>{e.stopPropagation(),l(t.id)},variant:"ghost",size:"sm",className:"h-8 w-8 md:h-7 md:w-7 p-0 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",children:e.jsx(L,{className:"h-4 w-4 md:h-3.5 md:w-3.5 text-red-500"})})]},t.id))})]})]}),Sl=({onClick:t,className:n=""})=>e.jsx(c,{onClick:t,variant:"ghost",size:"sm",className:`h-9 w-9 p-0 flex-shrink-0 hover:bg-gray-100 rounded-lg ${n}`,children:e.jsx($,{className:"h-5 w-5"})});function El(){const n=f(e=>e.user),r=f(e=>e.isAuthenticated),a=i(),{toast:s}=p(),o=m(e=>e.conversations),l=m(e=>e.activeConversationId),c=m(e=>e.setActiveConversationId),u=m(e=>e.createNewConversation);m(e=>e.deleteConversation);const d=m(e=>e.loadConversations),[h,g]=t.useState("undefined"!=typeof window&&window.innerWidth>=768);t.useEffect(()=>{r&&n||a("/login-v2",{replace:!0})},[r,n,a]),t.useEffect(()=>{n&&d(n.id,"web")},[n?.id,d]);return r&&n?e.jsxs("div",{className:"h-screen w-full flex overflow-hidden",children:[e.jsx(Cl,{isOpen:h,conversations:o,activeConversationId:l,onToggle:()=>g(!h),onClose:()=>g(!1),onNewConversation:async()=>{if(n)try{const e=await u(n.id,"web");c(e.id),s({title:"✨ Nova Conversa",description:"Conversa criada com sucesso!"})}catch(e){s({title:"Erro",description:"Não foi possível criar nova conversa.",variant:"destructive"})}},onSelectConversation:async e=>{c(e)},onDeleteConversation:async e=>{if(n)try{await x.from("ChatMessage").delete().eq("conversationId",e),await x.from("ChatConversation").delete().eq("id",e),await d(n.id,"web"),l===e&&c(null),s({title:"🗑️ Conversa deletada",description:"A conversa foi removida com sucesso."})}catch(t){s({title:"Erro",description:"Não foi possível deletar a conversa.",variant:"destructive"})}}}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative",children:[!h&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx(Sl,{onClick:()=>g(!0)})}),e.jsx(jl,{autoDetect:!0,allowManualSwitch:!0,initialModal:"chat",userId:n.id,conversationId:l||void 0,onModalChange:e=>{},onSendMessage:async(e,t)=>{g(!1);try{await j.sendMessage(e,{modalType:t.type,confidence:t.confidence,params:t.params,metadata:t.metadata,conversationId:l})}catch(n){s({title:"Erro",description:"Não foi possível enviar a mensagem.",variant:"destructive"})}},className:"h-full w-full"})]})]}):null}export{El as default};
