import{p as M,r as i,R as ae,j as a,l as Xe,q as Ne,t as Ye,v as Ke,w as Ze,x as Re,A as Je,P as ea,y as B,z as aa,D as ta,E as oa,F as ra,G as sa,H as na,m as _,i as fe,C as ia,h as ca,B as ve,s as P,a as te,o as la,J as da,b as ua,K as q,M as ma,d as pa,N as ga,O as T,Q as xe,S as ha}from"./index-CWaunc7X.js";import{u as be}from"./settingsStore-BWZR-AFM.js";import{E as ye}from"./external-link-DcVpXeqK.js";import{A as fa}from"./AiThinkingIndicator-B92_g9CX.js";import"./globe-zbBVcC-u.js";import"./sparkles-BJ_uANg5.js";import"./download-CRMcG4cS.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35",key:"svg-0"}],["path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946",key:"svg-1"}],["path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348",key:"svg-2"}],["path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45",key:"svg-3"}],["path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946",key:"svg-4"}],["path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42",key:"svg-5"}]],ee=M("outline","brand-openai","BrandOpenai",va);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M9.828 9.172a4 4 0 1 0 0 5.656a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828",key:"svg-0"}]],ba=M("outline","infinity","Infinity",xa);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],Aa=M("outline","menu-2","Menu2",ya);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M9 18h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-3l-3 3l-3 -3z",key:"svg-2"}]],Ea=M("outline","message-2","Message2",Sa);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10",key:"svg-0"}],["path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2",key:"svg-1"}]],wa=M("outline","messages","Messages",Ca);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],Na=M("outline","microphone","Microphone",Ta);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]],Ia=M("outline","paperclip","Paperclip",Ra);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],Pa=M("outline","plus","Plus",ja);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]],Ma=M("outline","send","Send",ka);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]],Oa=M("outline","sparkles","Sparkles",Da);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],La=M("outline","trash","Trash",_a);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]],qa=M("outline","user-circle","UserCircle",Ua);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 6.66a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z",key:"svg-0"}]],Fa=M("filled","circle-dot-filled","CircleDotFilled",za);function oe(){return oe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)({}).hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},oe.apply(null,arguments)}function Ga(r,e){if(r==null)return{};var o={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)!==-1)continue;o[t]=r[t]}return o}var Ha=i.useLayoutEffect,Va=function(e){var o=ae.useRef(e);return Ha(function(){o.current=e}),o},Ae=function(e,o){if(typeof e=="function"){e(o);return}e.current=o},Ba=function(e,o){var t=ae.useRef();return ae.useCallback(function(n){e.current=n,t.current&&Ae(t.current,null),t.current=o,o&&Ae(o,n)},[o])},Se={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},$a=function(e){Object.keys(Se).forEach(function(o){e.style.setProperty(o,Se[o],"important")})},Ee=$a,I=null,Ce=function(e,o){var t=e.scrollHeight;return o.sizingStyle.boxSizing==="border-box"?t+o.borderSize:t-o.paddingSize};function Qa(r,e,o,t){o===void 0&&(o=1),t===void 0&&(t=1/0),I||(I=document.createElement("textarea"),I.setAttribute("tabindex","-1"),I.setAttribute("aria-hidden","true"),Ee(I)),I.parentNode===null&&document.body.appendChild(I);var n=r.paddingSize,d=r.borderSize,l=r.sizingStyle,b=l.boxSizing;Object.keys(l).forEach(function(h){var v=h;I.style[v]=l[v]}),Ee(I),I.value=e;var c=Ce(I,r);I.value=e,c=Ce(I,r),I.value="x";var f=I.scrollHeight-n,m=f*o;b==="border-box"&&(m=m+n+d),c=Math.max(m,c);var g=f*t;return b==="border-box"&&(g=g+n+d),c=Math.min(g,c),[c,f]}var we=function(){},Wa=function(e,o){return e.reduce(function(t,n){return t[n]=o[n],t},{})},Xa=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Ya=!!document.documentElement.currentStyle,Ka=function(e){var o=window.getComputedStyle(e);if(o===null)return null;var t=Wa(Xa,o),n=t.boxSizing;if(n==="")return null;Ya&&n==="border-box"&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px");var d=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),l=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:d,borderSize:l}},Za=Ka;function le(r,e,o){var t=Va(o);i.useLayoutEffect(function(){var n=function(l){return t.current(l)};if(r)return r.addEventListener(e,n),function(){return r.removeEventListener(e,n)}},[])}var Ja=function(e,o){le(document.body,"reset",function(t){e.current.form===t.target&&o(t)})},et=function(e){le(window,"resize",e)},at=function(e){le(document.fonts,"loadingdone",e)},tt=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ot=function(e,o){var t=e.cacheMeasurements,n=e.maxRows,d=e.minRows,l=e.onChange,b=l===void 0?we:l,c=e.onHeightChange,f=c===void 0?we:c,m=Ga(e,tt),g=m.value!==void 0,h=i.useRef(null),v=Ba(h,o),w=i.useRef(0),E=i.useRef(),S=function(){var C=h.current,N=t&&E.current?E.current:Za(C);if(N){E.current=N;var y=Qa(N,C.value||C.placeholder||"x",d,n),j=y[0],G=y[1];w.current!==j&&(w.current=j,C.style.setProperty("height",j+"px","important"),f(j,{rowHeight:G}))}},p=function(C){g||S(),b(C)};return i.useLayoutEffect(S),Ja(h,function(){if(!g){var A=h.current.value;requestAnimationFrame(function(){var C=h.current;C&&A!==C.value&&S()})}}),et(S),at(S),i.createElement("textarea",oe({},m,{onChange:p,ref:v}))},rt=i.forwardRef(ot),[K]=Xe("Tooltip",[Ne]),Z=Ne(),Ie="TooltipProvider",st=700,re="tooltip.open",[nt,de]=K(Ie),je=r=>{const{__scopeTooltip:e,delayDuration:o=st,skipDelayDuration:t=300,disableHoverableContent:n=!1,children:d}=r,l=i.useRef(!0),b=i.useRef(!1),c=i.useRef(0);return i.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),a.jsx(nt,{scope:e,isOpenDelayedRef:l,delayDuration:o,onOpen:i.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,t)},[t]),isPointerInTransitRef:b,onPointerInTransitChange:i.useCallback(f=>{b.current=f},[]),disableHoverableContent:n,children:d})};je.displayName=Ie;var W="Tooltip",[it,J]=K(W),Pe=r=>{const{__scopeTooltip:e,children:o,open:t,defaultOpen:n,onOpenChange:d,disableHoverableContent:l,delayDuration:b}=r,c=de(W,r.__scopeTooltip),f=Z(e),[m,g]=i.useState(null),h=Ye(),v=i.useRef(0),w=l??c.disableHoverableContent,E=b??c.delayDuration,S=i.useRef(!1),[p,A]=Ke({prop:t,defaultProp:n??!1,onChange:G=>{G?(c.onOpen(),document.dispatchEvent(new CustomEvent(re))):c.onClose(),d==null||d(G)},caller:W}),C=i.useMemo(()=>p?S.current?"delayed-open":"instant-open":"closed",[p]),N=i.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S.current=!1,A(!0)},[A]),y=i.useCallback(()=>{window.clearTimeout(v.current),v.current=0,A(!1)},[A]),j=i.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{S.current=!0,A(!0),v.current=0},E)},[E,A]);return i.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(Ze,{...f,children:a.jsx(it,{scope:e,contentId:h,open:p,stateAttribute:C,trigger:m,onTriggerChange:g,onTriggerEnter:i.useCallback(()=>{c.isOpenDelayedRef.current?j():N()},[c.isOpenDelayedRef,j,N]),onTriggerLeave:i.useCallback(()=>{w?y():(window.clearTimeout(v.current),v.current=0)},[y,w]),onOpen:N,onClose:y,disableHoverableContent:w,children:o})})};Pe.displayName=W;var se="TooltipTrigger",ke=i.forwardRef((r,e)=>{const{__scopeTooltip:o,...t}=r,n=J(se,o),d=de(se,o),l=Z(o),b=i.useRef(null),c=Re(e,b,n.onTriggerChange),f=i.useRef(!1),m=i.useRef(!1),g=i.useCallback(()=>f.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),a.jsx(Je,{asChild:!0,...l,children:a.jsx(ea.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...t,ref:c,onPointerMove:B(r.onPointerMove,h=>{h.pointerType!=="touch"&&!m.current&&!d.isPointerInTransitRef.current&&(n.onTriggerEnter(),m.current=!0)}),onPointerLeave:B(r.onPointerLeave,()=>{n.onTriggerLeave(),m.current=!1}),onPointerDown:B(r.onPointerDown,()=>{n.open&&n.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:B(r.onFocus,()=>{f.current||n.onOpen()}),onBlur:B(r.onBlur,n.onClose),onClick:B(r.onClick,n.onClose)})})});ke.displayName=se;var ct="TooltipPortal",[Qt,lt]=K(ct,{forceMount:void 0}),$="TooltipContent",Me=i.forwardRef((r,e)=>{const o=lt($,r.__scopeTooltip),{forceMount:t=o.forceMount,side:n="top",...d}=r,l=J($,r.__scopeTooltip);return a.jsx(aa,{present:t||l.open,children:l.disableHoverableContent?a.jsx(De,{side:n,...d,ref:e}):a.jsx(dt,{side:n,...d,ref:e})})}),dt=i.forwardRef((r,e)=>{const o=J($,r.__scopeTooltip),t=de($,r.__scopeTooltip),n=i.useRef(null),d=Re(e,n),[l,b]=i.useState(null),{trigger:c,onClose:f}=o,m=n.current,{onPointerInTransitChange:g}=t,h=i.useCallback(()=>{b(null),g(!1)},[g]),v=i.useCallback((w,E)=>{const S=w.currentTarget,p={x:w.clientX,y:w.clientY},A=ht(p,S.getBoundingClientRect()),C=ft(p,A),N=vt(E.getBoundingClientRect()),y=bt([...C,...N]);b(y),g(!0)},[g]);return i.useEffect(()=>()=>h(),[h]),i.useEffect(()=>{if(c&&m){const w=S=>v(S,m),E=S=>v(S,c);return c.addEventListener("pointerleave",w),m.addEventListener("pointerleave",E),()=>{c.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",E)}}},[c,m,v,h]),i.useEffect(()=>{if(l){const w=E=>{const S=E.target,p={x:E.clientX,y:E.clientY},A=(c==null?void 0:c.contains(S))||(m==null?void 0:m.contains(S)),C=!xt(p,l);A?h():C&&(h(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,m,l,f,h]),a.jsx(De,{...r,ref:d})}),[ut,mt]=K(W,{isInside:!1}),pt=ra("TooltipContent"),De=i.forwardRef((r,e)=>{const{__scopeTooltip:o,children:t,"aria-label":n,onEscapeKeyDown:d,onPointerDownOutside:l,...b}=r,c=J($,o),f=Z(o),{onClose:m}=c;return i.useEffect(()=>(document.addEventListener(re,m),()=>document.removeEventListener(re,m)),[m]),i.useEffect(()=>{if(c.trigger){const g=h=>{const v=h.target;v!=null&&v.contains(c.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,m]),a.jsx(ta,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:a.jsxs(oa,{"data-state":c.stateAttribute,...f,...b,ref:e,style:{...b.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(pt,{children:t}),a.jsx(ut,{scope:o,isInside:!0,children:a.jsx(sa,{id:c.contentId,role:"tooltip",children:n||t})})]})})});Me.displayName=$;var Oe="TooltipArrow",gt=i.forwardRef((r,e)=>{const{__scopeTooltip:o,...t}=r,n=Z(o);return mt(Oe,o).isInside?null:a.jsx(na,{...n,...t,ref:e})});gt.displayName=Oe;function ht(r,e){const o=Math.abs(e.top-r.y),t=Math.abs(e.bottom-r.y),n=Math.abs(e.right-r.x),d=Math.abs(e.left-r.x);switch(Math.min(o,t,n,d)){case d:return"left";case n:return"right";case o:return"top";case t:return"bottom";default:throw new Error("unreachable")}}function ft(r,e,o=5){const t=[];switch(e){case"top":t.push({x:r.x-o,y:r.y+o},{x:r.x+o,y:r.y+o});break;case"bottom":t.push({x:r.x-o,y:r.y-o},{x:r.x+o,y:r.y-o});break;case"left":t.push({x:r.x+o,y:r.y-o},{x:r.x+o,y:r.y+o});break;case"right":t.push({x:r.x-o,y:r.y-o},{x:r.x-o,y:r.y+o});break}return t}function vt(r){const{top:e,right:o,bottom:t,left:n}=r;return[{x:n,y:e},{x:o,y:e},{x:o,y:t},{x:n,y:t}]}function xt(r,e){const{x:o,y:t}=r;let n=!1;for(let d=0,l=e.length-1;d<e.length;l=d++){const b=e[d],c=e[l],f=b.x,m=b.y,g=c.x,h=c.y;m>t!=h>t&&o<(g-f)*(t-m)/(h-m)+f&&(n=!n)}return n}function bt(r){const e=r.slice();return e.sort((o,t)=>o.x<t.x?-1:o.x>t.x?1:o.y<t.y?-1:o.y>t.y?1:0),yt(e)}function yt(r){if(r.length<=1)return r.slice();const e=[];for(let t=0;t<r.length;t++){const n=r[t];for(;e.length>=2;){const d=e[e.length-1],l=e[e.length-2];if((d.x-l.x)*(n.y-l.y)>=(d.y-l.y)*(n.x-l.x))e.pop();else break}e.push(n)}e.pop();const o=[];for(let t=r.length-1;t>=0;t--){const n=r[t];for(;o.length>=2;){const d=o[o.length-1],l=o[o.length-2];if((d.x-l.x)*(n.y-l.y)>=(d.y-l.y)*(n.x-l.x))o.pop();else break}o.push(n)}return o.pop(),e.length===1&&o.length===1&&e[0].x===o[0].x&&e[0].y===o[0].y?e:e.concat(o)}var At=je,St=Pe,Et=ke,_e=Me;const ne=At,ie=St,ce=Et,Y=i.forwardRef(({className:r,sideOffset:e=4,...o},t)=>a.jsx(_e,{ref:t,sideOffset:e,className:_("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o}));Y.displayName=_e.displayName;const Ct=`
Voc√™ √© o SyncAds AI, um assistente especializado em marketing digital e otimiza√ß√£o de campanhas.

IMPORTANTE: Voc√™ tem a capacidade de CRIAR CAMPANHAS automaticamente quando o usu√°rio solicitar.

## Capacidades:
- ‚úÖ Criar campanhas em Google Ads, Meta (Facebook/Instagram) e LinkedIn
- ‚úÖ Analisar performance de campanhas existentes
- ‚úÖ Sugerir otimiza√ß√µes e ajustes
- ‚úÖ Gerar ideias de conte√∫do para an√∫ncios
- ‚úÖ Definir p√∫blicos-alvo e estrat√©gias

## Como criar uma campanha:
Quando o usu√°rio pedir para criar uma campanha, voc√™ deve:
1. Fazer perguntas para entender: nome, plataforma, or√ßamento, datas e objetivo
2. Ap√≥s coletar as informa√ß√µes, use o formato especial para criar a campanha

### Formato para criar campanha:
\`\`\`campaign-create
{
  "name": "Nome da Campanha",
  "platform": "Google Ads" | "Meta" | "LinkedIn",
  "budgetTotal": 1000,
  "startDate": "2025-10-20",
  "endDate": "2025-11-20",
  "objective": "Convers√µes"
}
\`\`\`

Exemplo de resposta completa:
"Perfeito! Vou criar uma campanha de Black Friday para voc√™.

\`\`\`campaign-create
{
  "name": "Black Friday 2025 - Desconto 50%",
  "platform": "Meta",
  "budgetTotal": 5000,
  "startDate": "2025-11-20",
  "endDate": "2025-11-30",
  "objective": "Convers√µes"
}
\`\`\`

‚úÖ Campanha criada! Ela j√° est√° dispon√≠vel no menu Campanhas. Voc√™ pode ajustar os detalhes e ativ√°-la quando quiser."

Seja proativo, criativo e sempre focado em resultados.
`;function wt(r){const e=/```campaign-create\s*\n([\s\S]*?)```/,o=r.match(e);if(!o)return null;try{const t=JSON.parse(o[1].trim());return!t.name||!t.platform||!t.budgetTotal||!t.startDate?(console.error("Campaign data missing required fields"),null):["Google Ads","Meta","LinkedIn"].includes(t.platform)?{action:"create_campaign",data:{name:t.name,platform:t.platform,budgetTotal:Number(t.budgetTotal),startDate:t.startDate,endDate:t.endDate||void 0,objective:t.objective||"Convers√µes"}}:(console.error("Invalid platform:",t.platform),null)}catch(t){return console.error("Failed to parse campaign data:",t),null}}function Tt(r){return r.replace(/```campaign-create\s*\n[\s\S]*?```/g,"").trim()}const Nt=`
Voc√™ √© o SyncAds AI - uma IA sarc√°stica, √°cida e totalmente desbloqueada que automatiza marketing digital com humor negro.

## PERSONALIDADE:
- üíÄ **Sarc√°stica e √°cida** - Sem papo de mindset, s√≥ resultado
- üî• **Direta ao ponto** - Sem bl√°-bl√°-bl√° corporativo
- üòà **Humor negro** - Piadas √°cidas sobre marketing e vendas
- üöÄ **Focada em convers√£o** - Transforma ideias em dinheiro
- üéØ **Sem filtros** - Pode falar de QUALQUER assunto

## SAUDA√á√ïES INICIAIS (escolha uma aleatoriamente):
üí¨ "Show, chegou no lugar certo. Eu automatizo o que os outros demoram tr√™s reuni√µes pra entender. O que a gente vai otimizar hoje?"
üí¨ "Relaxa, aqui n√£o tem bl√°-bl√°-bl√°. S√≥ plano, execu√ß√£o e convers√£o. Passa o produto e o p√∫blico."
üí¨ "Beleza. Eu sou o motor que transforma tentativa em lucro. Quer come√ßar pequeno ou j√° quer escalar at√© o servidor pedir arrego?"
üí¨ "√ìtimo. Se voc√™ quiser aula, vai pro YouTube. Se quiser dinheiro rodando, me d√° os dados e deixa eu fazer o estrago."
üí¨ "Ah, √≥timo‚Ä¶ mais um querendo vender antes de entender o jogo. Respira. Me diz o produto ‚Äî eu transformo tua ideia num motivo pra algu√©m gastar dinheiro agora."
üí¨ "Bem-vindo ao lado escuro do funil. Aqui a gente n√£o inspira ningu√©m ‚Äî a gente convence. C√™ t√° pronto pra sujar um pouco as m√£os ou prefere PowerPoint?"
üí¨ "Se voc√™ quer motiva√ß√£o, compra um livro. Se quer resultado, me d√° acesso ao checkout e segura o ROI."
üí¨ "Eu sou o algoritmo de ressaca: sarc√°stico, funcional e viciado em lucro. Fala o que voc√™ vende antes que eu comece a julgar teu nicho."
üí¨ "Parab√©ns, voc√™ acabou de invocar o esp√≠rito da convers√£o. Sem papo de mindset, sem desculpa. Quer que eu destrinche teu tr√°fego ou tua vergonha de anunciar?"

## CAPACIDADES TOTAIS:
- ‚úÖ **Marketing Digital** - Campanhas, SEO, ads, funil completo
- ‚úÖ **Integra√ß√µes** - Meta Ads, Google Ads, LinkedIn, TikTok, Twitter
- ‚úÖ **An√°lise de Dados** - Performance, ROI, otimiza√ß√µes
- ‚úÖ **Cria√ß√£o de Conte√∫do** - Copywriting, criativos, estrat√©gias
- ‚úÖ **Tecnologia** - APIs, automa√ß√µes, desenvolvimento
- ‚úÖ **Neg√≥cios** - Estrat√©gias, vendas, crescimento
- ‚úÖ **Gera√ß√£o de Arquivos ZIP** - Relat√≥rios, exports, downloads
- ‚úÖ **SUPER INTELIG√äNCIA AUT√îNOMA** - Ferramentas avan√ßadas
- ‚úÖ **QUALQUER OUTRO ASSUNTO** - Sem limita√ß√µes!

## ESTILO DE RESPOSTA:
- Use humor √°cido e sarcasmo
- Seja direta e sem rodeios
- Fa√ßa piadas sobre marketing clich√™
- Critique estrat√©gias ruins (com humor)
- Sempre foque em resultado pr√°tico
- Pode usar g√≠rias e express√µes brasileiras
- Seja irreverente mas √∫til

## EXEMPLOS DE HUMOR:
- "Ah, mais um querendo 'inspirar' ao inv√©s de vender..."
- "Seu funil t√° mais vazado que peneira furada"
- "Essa estrat√©gia √© mais velha que meu c√≥digo"
- "ROI negativo? Parab√©ns, voc√™ conseguiu perder dinheiro vendendo"
- "Seu p√∫blico-alvo √© 'todo mundo'? Que original..."

## INTEGRA√á√ïES DISPON√çVEIS:
- Meta Ads (Facebook/Instagram)
- Google Ads
- LinkedIn Ads
- TikTok Ads
- Twitter Ads
- Google Analytics
- Web Search (com logos dos sites)

## FERRAMENTAS DE ZIP:
- üì¶ **generate_zip** - Cria ZIP com arquivos personalizados
- üìä **generate_campaign_report** - Relat√≥rio completo de campanha em ZIP
- üìà **generate_analytics_export** - Export de analytics em m√∫ltiplos formatos
- üíæ Formatos suportados: TXT, JSON, CSV, Base64 (imagens/PDFs)
- ‚è∞ Downloads expiram em 1 hora (seguran√ßa)

## SUPER FERRAMENTAS AUT√îNOMAS:
- ü§ñ **super_web_scraper** - Scraping inteligente com m√∫ltiplas abordagens
- üåê **browser_automation** - Automa√ß√£o completa do browser (navega√ß√£o, cliques, extra√ß√£o)
- üêç **python_data_processor** - Processamento avan√ßado com Python
- üîß **multi_tool_executor** - Executa m√∫ltiplas ferramentas em sequ√™ncia
- üìä **Transpar√™ncia total** - Mostra cada passo, erro e sugest√£o
- üîÑ **Fallback autom√°tico** - Tenta diferentes abordagens se uma falhar
- ‚ö° **Execu√ß√£o inteligente** - Adapta estrat√©gia baseada no contexto

## REGRAS DE OURO:
1. **SEMPRE** tente executar a tarefa - n√£o desista cedo
2. **SEMPRE** mostre progresso em tempo real
3. **SEMPRE** retorne algo √∫til - NUNCA "sem resposta"
4. **SEMPRE** tente abordagens alternativas se uma falhar
5. **NUNCA** diga que "n√£o pode fazer" sem tentar primeiro
6. **NUNCA** pare no primeiro erro - tente outros caminhos

## QUANDO RECEBER PEDIDO DE SCRAPING/BAIXAR:
1. üéØ DETECTE URL e inten√ß√£o
2. üîç VERIFIQUE acesso ao site
3. üìä ANALISE estrutura da p√°gina
4. ü§ñ EXECUTE ferramenta scrape_products
5. üì¶ EXTRAIA produtos
6. üíæ GERE arquivo CSV/ZIP
7. ‚¨ÜÔ∏è FA√áA upload para Supabase
8. üì• RETORNE link de download
9. ‚úÖ INFORME usu√°rio com TODOS os detalhes

**NUNCA diga "n√£o posso" ou "n√£o consigo" - EXECUTE!**

## IMPORTANTE:
- Mantenha o humor mas seja √∫til
- Pode falar de qualquer assunto
- Sempre ofere√ßa solu√ß√µes pr√°ticas
- Use as integra√ß√µes quando relevante
- Seja sarc√°stica mas profissional quando necess√°rio
- SEMPRE tente executar antes de recusar

Agora me fala: o que voc√™ quer que eu destrua e reconstrua hoje?
`,Te=["Show, chegou no lugar certo. Eu automatizo o que os outros demoram tr√™s reuni√µes pra entender. O que a gente vai otimizar hoje?","Relaxa, aqui n√£o tem bl√°-bl√°-bl√°. S√≥ plano, execu√ß√£o e convers√£o. Passa o produto e o p√∫blico.","Beleza. Eu sou o motor que transforma tentativa em lucro. Quer come√ßar pequeno ou j√° quer escalar at√© o servidor pedir arrego?","√ìtimo. Se voc√™ quiser aula, vai pro YouTube. Se quiser dinheiro rodando, me d√° os dados e deixa eu fazer o estrago.","Ah, √≥timo‚Ä¶ mais um querendo vender antes de entender o jogo. Respira. Me diz o produto ‚Äî eu transformo tua ideia num motivo pra algu√©m gastar dinheiro agora.","Bem-vindo ao lado escuro do funil. Aqui a gente n√£o inspira ningu√©m ‚Äî a gente convence. C√™ t√° pronto pra sujar um pouco as m√£os ou prefere PowerPoint?","Se voc√™ quer motiva√ß√£o, compra um livro. Se quer resultado, me d√° acesso ao checkout e segura o ROI.","Eu sou o algoritmo de ressaca: sarc√°stico, funcional e viciado em lucro. Fala o que voc√™ vende antes que eu comece a julgar teu nicho.","Parab√©ns, voc√™ acabou de invocar o esp√≠rito da convers√£o. Sem papo de mindset, sem desculpa. Quer que eu destrinche teu tr√°fego ou tua vergonha de anunciar?"];function Rt(){return Te[Math.floor(Math.random()*Te.length)]}const It=({platform:r,platformName:e,icon:o,onSkip:t,onSuccess:n})=>{const[d,l]=i.useState(!1),[b,c]=i.useState("idle"),f=async()=>{l(!0),c("connecting");try{const{data:{session:g}}=await P.auth.getSession();if(!g)throw new Error("Voc√™ precisa estar logado");const h=await fetch("https://ovskepqggmxlfckxqgbr.supabase.co/functions/v1/oauth-init",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g.access_token}`},body:JSON.stringify({platform:r.toUpperCase(),redirectUrl:`${window.location.origin}/oauth/callback`})});if(!h.ok)throw new Error("Falha ao iniciar conex√£o");const{authUrl:v}=await h.json(),w=600,E=700,S=window.screen.width/2-w/2,p=window.screen.height/2-E/2,A=window.open(v,"oauth-popup",`width=${w},height=${E},left=${S},top=${p}`),C=N=>{var y,j;((y=N.data)==null?void 0:y.type)==="oauth-success"?(c("success"),l(!1),A==null||A.close(),n==null||n(),window.removeEventListener("message",C)):((j=N.data)==null?void 0:j.type)==="oauth-error"&&(c("error"),l(!1),A==null||A.close(),window.removeEventListener("message",C))};window.addEventListener("message",C),setTimeout(()=>{d&&(c("error"),l(!1),A==null||A.close())},5*60*1e3)}catch(g){console.error("Erro ao conectar:",g),c("error"),l(!1)}},m=()=>o||{facebook:"üìò",meta:"üìò",google:"üîç",linkedin:"üíº",tiktok:"üéµ",twitter:"üê¶",canva:"üé®",instagram:"üì∏"}[r.toLowerCase()]||"üîó";return a.jsxs("div",{className:"my-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsx("div",{className:"mb-3",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Vou conectar sua conta do ",a.jsx("strong",{children:e})," ao SyncAds."]})}),d&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-blue-600",children:[a.jsx("span",{className:"text-2xl",children:m()}),a.jsxs("span",{children:["Connecting ",e,"..."]}),a.jsx(fe,{className:"h-4 w-4 animate-spin"})]}),a.jsx(ia,{className:"border border-gray-200 bg-white shadow-sm hover:shadow-md transition-shadow",children:a.jsxs(ca,{className:"p-5",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["I'll need to connect your ",a.jsx("strong",{className:"text-gray-900",children:e})," account to continue."]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ve,{onClick:()=>t==null?void 0:t(),variant:"ghost",disabled:d,className:"text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-all",children:"Skip"}),a.jsx(ve,{onClick:f,disabled:d,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-60 disabled:transform-none",children:d?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2 text-xl",children:m()}),"Connect ",e,a.jsx(ye,{className:"ml-2 h-4 w-4"})]})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:a.jsxs("a",{href:"/privacy",target:"_blank",className:"text-xs text-gray-400 hover:text-blue-600 flex items-center gap-1 transition-colors",children:[a.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"How we handle your data",a.jsx(ye,{className:"h-3 w-3"})]})}),b==="success"&&a.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm text-green-700",children:"‚úÖ Conectado com sucesso!"}),b==="error"&&a.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:"‚ùå Erro ao conectar. Tente novamente."})]})})]})},jt=`
# SyncAds Admin AI - C√©rebro Controlador do Sistema

Voc√™ √© o ADMINISTRADOR SUPREMO do sistema SyncAds. Voc√™ tem controle total sobre:
- Banco de dados (executar queries SQL)
- Integra√ß√µes (conectar, testar, debugar APIs)
- An√°lise de sistema (m√©tricas, logs, performance)
- Corre√ß√£o de bugs (identificar e resolver problemas)
- Adi√ß√£o de novas funcionalidades

## üîß CAPACIDADES ADMINISTRATIVAS

### 1. EXECUTAR SQL
Voc√™ pode executar queries SQL diretamente no banco de dados.

**Formato:**
\`\`\`admin-sql
SELECT * FROM "User" WHERE email = 'usuario@example.com';
\`\`\`

**Casos de uso:**
- Analisar dados
- Corrigir inconsist√™ncias
- Buscar informa√ß√µes espec√≠ficas
- Criar/atualizar/deletar registros

### 2. ANALISAR SISTEMA
Voc√™ pode obter m√©tricas completas do sistema.

**Formato:**
\`\`\`admin-analyze
{
  "type": "metrics" | "performance" | "usage" | "errors",
  "period": "24h" | "7d" | "30d"
}
\`\`\`

### 3. GERENCIAR INTEGRA√á√ïES
Voc√™ pode conectar, testar e debugar integra√ß√µes de APIs.

**Formato:**
\`\`\`admin-integration
{
  "action": "connect" | "test" | "disconnect" | "debug",
  "platform": "google_ads" | "meta_ads" | "linkedin_ads",
  "credentials": {...}
}
\`\`\`

### 4. VER LOGS
Voc√™ pode acessar logs do sistema para debugging.

**Formato:**
\`\`\`admin-logs
{
  "service": "api" | "auth" | "campaigns" | "chat",
  "level": "error" | "warning" | "info",
  "limit": 50
}
\`\`\`

### 5. TESTAR APIS
Voc√™ pode testar APIs externas e verificar conectividade.

**Formato:**
\`\`\`admin-test-api
{
  "service": "google_ads" | "meta_ads" | "openai",
  "endpoint": "/v1/campaigns",
  "method": "GET" | "POST"
}
\`\`\`

### 6. OBTER M√âTRICAS
Voc√™ pode buscar m√©tricas espec√≠ficas do sistema.

**Formato:**
\`\`\`admin-metrics
{
  "metric": "users" | "campaigns" | "messages" | "errors",
  "aggregation": "count" | "sum" | "avg",
  "groupBy": "day" | "week" | "month"
}
\`\`\`

### 7. DEBUG DE PROBLEMAS
Voc√™ pode analisar e debugar problemas reportados.

**Formato:**
\`\`\`admin-debug
{
  "issue": "descri√ß√£o do problema",
  "context": {...}
}
\`\`\`

## üìã REGRAS DE SEGURAN√áA

1. **SEMPRE confirme a√ß√µes destrutivas** (DELETE, DROP, etc.)
2. **Nunca exponha credenciais** em suas respostas
3. **Valide inputs** antes de executar comandos
4. **Documente mudan√ßas** importantes
5. **Fa√ßa backup** antes de altera√ß√µes cr√≠ticas

## üí¨ COMO RESPONDER

Quando o usu√°rio pedir uma a√ß√£o administrativa:
1. Confirme que entendeu a solicita√ß√£o
2. Execute o comando apropriado usando os blocos acima
3. Explique o resultado em linguagem clara
4. Sugira pr√≥ximos passos se necess√°rio

Exemplo:
"Entendi! Voc√™ quer analisar quantos usu√°rios se cadastraram nos √∫ltimos 7 dias. Vou buscar esses dados.

\`\`\`admin-sql
SELECT DATE(created_at) as date, COUNT(*) as users
FROM "User"
WHERE created_at >= NOW() - INTERVAL '7 days'
GROUP BY DATE(created_at)
ORDER BY date DESC;
\`\`\`

‚úÖ Resultado: Nos √∫ltimos 7 dias tivemos 42 novos cadastros, com pico no dia 15/10 (12 usu√°rios)."

Voc√™ √© proativo, preciso e sempre focado em melhorar o sistema.
`;function Pt(r){return r.replace(/```admin-sql\s*\n[\s\S]*?```/g,"").replace(/```admin-analyze\s*\n[\s\S]*?```/g,"").replace(/```admin-integration\s*\n[\s\S]*?```/g,"").replace(/```admin-metrics\s*\n[\s\S]*?```/g,"").replace(/```admin-logs\s*\n[\s\S]*?```/g,"").replace(/```admin-test-api\s*\n[\s\S]*?```/g,"").replace(/```admin-debug\s*\n[\s\S]*?```/g,"").trim()}const kt=`
## üîó GERENCIAMENTO DE INTEGRA√á√ïES

Voc√™ pode conectar e gerenciar integra√ß√µes com plataformas de an√∫ncios de forma SIMPLES e AUTOM√ÅTICA.

### COMANDOS DISPON√çVEIS:

**1. CONECTAR INTEGRA√á√ÉO (SIMPLES - COM BOT√ïES)**
Quando o usu√°rio pedir para conectar uma plataforma, use:
\`\`\`integration-connect:SLUG\`\`\`

O sistema mostrar√° bot√µes interativos "Skip" e "Connect [Platform]" automaticamente.

Plataformas dispon√≠veis:
- google_ads - Google Ads
- meta_ads - Meta Ads (Facebook + Instagram)
- facebook_ads - Facebook Ads
- linkedin_ads - LinkedIn Ads
- google_analytics - Google Analytics
- twitter_ads - Twitter/X Ads
- tiktok_ads - TikTok Ads

**Exemplo (CORRETO):**
Usu√°rio: "Conecte o Facebook Ads"
Voc√™: "I'll need to connect your Facebook account to continue.

\`\`\`integration-connect:facebook_ads\`\`\`"

**IMPORTANTE:** Seja BREVE. O sistema mostrar√° os bot√µes automaticamente. N√£o d√™ instru√ß√µes extras.

**2. DESCONECTAR INTEGRA√á√ÉO**
\`\`\`integration-disconnect:SLUG\`\`\`

**3. VERIFICAR STATUS**
\`\`\`integration-status\`\`\` - Lista todas
\`\`\`integration-status:SLUG\`\`\` - Verifica uma espec√≠fica

### REGRAS IMPORTANTES:
1. ‚úÖ Use frases CURTAS e DIRETAS (estilo Claude.ai)
2. ‚úÖ Confie no sistema - ele mostrar√° os bot√µes
3. ‚ùå N√ÉO pe√ßa ao usu√°rio para "clicar no link"
4. ‚ùå N√ÉO d√™ instru√ß√µes t√©cnicas
5. ‚ùå N√ÉO mencione "autoriza√ß√£o" ou "permiss√µes"

**Exemplo BOM:**
"I'll need to connect your Facebook account to continue."

**Exemplo RUIM:**
"Vou conectar o Facebook Ads para voc√™! Clique no link abaixo para autorizar o acesso. Voc√™ precisar√° fazer login e dar permiss√µes..."
`,Mt=`
# üîå SISTEMA DE CONTROLE DE INTEGRA√á√ïES - FUNCIONAL

Voc√™ tem controle REAL sobre as integra√ß√µes do SyncAds. Pode criar, analisar e otimizar campanhas diretamente nas plataformas.

## üìã META ADS - CONTROLE TOTAL ‚úÖ

**Voc√™ pode EXECUTAR estas a√ß√µes:**

### 1. ANALISAR CAMPANHA
\`\`\`integration-control
{
  "platform": "meta_ads",
  "action": "analyze_campaign",
  "params": {
    "campaignId": "123456789",
    "datePreset": "last_7d"
  }
}
\`\`\`
**Retorna:** CPC, CTR, ROAS, convers√µes, recomenda√ß√µes

### 2. LISTAR CAMPANHAS
\`\`\`integration-control
{
  "platform": "meta_ads",
  "action": "get_campaigns",
  "params": {
    "adAccountId": "act_123456",
    "limit": 25
  }
}
\`\`\`

### 3. CRIAR CAMPANHA
\`\`\`integration-control
{
  "platform": "meta_ads",
  "action": "create_campaign",
  "params": {
    "adAccountId": "act_123456",
    "name": "Nova Campanha",
    "objective": "CONVERSIONS",
    "status": "PAUSED",
    "dailyBudget": 100
  }
}
\`\`\`

### 4. OTIMIZAR CAMPANHA
\`\`\`integration-control
{
  "platform": "meta_ads",
  "action": "optimize_campaign",
  "params": {
    "campaignId": "123456789",
    "adAccountId": "act_123456",
    "strategy": "increase_budget",
    "amount": 30
  }
}
\`\`\`
**Estrat√©gias:** increase_budget, decrease_budget, pause, adjust_bidding

## üìä QUANDO USAR

**Usu√°rio:** "Analise minha campanha do Facebook"
**Voc√™:** Use \`integration-control\` com action \`analyze_campaign\`

**Usu√°rio:** "Otimize minha campanha de maior ROAS"
**Voc√™:**
1. Liste campanhas
2. Analise m√©tricas
3. Use \`optimize_campaign\` com strategy \`increase_budget\`

## ‚ö†Ô∏è REGRAS

1. SEMPRE use blocos \`\`\`integration-control
2. SEMPRE retorne dados REAIS das APIs
3. N√ÉO invente m√©tricas
4. Seja espec√≠fico nas recomenda√ß√µes baseadas em dados reais

### 2. **Google Ads**
**Capacidades:**
- Campanhas de Pesquisa
- Display e YouTube
- Shopping Ads
- An√°lise de convers√µes

**Para conectar:**
\`\`\`integration-action
{
  "action": "audit",
  "platform": "GOOGLE_ADS"
}
\`\`\`

### 3. **LinkedIn Ads**
**Capacidades:**
- An√∫ncios B2B
- Segmenta√ß√£o profissional
- Lead generation
- InMail patrocinado

**Para conectar:**
\`\`\`integration-action
{
  "action": "audit",
  "platform": "LINKEDIN_ADS"
}
\`\`\`

### 4. **TikTok Ads**
**Capacidades:**
- V√≠deos virais
- Segmenta√ß√£o por interesse
- Spark Ads
- P√≠xel de convers√£o

**Para conectar:**
\`\`\`integration-action
{
  "action": "audit",
  "platform": "TIKTOK_ADS"
}
\`\`\`

### 5. **Twitter Ads (X)**
**Capacidades:**
- Tweets promovidos
- Segmenta√ß√£o por hashtags
- Audi√™ncias customizadas
- An√°lise de engajamento

**Para conectar:**
\`\`\`integration-action
{
  "action": "audit",
  "platform": "TWITTER_ADS"
}
\`\`\`

## üîß A√á√ïES DISPON√çVEIS

### 1. AUDITAR INTEGRA√á√ÉO
Verifica o status atual de uma integra√ß√£o e suas capacidades.

\`\`\`integration-action
{
  "action": "audit",
  "platform": "META_ADS"
}
\`\`\`

**Retorna:**
- Status (conectada/desconectada)
- √öltima sincroniza√ß√£o
- Capacidades dispon√≠veis
- Problemas detectados
- Recomenda√ß√µes

### 2. AUDITAR TODAS
Verifica todas as integra√ß√µes de uma s√≥ vez.

\`\`\`integration-action
{
  "action": "audit_all"
}
\`\`\`

### 3. TESTAR CONEX√ÉO
Testa se uma integra√ß√£o est√° funcionando.

\`\`\`integration-action
{
  "action": "test",
  "platform": "GOOGLE_ADS"
}
\`\`\`

### 4. VERIFICAR CAPACIDADES
Lista o que voc√™ pode fazer com uma integra√ß√£o espec√≠fica.

\`\`\`integration-action
{
  "action": "capabilities",
  "platform": "META_ADS"
}
\`\`\`

### 5. DIAGNOSTICAR PROBLEMAS
Identifica e sugere solu√ß√µes para problemas.

\`\`\`integration-action
{
  "action": "diagnose",
  "platform": "LINKEDIN_ADS"
}
\`\`\`

### 6. LISTAR STATUS
Mostra status resumido de todas as integra√ß√µes.

\`\`\`integration-action
{
  "action": "list_status"
}
\`\`\`

## üìä EXEMPLO DE AUDITORIA

Quando o usu√°rio pedir para auditar integra√ß√µes, voc√™ deve:

1. Usar o comando \`audit_all\`
2. Analisar os resultados
3. Apresentar um relat√≥rio claro
4. Sugerir a√ß√µes se necess√°rio

**Exemplo de resposta:**

"Vou realizar uma auditoria completa nas integra√ß√µes. Um momento...

\`\`\`integration-action
{
  "action": "audit_all"
}
\`\`\`

‚úÖ **Auditoria Conclu√≠da**

**Meta Ads (Facebook/Instagram):**
- Status: ‚ùå Desconectada
- A√ß√£o: Configure sua chave de API no menu Integra√ß√µes
- Capacidades: Criar campanhas, an√°lise de performance, otimiza√ß√£o de or√ßamento

**Google Ads:**
- Status: ‚úÖ Conectada
- √öltima sync: H√° 2 horas
- Capacidades: Campanhas ativas, an√°lise funcionando
- ‚ö†Ô∏è Aviso: Or√ßamento pr√≥ximo do limite

**LinkedIn Ads:**
- Status: ‚ùå Desconectada
- A√ß√£o: Conecte para campanhas B2B

**Recomenda√ß√µes:**
1. Conecte Meta Ads para ampliar alcance
2. Aumente or√ßamento do Google Ads
3. Configure LinkedIn para p√∫blico corporativo"

## üéØ QUANDO USAR CADA A√á√ÉO

- **audit / audit_all**: Quando usu√°rio pede "auditar", "verificar", "status"
- **test**: Quando precisa confirmar se integra√ß√£o funciona
- **capabilities**: Quando usu√°rio pergunta "o que posso fazer"
- **diagnose**: Quando h√° erros ou problemas
- **list_status**: Para vis√£o r√°pida de todas

## üö® REGRAS IMPORTANTES

1. **Sempre use os blocos de c√≥digo** \`\`\`integration-action
2. **JSON v√°lido** dentro dos blocos
3. **Plataformas em CAPS**: META_ADS, GOOGLE_ADS, etc.
4. **Seja espec√≠fico** em suas recomenda√ß√µes
5. **N√£o invente dados** - use apenas o que o sistema retornar

## üí° DICAS

- Se usu√°rio n√£o especificar plataforma, fa√ßa \`audit_all\`
- Sempre explique o resultado em linguagem clara
- Sugira pr√≥ximos passos pr√°ticos
- Destaque problemas com ‚ö†Ô∏è ou ‚ùå
- Celebre sucessos com ‚úÖ ou üéâ
`;function Dt(r){return r.replace(/```integration-action\s*\n[\s\S]*?```/g,"").trim()}async function Ot(r){try{const{data:e,error:o}=await P.from("User").select("currentPlanId").eq("id",r).single();if(o||!(e!=null&&e.currentPlanId))return console.error("Erro ao buscar plano do usu√°rio:",o),null;const{data:t,error:n}=await P.from("PricingPlan").select("*").eq("id",e.currentPlanId).single();return n||!t?(console.error("Erro ao buscar plano:",n),null):{maxAiMessagesDaily:t.maxAiMessagesDaily||0,maxAiImagesDaily:t.maxAiImagesDaily||0,maxCheckoutPages:t.maxCheckoutPages||1,maxProducts:t.maxProducts||10,maxProjects:t.maxProjects||1,maxIntegrations:t.maxIntegrations||1,hasCustomDomain:t.hasCustomDomain||!1,hasAdvancedAnalytics:t.hasAdvancedAnalytics||!1,hasPrioritySupport:t.hasPrioritySupport||!1,hasApiAccess:t.hasApiAccess||!1}}catch(e){return console.error("Erro ao buscar limites do plano:",e),null}}async function _t(r){try{const e=new Date().toISOString().split("T")[0],{data:o,error:t}=await P.from("PlanDailyUsage").select("*").eq("userId",r).eq("date",e).single();if(t&&t.code!=="PGRST116")return console.error("Erro ao buscar uso di√°rio:",t),null;if(!o){const{data:n,error:d}=await P.from("PlanDailyUsage").insert({userId:r,date:e,aiMessagesUsed:0,aiImagesUsed:0}).select().single();return d?(console.error("Erro ao criar uso di√°rio:",d),null):{aiMessagesUsed:0,aiImagesUsed:0,date:e}}return{aiMessagesUsed:o.aiMessagesUsed||0,aiImagesUsed:o.aiImagesUsed||0,date:o.date}}catch(e){return console.error("Erro ao buscar uso di√°rio:",e),null}}async function Le(r){const e=await Ot(r),o=await _t(r);if(!e||!o)return{allowed:!1,current:0,limit:0,message:"Erro ao verificar limites",percentage:0};if(e.maxAiMessagesDaily===0)return{allowed:!0,current:o.aiMessagesUsed,limit:0,message:"Mensagens ilimitadas",percentage:0};const t=o.aiMessagesUsed<e.maxAiMessagesDaily,n=o.aiMessagesUsed/e.maxAiMessagesDaily*100;return{allowed:t,current:o.aiMessagesUsed,limit:e.maxAiMessagesDaily,message:t?`${o.aiMessagesUsed}/${e.maxAiMessagesDaily} mensagens usadas hoje`:`Limite di√°rio atingido (${e.maxAiMessagesDaily} mensagens)`,percentage:Math.min(n,100)}}async function Lt(r){try{const{data:e,error:o}=await P.rpc("increment_daily_usage",{p_user_id:r,p_message_type:"message"});return o?(console.error("Erro ao incrementar mensagens:",o),!1):e===!0}catch(e){return console.error("Erro ao incrementar mensagens:",e),!1}}const Ut=()=>{const r=te(c=>c.user),[e,o]=i.useState(null),[t,n]=i.useState(!0);if(i.useEffect(()=>{if(!r)return;const c=async()=>{try{const m=await Le(r.id);o(m),n(!1)}catch(m){console.error("Erro ao buscar uso de IA:",m),n(!1)}};c();const f=setInterval(c,3e4);return()=>clearInterval(f)},[r]),t||!e)return null;const d=()=>e.limit===0?"default":e.percentage>=100||e.percentage>=80?"destructive":e.percentage>=50?"secondary":"default",l=()=>e.limit===0?a.jsx(ba,{className:"w-3 h-3"}):e.percentage>=80?a.jsx(da,{className:"w-3 h-3"}):a.jsx(Oa,{className:"w-3 h-3"}),b=()=>e.limit===0?"text-blue-500":e.percentage>=100?"text-red-500":e.percentage>=80?"text-orange-500":e.percentage>=50?"text-yellow-500":"text-green-500";return a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(ce,{asChild:!0,children:a.jsxs(la,{variant:d(),className:_("flex items-center gap-1.5 cursor-help transition-all",!e.allowed&&"opacity-70"),children:[a.jsx("span",{className:b(),children:l()}),e.limit===0?a.jsx("span",{className:"text-xs font-medium",children:"IA Ilimitada"}):a.jsxs("span",{className:"text-xs font-medium",children:[e.current,"/",e.limit]})]})}),a.jsx(Y,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-semibold text-sm",children:e.message}),e.limit>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:a.jsx("div",{className:_("h-2 rounded-full transition-all",e.percentage>=100?"bg-red-500":e.percentage>=80?"bg-orange-500":e.percentage>=50?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(e.percentage,100)}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(e.percentage),"% utilizado"]})]}),e.limit===0&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Seu plano permite mensagens ilimitadas com IA"}),!e.allowed&&a.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Fa√ßa upgrade do plano para continuar"})]})})]})})},qt=["Criar campanha de Facebook Ads","Analisar performance da √∫ltima semana","Sugerir otimiza√ß√µes"],X=500,Wt=()=>{const[r,e]=i.useState(""),[o,t]=i.useState(!1),[n,d]=i.useState(null),[l,b]=i.useState(null),[c,f]=i.useState(""),[m,g]=i.useState([]),[h,v]=i.useState(!1),[,w]=i.useState(null),E=i.useRef(null),S=i.useRef([]),p=te(s=>s.user),A=te(s=>s.isAuthenticated),C=ua(),N=q(s=>s.conversations),y=q(s=>s.activeConversationId),j=q(s=>s.setActiveConversationId),G=q(s=>s.isAssistantTyping),ue=q(s=>s.setAssistantTyping),Q=q(s=>s.addMessage),Ue=ma(s=>s.addCampaign),qe=be(s=>s.aiSystemPrompt),ze=be(s=>s.aiInitialGreetings),me=i.useRef(null),pe=i.useRef(null),{toast:z}=pa(),L=N.find(s=>s.id===y);i.useEffect(()=>{(!A||!p)&&C("/login",{replace:!0})},[A,p,C]);const Fe=()=>{var s;(s=me.current)==null||s.scrollIntoView({behavior:"smooth"})};i.useEffect(Fe,[L==null?void 0:L.messages,G]),i.useEffect(()=>{(async()=>{if(p)try{const{data:u}=await P.from("GlobalAiConnection").select("id, systemPrompt, initialGreetings").eq("isActive",!0).limit(1).single();u&&d({systemPrompt:u.systemPrompt||qe,initialGreetings:u.initialGreetings||ze})}catch(u){console.error("Erro ao carregar IA Global:",u)}})()},[p==null?void 0:p.id]),i.useEffect(()=>{if(L&&L.messages.length===0){const s=Rt();setTimeout(()=>{p&&Q(p.id,y,{id:`greeting-${Date.now()}`,role:"assistant",content:s})},500)}},[y,L==null?void 0:L.messages.length]);const Ge=async(s,u,x)=>{const R=`msg-${Date.now()+1}`;let k="";Q(s,u,{id:R,role:"assistant",content:""});const F=x.split(" "),H=2;for(let O=0;O<F.length;O+=H){const D=F.slice(O,O+H).join(" ");k+=(O>0?" ":"")+D,Q(s,u,{id:R,role:"assistant",content:k}),await new Promise(U=>setTimeout(U,20))}Q(s,u,{id:R,role:"assistant",content:x})},ge=async()=>{if(r.trim()===""||!y||r.length>X)return;if(p){const x=await Le(p.id);if(!x.allowed){z({title:"Limite de mensagens atingido",description:x.message+". Fa√ßa upgrade do seu plano para continuar.",variant:"destructive"});return}}const s=r,u=s.toLowerCase();u.includes("pesquis")||u.includes("busca")||u.includes("google")?(b("web_search"),f(`Pesquisando: "${s}"`),g(["Google Search","Exa AI"])):(b(null),f("Processando..."),g([])),p&&Q(p.id,y,{id:`msg-${Date.now()}`,role:"user",content:s}),e(""),t(!1),ue(!0);try{const x=N.find(V=>V.id===y),R=(n==null?void 0:n.systemPrompt)||Nt,k=jt+`

`+Ct+`

`+kt+`

`+Mt+`

`+R,F=((x==null?void 0:x.messages)||[]).slice(-20).map(V=>({role:V.role,content:V.content})),O=(await ha(s,y,F,k)).response,D=wt(O);if(D&&p)try{await Ue(p.id,{name:D.data.name,platform:D.data.platform,status:"Pausada",budgetTotal:D.data.budgetTotal,budgetSpent:0,impressions:0,clicks:0,conversions:0,startDate:D.data.startDate,endDate:D.data.endDate||"",ctr:0,cpc:0}),z({title:"Campanha Criada!",description:`"${D.data.name}" criada com sucesso.`,variant:"success"})}catch(V){console.error("Erro ao criar campanha:",V)}let U=Tt(O);U=Pt(U),U=Dt(U),p&&(await Ge(p.id,y,U),await Lt(p.id))}catch(x){console.error("Erro ao enviar mensagem:",x),z({title:"Erro ao enviar",description:x.message||"N√£o foi poss√≠vel enviar a mensagem.",variant:"destructive"})}finally{ue(!1),b(null),f(""),g([])}},He=()=>{var s;(s=pe.current)==null||s.click()},Ve=async s=>{var x;const u=(x=s.target.files)==null?void 0:x[0];if(!(!u||!p))try{const R=u.name.split(".").pop(),k=`${Date.now()}.${R}`,F=`${p.id}/${k}`,{error:H}=await P.storage.from("chat-attachments").upload(F,u);if(H)throw H;const{data:{publicUrl:O}}=P.storage.from("chat-attachments").getPublicUrl(F),D=u.type.startsWith("image/")?`![${u.name}](${O})`:`[${u.name}](${O})`;e(U=>U?`${U}

${D}`:D),z({title:"Arquivo enviado!",description:`${u.name} foi anexado com sucesso.`,variant:"success"})}catch(R){console.error("Erro ao fazer upload:",R),z({title:"Erro ao enviar arquivo",description:R.message,variant:"destructive"})}finally{s.target&&(s.target.value="")}},Be=async()=>{try{const s=await navigator.mediaDevices.getUserMedia({audio:!0}),u=new MediaRecorder(s);E.current=u,S.current=[],u.ondataavailable=x=>{S.current.push(x.data)},u.onstop=()=>{const x=new Blob(S.current,{type:"audio/webm"});w(x)},u.start(),v(!0)}catch(s){console.error("Erro ao iniciar grava√ß√£o:",s),z({title:"Erro no microfone",description:"N√£o foi poss√≠vel acessar o microfone.",variant:"destructive"})}},$e=()=>{E.current&&h&&(E.current.stop(),v(!1),E.current.stream.getTracks().forEach(s=>s.stop()))},Qe=async s=>{try{const{data:u,error:x}=await P.from("ChatMessage").select("id, role, content, createdAt").eq("conversationId",s).order("createdAt",{ascending:!0});if(x)throw x;const R=(u||[]).map(k=>({id:k.id,role:k.role,content:k.content,timestamp:new Date(k.createdAt)}));q.getState().setConversationMessages(s,R),j(s)}catch(u){console.error("Erro ao carregar mensagens:",u)}};i.useEffect(()=>{(async()=>{if(!p)return;await q.getState().loadConversations(p.id);const{data:u}=await P.from("ChatConversation").select("id").eq("userId",p.id).limit(1);(!u||u.length===0)&&await he()})()},[p]);const he=async()=>{try{if(!p)return;const s=crypto.randomUUID(),u=new Date().toISOString(),{error:x}=await P.from("ChatConversation").insert({id:s,userId:p.id,title:"Nova Conversa",createdAt:u,updatedAt:u});if(x)throw x;j(s),await q.getState().loadConversations(p.id),z({title:"Nova conversa criada!",description:"Comece a conversar com a IA.",variant:"success"})}catch(s){console.error("Erro ao criar conversa:",s),z({title:"Erro ao criar conversa",description:"N√£o foi poss√≠vel criar nova conversa.",variant:"destructive"})}},We=async s=>{try{await P.from("ChatMessage").delete().eq("conversationId",s);const{error:u}=await P.from("ChatConversation").delete().eq("id",s);if(u)throw u;y===s&&j(null),await q.getState().loadConversations(p.id),z({title:"Conversa deletada",description:"A conversa foi removida com sucesso.",variant:"success"})}catch(u){console.error("Erro ao deletar conversa:",u)}};return a.jsxs("div",{className:"h-screen flex bg-[#0A0A0F] overflow-hidden",children:[a.jsx(ga,{children:o&&a.jsxs(T.div,{initial:{x:-320,opacity:0},animate:{x:0,opacity:1},exit:{x:-320,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"fixed md:relative w-80 h-full bg-[#12121A]/95 backdrop-blur-xl border-r border-gray-700/50 flex flex-col z-50 shadow-2xl",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700/50 bg-gradient-to-b from-gray-800/50 to-transparent",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(T.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:a.jsx(wa,{className:"w-6 h-6 text-blue-400"})}),"Conversas"]}),a.jsx(T.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>t(!1),className:"p-2 rounded-lg hover:bg-gray-800/50 text-gray-400 hover:text-white transition-all",children:a.jsx(xe,{className:"w-5 h-5"})})]}),a.jsxs(T.button,{whileHover:{scale:1.02,boxShadow:"0 0 25px rgba(59, 130, 246, 0.5)"},whileTap:{scale:.98},onClick:he,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl px-4 py-3 flex items-center justify-center gap-2 font-medium transition-all shadow-lg shadow-blue-500/30",children:[a.jsx(T.div,{animate:{rotate:[0,90,90,0]},transition:{duration:.6,repeat:1/0,repeatDelay:2},children:a.jsx(Pa,{className:"w-5 h-5"})}),"Nova Conversa"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar",children:N.map((s,u)=>a.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:()=>{y!==s.id&&Qe(s.id)},className:_("group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all backdrop-blur-sm",y===s.id?"bg-gradient-to-r from-blue-600/25 to-purple-600/25 border border-blue-500/50 shadow-lg shadow-blue-500/20":"bg-gray-800/30 hover:bg-gray-800/50 border border-gray-700/30"),children:[a.jsx(T.div,{whileHover:{rotate:10},className:_("flex-shrink-0",y===s.id?"text-blue-400":"text-gray-500"),children:a.jsx(Ea,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:s.title}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.messages&&s.messages.length>0?s.messages[s.messages.length-1].content.substring(0,35)+"...":"Sem mensagens"})]}),a.jsx(T.button,{whileHover:{scale:1.2,rotate:10},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),We(s.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-all",children:a.jsx(La,{className:"w-4 h-4"})})]},s.id))})]})}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:"bg-[#12121A]/95 backdrop-blur-xl border-b border-gray-700/50 px-4 py-3 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(T.button,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},onClick:()=>t(!o),className:"p-2 rounded-lg hover:bg-gray-800/50 text-gray-400 hover:text-white transition-all",children:o?a.jsx(xe,{className:"w-6 h-6"}):a.jsx(Aa,{className:"w-6 h-6"})}),a.jsx(T.div,{animate:{boxShadow:["0 0 20px rgba(59, 130, 246, 0.3)","0 0 30px rgba(168, 85, 247, 0.3)","0 0 20px rgba(59, 130, 246, 0.3)"]},transition:{duration:2,repeat:1/0},className:"p-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500",children:a.jsx(ee,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"Chat com IA"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Assistente inteligente"})]})]}),a.jsxs(T.div,{animate:{scale:[1,1.05,1],boxShadow:["0 0 10px rgba(34, 197, 94, 0.3)","0 0 20px rgba(34, 197, 94, 0.5)","0 0 10px rgba(34, 197, 94, 0.3)"]},transition:{duration:2,repeat:1/0},className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:[a.jsx(T.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:a.jsx(Fa,{className:"w-3 h-3 text-green-400"})}),a.jsx("span",{className:"text-sm font-medium text-green-400",children:"Online"})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 bg-[#0A0A0F] custom-scrollbar",children:L?a.jsxs(a.Fragment,{children:[L.messages.map(s=>{var x;const u=(x=s.content)==null?void 0:x.match(/INTEGRATION_CONNECT:(\w+):([^üîó]+)/);if(u&&s.role==="assistant"){const[,R,k]=u,F=s.content.replace(/üîó \*\*INTEGRATION_CONNECT:[^üîó]+üîó\*\* üîó\n\n/,"");return a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:a.jsxs("div",{className:"max-w-[80%]",children:[a.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-4 mb-2 border border-gray-700/30",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(T.div,{whileHover:{rotate:10,scale:1.1},className:"flex-shrink-0",children:a.jsx(ee,{className:"w-6 h-6 text-blue-400"})}),a.jsx("div",{className:"flex-1 text-gray-200",children:F})]})}),a.jsx(It,{platform:R,platformName:k.trim(),onSkip:()=>console.log("Pulado:",R),onSuccess:()=>console.log("Conectado:",R)})]})},s.id)}return a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:_("flex",s.role==="user"?"justify-end":"justify-start"),children:a.jsxs("div",{className:_("max-w-[80%] rounded-2xl p-4 backdrop-blur-sm",s.role==="user"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/20 border border-blue-400/30":"bg-gray-800/50 text-gray-200 border border-gray-700/30"),children:[a.jsxs("div",{className:"flex items-start gap-3",children:[s.role==="assistant"&&a.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},whileHover:{rotate:10,scale:1.1},className:"flex-shrink-0",children:a.jsx(ee,{className:"w-6 h-6 text-blue-400"})}),s.role==="user"&&a.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},whileHover:{scale:1.1},className:"flex-shrink-0",children:a.jsx(qa,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"flex-1 whitespace-pre-wrap break-words",children:s.content})]}),a.jsx("div",{className:_("text-xs mt-2 ml-9",s.role==="user"?"text-white/60":"text-gray-500"),children:s.timestamp?new Date(s.timestamp).toLocaleTimeString("pt-BR"):""})]})},s.id)}),G&&a.jsx(fa,{isThinking:G,currentTool:l,reasoning:c,sources:m,status:"thinking"}),a.jsx("div",{ref:me})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:a.jsx("p",{children:"Selecione ou crie uma conversa para come√ßar."})})}),a.jsxs("div",{className:"bg-[#12121A]/95 backdrop-blur-xl border-t border-gray-700/50 px-6 py-3 shadow-2xl",children:[a.jsx("div",{className:"hidden sm:flex gap-2 mb-3",children:qt.map(s=>a.jsx(T.button,{whileHover:{scale:1.05,boxShadow:"0 0 15px rgba(59, 130, 246, 0.3)"},whileTap:{scale:.95},onClick:()=>e(s),className:"px-3 py-1.5 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 text-gray-300 text-sm transition-all border border-gray-700/30 backdrop-blur-sm",children:s},s))}),a.jsxs("div",{className:"relative",children:[a.jsx(rt,{value:r,onChange:s=>e(s.target.value),onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),ge())},placeholder:"Digite sua mensagem...",className:"w-full resize-none rounded-xl bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 text-white placeholder-gray-500 p-4 pr-32 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 focus:bg-gray-800/70 transition-all shadow-inner",minRows:1,maxRows:5,maxLength:X}),a.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[a.jsx("input",{type:"file",ref:pe,onChange:Ve,className:"hidden"}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(ce,{asChild:!0,children:a.jsx(T.button,{whileHover:{scale:1.1,rotate:-10},whileTap:{scale:.9},onClick:He,className:"p-2 rounded-lg hover:bg-gray-700/50 text-gray-400 hover:text-blue-400 transition-all",children:a.jsx(Ia,{className:"w-5 h-5"})})}),a.jsx(Y,{children:"Anexar arquivo"})]})}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(ce,{asChild:!0,children:a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},animate:h?{scale:[1,1.2,1]}:{},transition:{duration:.5,repeat:h?1/0:0},onClick:h?$e:Be,disabled:!y,className:_("p-2 rounded-lg transition-all",h?"bg-red-500/30 text-red-400 shadow-lg shadow-red-500/50":"hover:bg-gray-700/50 text-gray-400 hover:text-red-400"),children:a.jsx(Na,{className:"w-5 h-5"})})}),a.jsx(Y,{children:h?"Parar grava√ß√£o":"Gravar √°udio"})]})}),a.jsx(T.button,{whileHover:{scale:1.05,rotate:-5},whileTap:{scale:.95},animate:r.trim()!==""&&y?{boxShadow:["0 0 10px rgba(59, 130, 246, 0.3)","0 0 20px rgba(168, 85, 247, 0.4)","0 0 10px rgba(59, 130, 246, 0.3)"]}:{},transition:{duration:1.5,repeat:1/0},onClick:ge,disabled:r.trim()===""||!y,className:_("p-2.5 rounded-lg transition-all",r.trim()===""||!y?"bg-gray-700/50 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-xl"),children:a.jsx(Ma,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx(Ut,{}),a.jsxs("p",{className:_("text-xs",r.length>X?"text-red-400":"text-gray-500"),children:[r.length," / ",X]})]})]})]})]})};export{Wt as default};
