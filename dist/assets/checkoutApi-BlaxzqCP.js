import{c,s as e}from"./index-DmvaoOhF.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=c("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),h={async saveCustomization(r){try{const{data:t,error:o}=await e.from("CheckoutCustomization").upsert({...r,updatedAt:new Date().toISOString()}).select().single();if(o)throw o;return t}catch(t){throw console.error("Error saving checkout customization:",t),t}},async loadCustomization(r){try{const{data:t,error:o}=await e.from("CheckoutCustomization").select("*").eq("organizationId",r).eq("isActive",!0).single();if(o&&o.code!=="PGRST116")throw o;return t}catch(t){throw console.error("Error loading checkout customization:",t),t}},async listCustomizations(r){try{const{data:t,error:o}=await e.from("CheckoutCustomization").select("*").eq("organizationId",r).order("createdAt",{ascending:!1});if(o)throw o;return t}catch(t){throw console.error("Error listing checkout customizations:",t),t}},async activateCustomization(r){try{const t=await e.from("CheckoutCustomization").select("organizationId").eq("id",r).single();t.data&&await e.from("CheckoutCustomization").update({isActive:!1}).eq("organizationId",t.data.organizationId);const{data:o,error:i}=await e.from("CheckoutCustomization").update({isActive:!0,updatedAt:new Date().toISOString()}).eq("id",r).select().single();if(i)throw i;return o}catch(t){throw console.error("Error activating checkout customization:",t),t}},async deleteCustomization(r){try{const{error:t}=await e.from("CheckoutCustomization").delete().eq("id",r);if(t)throw t}catch(t){throw console.error("Error deleting checkout customization:",t),t}},async duplicateCustomization(r,t){try{const{data:o,error:i}=await e.from("CheckoutCustomization").select("*").eq("id",r).single();if(i)throw i;const{data:n,error:a}=await e.from("CheckoutCustomization").insert({organizationId:o.organizationId,name:t,theme:o.theme,isActive:!1}).select().single();if(a)throw a;return n}catch(o){throw console.error("Error duplicating checkout customization:",o),o}},async generatePreviewUrl(r){try{const{data:t,error:o}=await e.from("CheckoutCustomization").insert({organizationId:r.organizationId,name:`Preview-${Date.now()}`,theme:r.theme||{},isActive:!1}).select().single();if(o)throw o;return`/checkout/preview/${t.id}`}catch(t){throw console.error("Error generating preview URL:",t),t}},async exportCustomization(r){try{const{data:t,error:o}=await e.from("CheckoutCustomization").select("*").eq("id",r).single();if(o)throw o;return{name:t.name,theme:t.theme,exportedAt:new Date().toISOString(),version:"1.0"}}catch(t){throw console.error("Error exporting checkout customization:",t),t}},async importCustomization(r,t){try{const{data:o,error:i}=await e.from("CheckoutCustomization").insert({organizationId:r,name:`${t.name} (Importado)`,theme:t.theme,isActive:!1}).select().single();if(i)throw i;return o}catch(o){throw console.error("Error importing checkout customization:",o),o}}};export{u as S,h as c};
