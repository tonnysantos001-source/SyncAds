import{c as fe,G as O,f as Q,r as l,j as e,g as D,h as F,i as E,k as I,l as M,H as Le,J as Be,K as qe,I as N,N as Y,B as v,A as Ve,O as _e,P as ie,Q as Ge,T as ve,U as he,V as Oe,v as ae,d as Ue,u as $e,s as R,t as He,n as L,W as Ye,C as re,w as Je,Y as Xe,E as Ke,Z as We,_ as Qe,$ as Ze,a0 as es,a1 as ss,a2 as q}from"./index-DVJSl2Ld.js";import{L as u}from"./label-D4Gc-So-.js";import{S as H}from"./switch-DuodK-33.js";import{S as Ne}from"./separator--wGFzTZH.js";import{u as as}from"./index-BuTvEyzT.js";import{A as ne,a as ce,b as be}from"./alert-hiUfetgu.js";import{D as xe,a as ue,b as pe,c as ge,d as je,e as rs}from"./dialog-DwnGSz2w.js";import{C as se}from"./circle-check-Bu7MVzf9.js";import{C as ts}from"./calendar-coVvMXhY.js";import{D as is}from"./download-BlkSO1z4.js";import{f as ns,p as cs}from"./pt-BR-COO1Bk_c.js";import{T as ye,a as Ce,b as G,c as P,d as ke,e as C}from"./table-DtGZAjx0.js";import{G as te}from"./globe-Bmq27qIR.js";import{P as we}from"./plus-1Vai_N8k.js";import{C as os}from"./circle-x-DeYaPJS3.js";import{C as ls}from"./copy-1JGpuSY_.js";import{E as ds}from"./external-link-yh-pzMOu.js";import{S as ms,a as hs,b as xs,c as us,d as V}from"./select-DqXQ0fFQ.js";import{T as Se}from"./truck-CWblTE47.js";import{C as ps}from"./clock-CUPb0nrQ.js";import{D as gs}from"./dollar-sign-DoGHfp-d.js";import{S as js}from"./square-pen-D1akKtaC.js";import{T as fs}from"./trash-2-BkZIib7q.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),bs=()=>{var S,w;const s=O(p=>p.user),n=O(p=>p.updateUser),{toast:t}=Q(),[i,c]=l.useState((s==null?void 0:s.name)||""),[o,h]=l.useState((s==null?void 0:s.email)||""),[r,d]=l.useState((s==null?void 0:s.avatarUrl)||null),[m,b]=l.useState(!1),g=p=>{if(p.target.files&&p.target.files[0]){const f=p.target.files[0],x=new FileReader;x.onloadend=()=>{d(x.result)},x.readAsDataURL(f)}},k=()=>{b(!0),setTimeout(()=>{n({name:i,email:o,avatarUrl:r||(s==null?void 0:s.avatarUrl)}),b(!1),t({title:"Perfil Atualizado!",description:"Suas informações foram salvas com sucesso."})},1e3)};return e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Perfil"}),e.jsx(I,{children:"Atualize seu avatar e detalhes do perfil."})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Le,{className:"h-20 w-20",children:[e.jsx(Be,{src:r||(s==null?void 0:s.avatarUrl)}),e.jsx(qe,{children:((w=(S=s==null?void 0:s.name)==null?void 0:S.charAt(0))==null?void 0:w.toUpperCase())||"P"})]}),e.jsxs("div",{className:"grid gap-1.5",children:[e.jsx(u,{htmlFor:"picture",children:"Avatar"}),e.jsx(N,{id:"picture",type:"file",className:"w-full",onChange:g,accept:"image/png, image/jpeg, image/gif"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF até 10MB"})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"name",children:"Nome"}),e.jsx(N,{id:"name",value:i,onChange:p=>c(p.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(N,{id:"email",type:"email",value:o,onChange:p=>h(p.target.value)})]})]}),e.jsx(Y,{className:"border-t px-6 py-4",children:e.jsx(v,{onClick:k,loading:m,children:"Salvar Alterações"})})]})},ys=()=>{const{toast:s}=Q(),n=O(d=>d.isTwoFactorEnabled),t=O(d=>d.setTwoFactorEnabled),[i,c]=l.useState(n),[o,h]=l.useState(!1),r=()=>{h(!0),setTimeout(()=>{t(i),h(!1),s({title:"Segurança Atualizada",description:"Suas configurações de segurança foram salvas com sucesso.",variant:"success"})},1e3)};return e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Segurança"}),e.jsx(I,{children:"Gerencie sua senha e autenticação de dois fatores."})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"current-password",children:"Senha Atual"}),e.jsx(N,{id:"current-password",type:"password"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"new-password",children:"Nova Senha"}),e.jsx(N,{id:"new-password",type:"password"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),e.jsx(N,{id:"confirm-password",type:"password"})]})]}),e.jsx(Ne,{}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Autenticação de Dois Fatores (2FA)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurança à sua conta."})]}),e.jsx(H,{checked:i,onCheckedChange:c})]})]}),e.jsx(Y,{className:"border-t px-6 py-4",children:e.jsx(v,{onClick:r,loading:o,children:"Salvar Alterações"})})]})};var Z="Checkbox",[Cs]=Ve(Z),[ks,oe]=Cs(Z);function ws(s){const{__scopeCheckbox:n,checked:t,children:i,defaultChecked:c,disabled:o,form:h,name:r,onCheckedChange:d,required:m,value:b="on",internal_do_not_use_render:g}=s,[k,S]=Ge({prop:t,defaultProp:c??!1,onChange:d,caller:Z}),[w,p]=l.useState(null),[f,x]=l.useState(null),y=l.useRef(!1),U=w?!!h||!!w.closest("form"):!0,B={checked:k,disabled:o,setChecked:S,control:w,setControl:p,name:r,form:h,value:b,hasConsumerStoppedPropagationRef:y,required:m,defaultChecked:z(c)?!1:c,isFormControl:U,bubbleInput:f,setBubbleInput:x};return e.jsx(ks,{scope:n,...B,children:Ss(g)?g(B):i})}var Ae="CheckboxTrigger",Pe=l.forwardRef(({__scopeCheckbox:s,onKeyDown:n,onClick:t,...i},c)=>{const{control:o,value:h,disabled:r,checked:d,required:m,setControl:b,setChecked:g,hasConsumerStoppedPropagationRef:k,isFormControl:S,bubbleInput:w}=oe(Ae,s),p=ve(c,b),f=l.useRef(d);return l.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const y=()=>g(f.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[o,g]),e.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":z(d)?"mixed":d,"aria-required":m,"data-state":Me(d),"data-disabled":r?"":void 0,disabled:r,value:h,...i,ref:p,onKeyDown:he(n,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:he(t,x=>{g(y=>z(y)?!0:!y),w&&S&&(k.current=x.isPropagationStopped(),k.current||x.stopPropagation())})})});Pe.displayName=Ae;var le=l.forwardRef((s,n)=>{const{__scopeCheckbox:t,name:i,checked:c,defaultChecked:o,required:h,disabled:r,value:d,onCheckedChange:m,form:b,...g}=s;return e.jsx(ws,{__scopeCheckbox:t,checked:c,defaultChecked:o,disabled:r,required:h,onCheckedChange:m,name:i,form:b,value:d,internal_do_not_use_render:({isFormControl:k})=>e.jsxs(e.Fragment,{children:[e.jsx(Pe,{...g,ref:n,__scopeCheckbox:t}),k&&e.jsx(Ie,{__scopeCheckbox:t})]})})});le.displayName=Z;var De="CheckboxIndicator",Fe=l.forwardRef((s,n)=>{const{__scopeCheckbox:t,forceMount:i,...c}=s,o=oe(De,t);return e.jsx(_e,{present:i||z(o.checked)||o.checked===!0,children:e.jsx(ie.span,{"data-state":Me(o.checked),"data-disabled":o.disabled?"":void 0,...c,ref:n,style:{pointerEvents:"none",...s.style}})})});Fe.displayName=De;var Ee="CheckboxBubbleInput",Ie=l.forwardRef(({__scopeCheckbox:s,...n},t)=>{const{control:i,hasConsumerStoppedPropagationRef:c,checked:o,defaultChecked:h,required:r,disabled:d,name:m,value:b,form:g,bubbleInput:k,setBubbleInput:S}=oe(Ee,s),w=ve(t,S),p=as(o),f=Oe(i);l.useEffect(()=>{const y=k;if(!y)return;const U=window.HTMLInputElement.prototype,J=Object.getOwnPropertyDescriptor(U,"checked").set,ee=!c.current;if(p!==o&&J){const $=new Event("click",{bubbles:ee});y.indeterminate=z(o),J.call(y,z(o)?!1:o),y.dispatchEvent($)}},[k,p,o,c]);const x=l.useRef(z(o)?!1:o);return e.jsx(ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??x.current,required:r,disabled:d,name:m,value:b,form:g,...n,tabIndex:-1,ref:w,style:{...n.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ie.displayName=Ee;function Ss(s){return typeof s=="function"}function z(s){return s==="indeterminate"}function Me(s){return z(s)?"indeterminate":s?"checked":"unchecked"}const Te=l.forwardRef(({className:s,...n},t)=>e.jsx(le,{ref:t,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:e.jsx(Fe,{className:ae("flex items-center justify-center text-current"),children:e.jsx(Ue,{className:"h-4 w-4"})})}));Te.displayName=le.displayName;const _=({id:s,title:n,checked:t,onCheckedChange:i})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{id:s,checked:t,onCheckedChange:i}),e.jsx(u,{htmlFor:s,className:"text-sm font-normal",children:n})]}),As=()=>{const{toast:s}=Q(),n=O(m=>m.notificationSettings),t=O(m=>m.updateNotificationSettings),[i,c]=l.useState(n),[o,h]=l.useState(!1);l.useEffect(()=>{c(n)},[n]);const r=(m,b)=>{c(g=>({...g,[m]:b}))},d=()=>{h(!0),setTimeout(()=>{t(i),h(!1),s({title:"Preferências Salvas",description:"Suas configurações de notificação foram atualizadas.",variant:"success"})},1e3)};return e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Notificações"}),e.jsx(I,{children:"Gerencie como você recebe notificações."})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Notificações por Email"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx(_,{id:"emailSummary",title:"Resumos Semanais de Desempenho",checked:i.emailSummary,onCheckedChange:m=>r("emailSummary",m)}),e.jsx(_,{id:"emailAlerts",title:"Alertas Críticos de Campanha",checked:i.emailAlerts,onCheckedChange:m=>r("emailAlerts",m)}),e.jsx(_,{id:"emailNews",title:"Notícias e Atualizações da Plataforma",checked:i.emailNews,onCheckedChange:m=>r("emailNews",m)})]})]}),e.jsx(Ne,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Notificações Push"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx(_,{id:"pushMentions",title:"Menções no Chat IA",checked:i.pushMentions,onCheckedChange:m=>r("pushMentions",m)}),e.jsx(_,{id:"pushIntegrations",title:"Status de Conexão de Integrações",checked:i.pushIntegrations,onCheckedChange:m=>r("pushIntegrations",m)}),e.jsx(_,{id:"pushSuggestions",title:"Novas Sugestões da IA",checked:i.pushSuggestions,onCheckedChange:m=>r("pushSuggestions",m)})]})]})]}),e.jsx(Y,{className:"border-t px-6 py-4",children:e.jsx(v,{onClick:d,loading:o,children:"Salvar Preferências"})})]})},Ps=()=>{const s=$e(a=>a.user),{toast:n}=Q(),[t,i]=l.useState(!0),[c,o]=l.useState(null),[h,r]=l.useState([]),[d,m]=l.useState([]),[b,g]=l.useState(!1),[k,S]=l.useState(!1),[w,p]=l.useState([]),[f,x]=l.useState({cardNumber:"",cardName:"",expiryMonth:"",expiryYear:"",cvv:""});l.useEffect(()=>{s!=null&&s.id&&y()},[s==null?void 0:s.id]);const y=async()=>{try{i(!0);const{data:a}=await R.from("User").select("currentPlanId").eq("id",s.id).single();a!=null&&a.currentPlanId||await U(),await B()}catch(a){console.error("Error initializing:",a),await B()}},U=async()=>{try{const{data:a,error:T}=await R.from("Plan").select("*").eq("slug","free").single();if(T||!a){console.error("Free plan not found");return}const A=new Date,X=new Date(A);X.setFullYear(A.getFullYear()+100);const{data:K,error:W}=await R.from("Subscription").insert({userId:s.id,planId:a.id,status:"active",currentPeriodStart:A.toISOString(),currentPeriodEnd:X.toISOString(),usedAiMessages:0,aiMessagesResetAt:A.toISOString()}).select().single();if(W){console.error("Error creating subscription:",W);return}await R.from("User").update({currentPlanId:a.id,currentSubscriptionId:K.id}).eq("id",s.id),n({title:"Plano Gratuito Ativado!",description:"Seu plano gratuito foi ativado com sucesso."})}catch(a){console.error("Error initializing free plan:",a)}},B=async()=>{try{i(!0);const{data:a,error:T}=await R.from("Subscription").select(`
          *,
          plan:planId (*)
        `).eq("userId",s.id).eq("status","active").single();!T&&a&&o(a);const{data:A,error:X}=await R.from("PaymentMethod").select("*").eq("userId",s.id).order("isDefault",{ascending:!1});!X&&A&&r(A);const{data:K,error:W}=await R.from("Invoice").select("*").eq("userId",s.id).order("createdAt",{ascending:!1}).limit(10);!W&&K&&m(K);const{data:me,error:ze}=await R.from("Plan").select("*").eq("active",!0).order("sortOrder");!ze&&me&&p(me)}catch(a){console.error("Error loading billing data:",a)}finally{i(!1)}},J=async()=>{n({title:"Em breve",description:"A integração com o gateway de pagamento será implementada em breve."}),g(!1)},ee=async a=>{n({title:"Em breve",description:"A troca de planos será implementada em breve."}),S(!1)},$=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),de=a=>a?ns(new Date(a),"dd/MM/yyyy",{locale:cs}):"-",Re=a=>{const A={active:{label:"Ativa",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},trialing:{label:"Trial",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},past_due:{label:"Atrasada",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},canceled:{label:"Cancelada",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},paid:{label:"Paga",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},open:{label:"Aberta",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},void:{label:"Cancelada",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}}[a]||{label:a,className:"bg-gray-100 text-gray-800"};return e.jsx(L,{className:A.className,children:A.label})};if(t)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(He,{className:"h-8 w-8 animate-spin text-gray-400"})});const j=(c==null?void 0:c.plan)||w.find(a=>a.slug==="free");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Meu Plano"}),e.jsx(I,{children:(c==null?void 0:c.status)==="active"?`Você está atualmente no plano ${j==null?void 0:j.name}.`:"Selecione um plano para começar."})]}),e.jsxs(M,{className:"space-y-4",children:[j&&e.jsxs("div",{className:"p-6 rounded-lg border bg-gradient-to-br from-pink-50 to-purple-50 dark:from-pink-950/20 dark:to-purple-950/20",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.name}),(c==null?void 0:c.status)==="active"&&e.jsxs(L,{className:"bg-green-500 text-white",children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),"Ativo"]})]}),e.jsxs("p",{className:"text-3xl font-bold text-pink-600 dark:text-pink-400 mt-2",children:[j.price===0?"Gratuito":$(j.price),j.price>0&&e.jsx("span",{className:"text-lg font-normal text-gray-600 dark:text-gray-400",children:" /mês"})]})]}),j.slug==="free"&&e.jsx(v,{onClick:()=>S(!0),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white",children:"Ver Planos"})]}),e.jsx("div",{className:"space-y-2",children:j.features.map((a,T)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a})]},T))}),c&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsxs("span",{children:["Renovação: ",de(c.currentPeriodEnd)]})]})})]}),e.jsxs(ne,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:[e.jsx(Ye,{className:"h-4 w-4 text-blue-600"}),e.jsxs(ce,{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Checkout de Pagamento 100% Gratuito!"})," Você pode processar pagamentos ilimitados sem nenhum custo. No futuro, cobraremos apenas pelos pacotes de mensagens de IA."]})]})]})]}),e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Método de Pagamento"}),e.jsx(I,{children:"Gerencie seus cartões de crédito salvos"})]}),e.jsxs(v,{onClick:()=>g(!0),size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Adicionar Cartão"]})]})}),e.jsx(M,{children:h.length>0?e.jsx("div",{className:"space-y-3",children:h.map(a=>e.jsxs("div",{className:"p-4 rounded-lg border bg-white dark:bg-gray-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-16 rounded bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",children:e.jsx(re,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[a.brand||"Cartão"," •••• ",a.last4]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Validade: ",String(a.expiryMonth).padStart(2,"0"),"/",a.expiryYear]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.isDefault&&e.jsx(L,{className:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",children:"Padrão"}),e.jsx(v,{variant:"ghost",size:"sm",children:"Remover"})]})]},a.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(vs,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"Nenhum cartão cadastrado"}),e.jsx("p",{className:"text-sm mt-1",children:"Adicione um cartão para pagamentos futuros"})]})})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Histórico de Faturas"}),e.jsx(I,{children:"Veja e baixe suas faturas anteriores"})]}),e.jsx(M,{children:d.length>0?e.jsx("div",{className:"space-y-2",children:d.map(a=>e.jsxs("div",{className:"p-4 rounded-lg border bg-white dark:bg-gray-800 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.invoiceNumber}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:de(a.paidAt||a.createdAt)})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:$(a.amount)}),Re(a.status)]}),a.invoicePdf&&e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(is,{className:"h-4 w-4"})})]})]},a.id))}):e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx("svg",{className:"h-12 w-12 mx-auto mb-3 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"font-medium",children:"Nenhuma fatura emitida"}),e.jsx("p",{className:"text-sm mt-1",children:"Suas faturas aparecerão aqui quando forem geradas"})]})})]}),e.jsx(xe,{open:b,onOpenChange:g,children:e.jsxs(ue,{className:"sm:max-w-md",children:[e.jsxs(pe,{children:[e.jsx(ge,{children:"Adicionar Cartão de Crédito"}),e.jsx(je,{children:"Adicione um cartão para pagamentos futuros"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"cardNumber",children:"Número do Cartão"}),e.jsx(N,{id:"cardNumber",placeholder:"0000 0000 0000 0000",value:f.cardNumber,onChange:a=>x({...f,cardNumber:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"cardName",children:"Nome no Cartão"}),e.jsx(N,{id:"cardName",placeholder:"Nome impresso no cartão",value:f.cardName,onChange:a=>x({...f,cardName:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"expiryMonth",children:"Mês"}),e.jsx(N,{id:"expiryMonth",placeholder:"MM",maxLength:2,value:f.expiryMonth,onChange:a=>x({...f,expiryMonth:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"expiryYear",children:"Ano"}),e.jsx(N,{id:"expiryYear",placeholder:"AAAA",maxLength:4,value:f.expiryYear,onChange:a=>x({...f,expiryYear:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"cvv",children:"CVV"}),e.jsx(N,{id:"cvv",placeholder:"123",maxLength:4,value:f.cvv,onChange:a=>x({...f,cvv:a.target.value})})]})]})]}),e.jsxs(rs,{children:[e.jsx(v,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),e.jsx(v,{onClick:J,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Adicionar Cartão"})]})]})}),e.jsx(xe,{open:k,onOpenChange:S,children:e.jsxs(ue,{className:"sm:max-w-4xl",children:[e.jsxs(pe,{children:[e.jsx(ge,{children:"Escolha seu Plano"}),e.jsx(je,{children:"Selecione o plano que melhor atende suas necessidades"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-4",children:w.map(a=>e.jsxs("div",{className:`relative p-6 rounded-lg border-2 ${a.isPopular?"border-pink-500 bg-pink-50 dark:bg-pink-950/20":"border-gray-200 dark:border-gray-700"}`,children:[a.isPopular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(L,{className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white",children:"Mais Popular"})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a.name}),e.jsxs("p",{className:"text-3xl font-bold text-pink-600 dark:text-pink-400 mt-2",children:[a.price===0?"Gratuito":$(a.price),a.price>0&&e.jsx("span",{className:"text-sm font-normal text-gray-600",children:" /mês"})]})]}),e.jsx("ul",{className:"space-y-2 mb-6",children:a.features.map((T,A)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:T})]},A))}),e.jsx(v,{onClick:()=>ee(a.id),className:`w-full ${a.slug===(j==null?void 0:j.slug)?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white"}`,disabled:a.slug===(j==null?void 0:j.slug),children:a.slug===(j==null?void 0:j.slug)?"Plano Atual":"Selecionar"})]},a.id))})]})})]})},Ds=()=>{const[s,n]=l.useState(""),[t,i]=l.useState([{id:"1",domain:"checkout.minhaloja.com.br",status:"verified",createdAt:"2025-10-15",dnsRecord:"CNAME: checkout -> syncads.app"},{id:"2",domain:"comprar.minhaloja.com.br",status:"pending",createdAt:"2025-10-18",dnsRecord:"CNAME: comprar -> syncads.app"}]),c=()=>{if(!s)return;const r={id:Date.now().toString(),domain:s,status:"pending",createdAt:new Date().toISOString().split("T")[0],dnsRecord:`CNAME: ${s.split(".")[0]} -> syncads.app`};i([...t,r]),n("")},o=r=>{i(t.map(d=>d.id===r?{...d,status:"verified"}:d))},h=r=>{navigator.clipboard.writeText(r)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx(be,{children:"Configuração de Domínio"}),e.jsx(ce,{children:"Configure um domínio personalizado para o seu checkout. Isso aumenta a confiança dos clientes e melhora a taxa de conversão."})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Adicionar Novo Domínio"}),e.jsx(I,{children:"Conecte um domínio personalizado ao seu checkout"})]}),e.jsx(M,{children:e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"domain",children:"Domínio"}),e.jsx(N,{id:"domain",placeholder:"checkout.seusite.com.br",value:s,onChange:r=>n(r.target.value),className:"mt-1"})]})})}),e.jsx(Y,{children:e.jsxs(v,{onClick:c,className:"gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Adicionar Domínio"]})})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Seus Domínios"}),e.jsx(I,{children:"Gerencie os domínios conectados ao seu checkout"})]}),e.jsx(M,{children:e.jsxs(ye,{children:[e.jsx(Ce,{children:e.jsxs(G,{children:[e.jsx(P,{children:"Domínio"}),e.jsx(P,{children:"Status"}),e.jsx(P,{children:"Registro DNS"}),e.jsx(P,{children:"Data de Criação"}),e.jsx(P,{className:"text-right",children:"Ações"})]})}),e.jsx(ke,{children:t.length>0?t.map(r=>e.jsxs(G,{children:[e.jsx(C,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4 text-muted-foreground"}),r.domain]})}),e.jsx(C,{children:r.status==="verified"?e.jsxs(L,{variant:"default",className:"gap-1 bg-green-500",children:[e.jsx(Je,{className:"h-3 w-3"}),"Verificado"]}):e.jsxs(L,{variant:"secondary",className:"gap-1",children:[e.jsx(os,{className:"h-3 w-3"}),"Pendente"]})}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:r.dnsRecord}),e.jsx(v,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>h(r.dnsRecord),children:e.jsx(ls,{className:"h-3 w-3"})})]})}),e.jsx(C,{children:new Date(r.createdAt).toLocaleDateString("pt-BR")}),e.jsx(C,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[r.status==="pending"&&e.jsxs(v,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>o(r.id),children:[e.jsx(Xe,{className:"h-3 w-3"}),"Verificar"]}),e.jsxs(v,{variant:"ghost",size:"sm",className:"gap-1",children:[e.jsx(ds,{className:"h-3 w-3"}),"Testar"]})]})})]},r.id)):e.jsx(G,{children:e.jsx(C,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"Nenhum domínio configurado ainda."})})})]})})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Como Configurar"}),e.jsx(I,{children:"Siga os passos abaixo para configurar seu domínio"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-blue-500 text-white font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Adicione o domínio"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Digite o subdomínio que deseja usar para o checkout (ex: checkout.seusite.com.br)"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-blue-500 text-white font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Configure o DNS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesse o painel do seu provedor de domínio e adicione o registro CNAME fornecido"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-blue-500 text-white font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Aguarde a propagação"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"A propagação DNS pode levar de alguns minutos até 48 horas"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-blue-500 text-white font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Verifique o domínio"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'Clique em "Verificar" para confirmar que o domínio está configurado corretamente'})]})]})]})]})]})},Fs=()=>{const[s,n]=l.useState([{id:"1",name:"Correios - PAC",carrier:"Correios",estimatedDays:"10-15",price:15.5,freeShippingFrom:100,active:!0},{id:"2",name:"Correios - SEDEX",carrier:"Correios",estimatedDays:"3-5",price:25,freeShippingFrom:200,active:!0},{id:"3",name:"Entrega Local",carrier:"Própria",estimatedDays:"1-2",price:10,freeShippingFrom:50,active:!0}]),[t,i]=l.useState({name:"",carrier:"",estimatedDays:"",price:"",freeShippingFrom:""}),c=()=>{if(!t.name||!t.carrier)return;const r={id:Date.now().toString(),name:t.name,carrier:t.carrier,estimatedDays:t.estimatedDays,price:parseFloat(t.price)||0,freeShippingFrom:parseFloat(t.freeShippingFrom)||0,active:!0};n([...s,r]),i({name:"",carrier:"",estimatedDays:"",price:"",freeShippingFrom:""})},o=r=>{n(s.map(d=>d.id===r?{...d,active:!d.active}:d))},h=r=>{n(s.filter(d=>d.id!==r))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx(be,{children:"Configuração de Logística"}),e.jsx(ce,{children:"Configure os métodos de envio disponíveis para seus clientes. Você pode adicionar frete grátis acima de um valor específico."})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Adicionar Método de Envio"}),e.jsx(I,{children:"Configure um novo método de entrega"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name",children:"Nome do Método"}),e.jsx(N,{id:"name",placeholder:"Ex: Correios - PAC",value:t.name,onChange:r=>i({...t,name:r.target.value}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"carrier",children:"Transportadora"}),e.jsxs(ms,{value:t.carrier,onValueChange:r=>i({...t,carrier:r}),children:[e.jsx(hs,{className:"mt-1",children:e.jsx(xs,{placeholder:"Selecione"})}),e.jsxs(us,{children:[e.jsx(V,{value:"Correios",children:"Correios"}),e.jsx(V,{value:"Jadlog",children:"Jadlog"}),e.jsx(V,{value:"Total Express",children:"Total Express"}),e.jsx(V,{value:"Loggi",children:"Loggi"}),e.jsx(V,{value:"Própria",children:"Entrega Própria"}),e.jsx(V,{value:"Outra",children:"Outra"})]})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"estimatedDays",children:"Prazo (dias)"}),e.jsx(N,{id:"estimatedDays",placeholder:"Ex: 5-10",value:t.estimatedDays,onChange:r=>i({...t,estimatedDays:r.target.value}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"price",children:"Preço (R$)"}),e.jsx(N,{id:"price",type:"number",step:"0.01",placeholder:"0.00",value:t.price,onChange:r=>i({...t,price:r.target.value}),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(u,{htmlFor:"freeShippingFrom",children:"Frete Grátis a partir de (R$)"}),e.jsx(N,{id:"freeShippingFrom",type:"number",step:"0.01",placeholder:"0.00 (deixe em branco para não oferecer)",value:t.freeShippingFrom,onChange:r=>i({...t,freeShippingFrom:r.target.value}),className:"mt-1"})]})]})}),e.jsx(Y,{children:e.jsxs(v,{onClick:c,className:"gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Adicionar Método"]})})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Métodos de Envio Configurados"}),e.jsx(I,{children:"Gerencie os métodos de entrega disponíveis"})]}),e.jsx(M,{children:e.jsxs(ye,{children:[e.jsx(Ce,{children:e.jsxs(G,{children:[e.jsx(P,{children:"Método"}),e.jsx(P,{children:"Transportadora"}),e.jsx(P,{children:"Prazo"}),e.jsx(P,{children:"Preço"}),e.jsx(P,{children:"Frete Grátis"}),e.jsx(P,{children:"Status"}),e.jsx(P,{className:"text-right",children:"Ações"})]})}),e.jsx(ke,{children:s.length>0?s.map(r=>e.jsxs(G,{children:[e.jsx(C,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),r.name]})}),e.jsx(C,{children:e.jsx(L,{variant:"outline",children:r.carrier})}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ps,{className:"h-3 w-3"}),r.estimatedDays," dias"]})}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gs,{className:"h-3 w-3 text-muted-foreground"}),"R$ ",r.price.toFixed(2)]})}),e.jsx(C,{children:r.freeShippingFrom>0?e.jsxs("span",{className:"text-sm text-green-600",children:["Acima de R$ ",r.freeShippingFrom.toFixed(2)]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Não oferece"})}),e.jsx(C,{children:e.jsx(H,{checked:r.active,onCheckedChange:()=>o(r.id)})}),e.jsx(C,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(v,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(js,{className:"h-4 w-4"})}),e.jsx(v,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(r.id),children:e.jsx(fs,{className:"h-4 w-4"})})]})})]},r.id)):e.jsx(G,{children:e.jsx(C,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Nenhum método de envio configurado."})})})]})})]}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Configurações Adicionais"}),e.jsx(I,{children:"Outras opções de logística"})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(u,{children:"Calcular frete automaticamente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Integrar com API dos Correios para cálculo em tempo real"})]}),e.jsx(H,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(u,{children:"Permitir retirada na loja"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente pode optar por retirar o pedido pessoalmente"})]}),e.jsx(H,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(u,{children:"Rastreamento de pedidos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enviar código de rastreamento para os clientes"})]}),e.jsx(H,{defaultChecked:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"origin-zip",children:"CEP de Origem"}),e.jsx(N,{id:"origin-zip",placeholder:"00000-000",maxLength:9,className:"max-w-xs"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"CEP de onde os produtos serão enviados"})]})]})]})]})},Es=[{path:"",label:"Perfil",icon:We},{path:"security",label:"Segurança",icon:Ns},{path:"notifications",label:"Notificações",icon:Qe},{path:"billing",label:"Faturamento",icon:re},{path:"domains",label:"Domínios",icon:te},{path:"logistics",label:"Logística",icon:Se}],sa=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie as configurações da sua conta e preferências."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("nav",{className:"flex flex-col w-full md:w-1/5 shrink-0 gap-1",children:Es.map(s=>{const n=s.path?`/settings/${s.path}`:"/settings",t=s.icon;return e.jsxs(Ze,{to:n,end:s.path==="",className:({isActive:i})=>ae(es({variant:"ghost",size:"default"}),"w-full justify-start text-base md:text-sm h-12",i?"bg-muted hover:bg-muted font-semibold text-primary":"hover:bg-muted/50 text-muted-foreground"),children:[e.jsx(t,{className:"mr-3 h-5 w-5"}),e.jsx("span",{children:s.label})]},s.path)})}),e.jsx("div",{className:"flex-1",children:e.jsxs(ss,{children:[e.jsx(q,{index:!0,element:e.jsx(bs,{})}),e.jsx(q,{path:"security",element:e.jsx(ys,{})}),e.jsx(q,{path:"notifications",element:e.jsx(As,{})}),e.jsx(q,{path:"billing",element:e.jsx(Ps,{})}),e.jsx(q,{path:"domains",element:e.jsx(Ds,{})}),e.jsx(q,{path:"logistics",element:e.jsx(Fs,{})})]})})]})]});export{sa as default};
