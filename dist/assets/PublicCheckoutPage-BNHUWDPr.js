import{s as d,c as X,n as W,a as V,b as Y,r as b,j as e,k as A,M as w,K as J,_ as K,i as Q,C as Z}from"./index-D01JJjW8.js";import{C as ee}from"./circle-alert-OwR7amIP.js";import{L as T}from"./lock-DjuBTqjS.js";import{S as re}from"./shield-check-DVTX90a9.js";import{P as R}from"./package-CruV0aLd.js";import{M as te}from"./map-pin-BJn-NDx_.js";import{C as oe}from"./credit-card-kngx9I_k.js";const ae={async saveCustomization(o){try{const{data:r,error:a}=await d.from("CheckoutCustomization").upsert({...o,updatedAt:new Date().toISOString()}).select().single();if(a)throw a;return r}catch(r){throw console.error("Error saving checkout customization:",r),r}},async loadCustomization(o){try{const{data:r,error:a}=await d.from("CheckoutCustomization").select("*").eq("userId",o).eq("isActive",!0).single();if(a&&a.code!=="PGRST116")throw a;return r}catch(r){throw console.error("Error loading checkout customization:",r),r}},async listCustomizations(o){try{const{data:r,error:a}=await d.from("CheckoutCustomization").select("*").eq("userId",o).order("createdAt",{ascending:!1});if(a)throw a;return r}catch(r){throw console.error("Error listing checkout customizations:",r),r}},async activateCustomization(o){try{const r=await d.from("CheckoutCustomization").select("userId").eq("id",o).single();r.data&&await d.from("CheckoutCustomization").update({isActive:!1}).eq("userId",r.data.userId);const{data:a,error:i}=await d.from("CheckoutCustomization").update({isActive:!0,updatedAt:new Date().toISOString()}).eq("id",o).select().single();if(i)throw i;return a}catch(r){throw console.error("Error activating checkout customization:",r),r}},async deleteCustomization(o){try{const{error:r}=await d.from("CheckoutCustomization").delete().eq("id",o);if(r)throw r}catch(r){throw console.error("Error deleting checkout customization:",r),r}},async duplicateCustomization(o,r){try{const{data:a,error:i}=await d.from("CheckoutCustomization").select("*").eq("id",o).single();if(i)throw i;const{data:j,error:N}=await d.from("CheckoutCustomization").insert({userId:a.userId,name:r,theme:a.theme,isActive:!1}).select().single();if(N)throw N;return j}catch(a){throw console.error("Error duplicating checkout customization:",a),a}},async generatePreviewUrl(o){try{const{data:r,error:a}=await d.from("CheckoutCustomization").insert({userId:o.userId,name:`Preview-${Date.now()}`,theme:o.theme||{},isActive:!1}).select().single();if(a)throw a;return`/checkout/preview/${r.id}`}catch(r){throw console.error("Error generating preview URL:",r),r}},async exportCustomization(o){try{const{data:r,error:a}=await d.from("CheckoutCustomization").select("*").eq("id",o).single();if(a)throw a;return{name:r.name,theme:r.theme,exportedAt:new Date().toISOString(),version:"1.0"}}catch(r){throw console.error("Error exporting checkout customization:",r),r}},async importCustomization(o,r){try{const{data:a,error:i}=await d.from("CheckoutCustomization").insert({userId:o,name:`${r.name} (Importado)`,theme:r.theme,isActive:!1}).select().single();if(i)throw i;return a}catch(a){throw console.error("Error importing checkout customization:",a),a}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),z={logoUrl:"",faviconUrl:"",logoAlignment:"left",showLogoAtTop:!0,logoWidth:180,logoHeight:50,backgroundColor:"#F9FAFB",backgroundGradient:"linear-gradient(180deg, #F9FAFB 0%, #F3F4F6 100%)",useGradient:!1,textColor:"#1F2937",headingColor:"#111827",noticeBarEnabled:!0,noticeBarMessage:"ðŸŽ‰ FRETE GRÃTIS para todo o Brasil em compras acima de R$ 199!",noticeBarBackgroundColor:"#1F2937",noticeBarTextColor:"#FFFFFF",noticeBarAnimation:!0,bannerEnabled:!1,bannerUrl:"",bannerHeight:200,cartDisplay:"drawer",cartBorderColor:"#E5E7EB",cartBackgroundColor:"#FFFFFF",quantityCircleColor:"#8B5CF6",quantityTextColor:"#FFFFFF",showCartIcon:!0,showCartReminder:!0,allowCouponEdit:!0,navigationSteps:3,nextStepStyle:"rounded",showProgressBar:!0,progressBarColor:"#8B5CF6",stepActiveColor:"#8B5CF6",stepInactiveColor:"#D1D5DB",stepCompletedColor:"#10B981",primaryButtonBackgroundColor:"#8B5CF6",primaryButtonTextColor:"#FFFFFF",primaryButtonBorderRadius:12,primaryButtonHover:!0,primaryButtonHoverColor:"#7C3AED",primaryButtonFlow:!0,primaryButtonShadow:!0,checkoutButtonBackgroundColor:"#10B981",checkoutButtonTextColor:"#FFFFFF",checkoutButtonBorderRadius:14,checkoutButtonHover:!0,checkoutButtonHoverColor:"#059669",checkoutButtonFlow:!0,checkoutButtonShadow:!0,checkoutButtonPulse:!0,highlightedBorderColor:"#8B5CF6",highlightedBorderTextColor:"#FFFFFF",highlightedBorderWidth:2,footerBackgroundColor:"#F3F4F6",footerTextColor:"#6B7280",showStoreName:!0,showPaymentMethods:!0,showCnpjCpf:!0,showContactEmail:!0,showAddress:!0,showPhone:!0,showPrivacyPolicy:!0,showTermsConditions:!0,showReturns:!0,footerLinkColor:"#8B5CF6",discountTagTextColor:"#FFFFFF",discountTagBackgroundColor:"#EF4444",discountTagBorderRadius:6,discountTagFontWeight:"700",useVisible:!0,expirationTime:60,forceRemovalTime:90,showCountdownTimer:!0,urgencyMessageColor:"#DC2626",urgencyBackgroundColor:"#FEE2E2",orderBumpEnabled:!0,orderBumpTextColor:"#374151",orderBumpBackgroundColor:"#FFFBEB",orderBumpPriceColor:"#DC2626",orderBumpBorderColor:"#FCD34D",orderBumpBorderWidth:2,orderBumpBorderRadius:12,orderBumpButtonTextColor:"#FFFFFF",orderBumpButtonBackgroundColor:"#EF4444",orderBumpShadow:!0,fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},boxShadow:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},inputBorderColor:"#D1D5DB",inputFocusBorderColor:"#8B5CF6",inputBackgroundColor:"#FFFFFF",inputHeight:48,inputBorderRadius:10,labelColor:"#374151",labelFontWeight:"600",placeholderColor:"#9CA3AF",cardBackgroundColor:"#FFFFFF",cardBorderColor:"#E5E7EB",cardBorderRadius:16,cardShadow:!0,cardPadding:"1.5rem",showTrustBadges:!0,trustBadgeColor:"#10B981",sslBadgeEnabled:!0,securityIconsEnabled:!0,language:"pt",currency:"BRL",presellPage:"cart-in-cart",requestCpfOnlyAtPayment:!1,requestBirthDate:!1,requestGender:!1,disableCarrot:!1,mobileBreakpoint:640,tabletBreakpoint:1024,desktopBreakpoint:1280,enableAnimations:!0,animationDuration:"300ms",animationTiming:"cubic-bezier(0.4, 0, 0.2, 1)",highContrast:!1,focusIndicatorColor:"#8B5CF6",reducedMotion:!1},ne=o=>o.replace(/\D/g,""),le=o=>ne(o),ie=({currentStep:o,theme:r})=>{const a=[{number:1,label:"Dados",icon:K},{number:2,label:"Entrega",icon:te},{number:3,label:"Pagamento",icon:oe}];return e.jsx("div",{className:"w-full py-6 px-4",children:e.jsx("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:a.map((i,j)=>e.jsxs(Q.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(w.div,{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold shadow-lg",style:{backgroundColor:o>=i.number?r.primaryButtonBackgroundColor||"#8b5cf6":"#e5e7eb",color:o>=i.number?"#ffffff":"#9ca3af"},whileHover:{scale:1.05},children:o>i.number?e.jsx(Z,{className:"w-6 h-6"}):e.jsx(i.icon,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-xs mt-2 font-medium",style:{color:o>=i.number?"#111827":"#9ca3af"},children:i.label})]}),j<a.length-1&&e.jsx("div",{className:"flex-1 mx-2",children:e.jsx("div",{className:"h-1 rounded-full",style:{backgroundColor:o>i.number?r.primaryButtonBackgroundColor||"#8b5cf6":"#e5e7eb"}})})]},i.number))})})},ce=()=>{const{orderId:o}=W(),r=V(),{toast:a}=Y(),[i,j]=b.useState(!0),[N,S]=b.useState(!1),[x,L]=b.useState(null),[q,M]=b.useState(null),[s,O]=b.useState(z),[h,D]=b.useState(1),[c,B]=b.useState({name:"",email:"",phone:"",document:""}),[n,y]=b.useState({zipCode:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}),[u,E]=b.useState("PIX"),[g,F]=b.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvv:""}),f=s.navigationSteps||3;b.useEffect(()=>{o&&$()},[o]);const $=async()=>{var t;try{j(!0);const{data:l,error:k}=await d.from("Order").select("*").eq("id",o).single();if(k||!l)throw new Error("Pedido nÃ£o encontrado");const v=Array.isArray(l.items)?l.items:[],P=Array.isArray((t=l.metadata)==null?void 0:t.originalProducts)?l.metadata.originalProducts:[],C={orderId:l.id,products:v.map(m=>{const p=P.find(G=>String(G.id)===String(m.productId));return{id:m.productId||m.id,name:m.name||(p==null?void 0:p.name)||(p==null?void 0:p.title)||"Produto",price:Number(m.price)||0,quantity:Number(m.quantity)||1,image:m.image||(p==null?void 0:p.image)||(Array.isArray(p==null?void 0:p.images)?p.images[0]:"")}}),total:Number(l.total)||0,subtotal:Number(l.subtotal)||0,shipping:Number(l.shipping)||0,discount:Number(l.discount)||0};if(L(C),M(l),l.userId)try{const m=await ae.loadCustomization(l.userId);m!=null&&m.theme&&O({...z,...m.theme})}catch{console.log("Usando tema padrÃ£o")}}catch(l){console.error("Erro ao carregar checkout:",l),a({title:"Erro ao carregar checkout",description:l.message,variant:"destructive"})}finally{j(!1)}},U=()=>{f===1?I():H()&&(h<3?(D(h+1),window.scrollTo({top:0,behavior:"smooth"})):I())},_=()=>{h>1&&(D(h-1),window.scrollTo({top:0,behavior:"smooth"}))},H=()=>h===1&&(!c.name||!c.email||!c.phone||!c.document)?(a({title:"Preencha todos os campos",variant:"destructive"}),!1):h===2&&(!n.zipCode||!n.street||!n.number||!n.city||!n.state)?(a({title:"Preencha o endereÃ§o completo",variant:"destructive"}),!1):!0,I=async()=>{if(!(!o||!x)){S(!0);try{const{error:t}=await d.from("Order").update({customerName:c.name,customerEmail:c.email,customerPhone:c.phone,customerDocument:le(c.document),shippingAddress:n,paymentMethod:u,updatedAt:new Date().toISOString()}).eq("id",o);if(t)throw t;const{data:l}=await d.from("PaymentGateway").select("*").eq("userId",q.userId).eq("type",u==="PIX"?"PIX":u==="CREDIT_CARD"?"CREDIT_CARD":"BOLETO").eq("isActive",!0).limit(1);if(!l||l.length===0)throw new Error(`Gateway de ${u} nÃ£o configurado`);const k=l[0],{data:v,error:P}=await d.from("Transaction").insert({orderId:o,gatewayId:k.id,amount:x.total,status:"PENDING",paymentMethod:u,metadata:{customerData:c,addressData:n,cardData:u==="CREDIT_CARD"?g:null}}).select().single();if(P||!v)throw new Error("Erro ao criar transaÃ§Ã£o");const{data:C,error:m}=await d.functions.invoke("process-payment",{body:{transactionId:v.id,gatewaySlug:k.slug,paymentMethod:u,amount:x.total,customerData:c,addressData:n,cardData:u==="CREDIT_CARD"?g:null}});if(m||!(C!=null&&C.success))throw new Error((C==null?void 0:C.error)||"Erro ao processar pagamento");r(u==="PIX"?`/pix/${o}/${v.id}`:`/checkout/success/${v.id}`)}catch(t){console.error("Erro ao processar pagamento:",t),a({title:"Erro no pagamento",description:t.message||"Tente novamente",variant:"destructive"})}finally{S(!1)}}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#f9fafb"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando checkout..."})]})}):x?e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:s.backgroundColor||"#f9fafb"},children:[s.noticeBarEnabled&&s.noticeBarMessage&&e.jsx("div",{className:"py-3 px-4 text-center text-sm font-medium",style:{backgroundColor:s.noticeBarBackgroundColor||"#8b5cf6",color:s.noticeBarTextColor||"#ffffff"},children:s.noticeBarMessage}),s.showLogoAtTop&&s.logoUrl&&e.jsx("div",{className:"bg-white shadow-sm py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 flex justify-center",children:e.jsx("img",{src:s.logoUrl,alt:"Logo",className:"h-10 object-contain"})})}),s.bannerEnabled&&s.bannerUrl&&e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx("img",{src:s.bannerUrl,alt:"Banner",className:"w-full object-cover",style:{maxHeight:s.bannerHeight||"200px"}})}),f===3&&e.jsx(ie,{currentStep:h,theme:s}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(w.div,{className:"bg-white rounded-2xl shadow-lg p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:s.headingColor||"#111827"},children:f===1?"Finalizar Pedido":h===1?"Seus Dados":h===2?"EndereÃ§o":"Pagamento"}),e.jsx("p",{className:"text-sm",style:{color:s.textColor||"#6b7280"},children:"Preencha as informaÃ§Ãµes para continuar"})]}),e.jsxs(J,{mode:"wait",children:[(f===1||h===1)&&e.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",value:c.name,onChange:t=>B({...c,name:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Seu nome completo"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"E-mail *"}),e.jsx("input",{type:"email",value:c.email,onChange:t=>B({...c,email:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone *"}),e.jsx("input",{type:"tel",value:c.phone,onChange:t=>B({...c,phone:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"(11) 99999-9999"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),e.jsx("input",{type:"text",value:c.document,onChange:t=>B({...c,document:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"000.000.000-00",maxLength:14})]})]},"step1"),(f===1||h===2)&&e.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:f===1?"mt-6 space-y-4":"space-y-4",children:[f===1&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"EndereÃ§o de Entrega"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP *"}),e.jsx("input",{type:"text",value:n.zipCode,onChange:t=>y({...n,zipCode:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"00000-000",maxLength:9})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rua *"}),e.jsx("input",{type:"text",value:n.street,onChange:t=>y({...n,street:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Nome da rua"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"NÃºmero *"}),e.jsx("input",{type:"text",value:n.number,onChange:t=>y({...n,number:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"123"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Complemento"}),e.jsx("input",{type:"text",value:n.complement,onChange:t=>y({...n,complement:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Apto, bloco..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro *"}),e.jsx("input",{type:"text",value:n.neighborhood,onChange:t=>y({...n,neighborhood:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Seu bairro"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade *"}),e.jsx("input",{type:"text",value:n.city,onChange:t=>y({...n,city:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Cidade"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado *"}),e.jsxs("select",{value:n.state,onChange:t=>y({...n,state:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"SP",children:"SP"}),e.jsx("option",{value:"RJ",children:"RJ"}),e.jsx("option",{value:"MG",children:"MG"}),e.jsx("option",{value:"RS",children:"RS"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"PR",children:"PR"})]})]})]})]},"step2"),(f===1||h===3)&&e.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:f===1?"mt-6 space-y-4":"space-y-4",children:[f===1&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Forma de Pagamento"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("button",{onClick:()=>E("PIX"),className:`p-4 rounded-lg border-2 font-semibold transition ${u==="PIX"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"PIX"}),e.jsx("button",{onClick:()=>E("CREDIT_CARD"),className:`p-4 rounded-lg border-2 font-semibold transition ${u==="CREDIT_CARD"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"CartÃ£o"}),e.jsx("button",{onClick:()=>E("BOLETO"),className:`p-4 rounded-lg border-2 font-semibold transition ${u==="BOLETO"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"Boleto"})]}),u==="CREDIT_CARD"&&e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"NÃºmero do CartÃ£o"}),e.jsx("input",{type:"text",value:g.number,onChange:t=>F({...g,number:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"0000 0000 0000 0000",maxLength:19})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome no CartÃ£o"}),e.jsx("input",{type:"text",value:g.holderName,onChange:t=>F({...g,holderName:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Nome como estÃ¡ no cartÃ£o"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"MÃªs"}),e.jsx("input",{type:"text",value:g.expiryMonth,onChange:t=>F({...g,expiryMonth:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"MM",maxLength:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ano"}),e.jsx("input",{type:"text",value:g.expiryYear,onChange:t=>F({...g,expiryYear:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"AA",maxLength:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"CVV"}),e.jsx("input",{type:"text",value:g.cvv,onChange:t=>F({...g,cvv:t.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"123",maxLength:4})]})]})]}),u==="PIX"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:e.jsx("p",{className:"text-sm text-green-800",children:"âœ… ApÃ³s clicar em finalizar, vocÃª receberÃ¡ o QR Code do PIX"})}),u==="BOLETO"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"â„¹ï¸ O boleto serÃ¡ gerado apÃ³s a finalizaÃ§Ã£o"})})]},"step3")]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[f===3&&h>1&&e.jsxs("button",{onClick:_,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center justify-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Voltar"]}),e.jsx("button",{onClick:U,disabled:N,className:"flex-1 px-6 py-4 rounded-lg font-bold text-white shadow-lg hover:shadow-xl transition disabled:opacity-50 flex items-center justify-center gap-2",style:{backgroundColor:s.primaryButtonBackgroundColor||"#8b5cf6"},children:N?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-5 h-5 animate-spin"}),"Processando..."]}):f===1||h===3?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-5 h-5"}),"Finalizar Compra"]}):"Continuar"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t flex items-center justify-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Compra Segura"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"SSL Certificado"})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(w.div,{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",style:{color:s.headingColor||"#111827"},children:[e.jsx(R,{className:"w-5 h-5"}),"Resumo do Pedido"]}),e.jsx("div",{className:"space-y-3 mb-4",children:x.products.map((t,l)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden",children:t.image?e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(R,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Qtd: ",t.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["R$ ",(t.price*t.quantity).toFixed(2)]})]})]},l))}),e.jsx("div",{className:"border-t my-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["R$ ",x.subtotal.toFixed(2)]})]}),x.shipping>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Frete"}),e.jsxs("span",{className:"font-medium",children:["R$ ",x.shipping.toFixed(2)]})]}),x.discount&&x.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Desconto"}),e.jsxs("span",{className:"font-medium",children:["- R$ ",x.discount.toFixed(2)]})]})]}),e.jsx("div",{className:"border-t mt-4 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold",style:{color:s.headingColor||"#111827"},children:"Total"}),e.jsxs("span",{className:"text-3xl font-bold",style:{color:s.primaryButtonBackgroundColor||"#8b5cf6"},children:["R$ ",x.total.toFixed(2)]})]})})]})})]})}),s.showStoreName&&e.jsx("div",{className:"bg-white border-t mt-12 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-gray-600",children:e.jsxs("p",{children:["Â© ",new Date().getFullYear()," - Todos os direitos reservados"]})})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(ee,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Pedido nÃ£o encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"NÃ£o foi possÃ­vel carregar os dados do pedido."}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Voltar"})]})})},fe=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{z as D,ce as P,fe as a,ae as c};
