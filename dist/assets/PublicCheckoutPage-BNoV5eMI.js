import{s as L,c as ae,r as N,j as e,M as u,l as o,i as je,K as Y,C as te,V as le,m as Ee,a as De,b as Pe}from"./index-CKGQnr4m.js";import{C as Q}from"./circle-alert-agMxQewI.js";import{F as de}from"./file-text-B31Iug1F.js";import{M as Ce}from"./mail-Dh2YAckP.js";import{P as be}from"./phone-Bd6CiFoO.js";import{M as ve}from"./map-pin-D1uG0czp.js";import{S as ue}from"./shield-tZ58tkdV.js";import{C as ne}from"./credit-card-HxNHTEhN.js";import{S as Te}from"./smartphone-CIXGX3Oq.js";import{S as Ie}from"./sparkles-8D79CEwH.js";import{P as $e}from"./plus-oCIzbLPe.js";import{C as Re}from"./clock-B2-m3bnP.js";import{Z as Ae}from"./zap-CUn2B08u.js";import{T as Le}from"./trending-up-BOXVW5iZ.js";import{S as Oe}from"./store-h7hRhxyu.js";import{C as qe}from"./calendar-CzpjKEkW.js";import{L as fe}from"./lock-BVBUfgiR.js";import{S as ze}from"./shield-check-DOA6dnkR.js";import{P as ge}from"./package-vHVgbwXZ.js";const He={async saveCustomization(a){try{const{data:t,error:l}=await L.from("CheckoutCustomization").upsert({...a,updatedAt:new Date().toISOString()}).select().single();if(l)throw l;return t}catch(t){throw console.error("Error saving checkout customization:",t),t}},async loadCustomization(a){try{const{data:t,error:l}=await L.from("CheckoutCustomization").select("*").eq("userId",a).eq("isActive",!0).single();if(l&&l.code!=="PGRST116")throw l;return t}catch(t){throw console.error("Error loading checkout customization:",t),t}},async listCustomizations(a){try{const{data:t,error:l}=await L.from("CheckoutCustomization").select("*").eq("userId",a).order("createdAt",{ascending:!1});if(l)throw l;return t}catch(t){throw console.error("Error listing checkout customizations:",t),t}},async activateCustomization(a){try{const t=await L.from("CheckoutCustomization").select("userId").eq("id",a).single();t.data&&await L.from("CheckoutCustomization").update({isActive:!1}).eq("userId",t.data.userId);const{data:l,error:s}=await L.from("CheckoutCustomization").update({isActive:!0,updatedAt:new Date().toISOString()}).eq("id",a).select().single();if(s)throw s;return l}catch(t){throw console.error("Error activating checkout customization:",t),t}},async deleteCustomization(a){try{const{error:t}=await L.from("CheckoutCustomization").delete().eq("id",a);if(t)throw t}catch(t){throw console.error("Error deleting checkout customization:",t),t}},async duplicateCustomization(a,t){try{const{data:l,error:s}=await L.from("CheckoutCustomization").select("*").eq("id",a).single();if(s)throw s;const{data:F,error:p}=await L.from("CheckoutCustomization").insert({userId:l.userId,name:t,theme:l.theme,isActive:!1}).select().single();if(p)throw p;return F}catch(l){throw console.error("Error duplicating checkout customization:",l),l}},async generatePreviewUrl(a){try{const{data:t,error:l}=await L.from("CheckoutCustomization").insert({userId:a.userId,name:`Preview-${Date.now()}`,theme:a.theme||{},isActive:!1}).select().single();if(l)throw l;return`/checkout/preview/${t.id}`}catch(t){throw console.error("Error generating preview URL:",t),t}},async exportCustomization(a){try{const{data:t,error:l}=await L.from("CheckoutCustomization").select("*").eq("id",a).single();if(l)throw l;return{name:t.name,theme:t.theme,exportedAt:new Date().toISOString(),version:"1.0"}}catch(t){throw console.error("Error exporting checkout customization:",t),t}},async importCustomization(a,t){try{const{data:l,error:s}=await L.from("CheckoutCustomization").insert({userId:a,name:`${t.name} (Importado)`,theme:t.theme,isActive:!1}).select().single();if(s)throw s;return l}catch(l){throw console.error("Error importing checkout customization:",l),l}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ae("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),me={logoUrl:"",faviconUrl:"",logoAlignment:"left",showLogoAtTop:!0,logoWidth:180,logoHeight:50,backgroundColor:"#F9FAFB",backgroundGradient:"linear-gradient(180deg, #F9FAFB 0%, #F3F4F6 100%)",useGradient:!1,textColor:"#1F2937",headingColor:"#111827",noticeBarEnabled:!0,noticeBarMessage:"üéâ FRETE GR√ÅTIS para todo o Brasil em compras acima de R$ 199!",noticeBarBackgroundColor:"#1F2937",noticeBarTextColor:"#FFFFFF",noticeBarAnimation:!0,bannerEnabled:!1,bannerUrl:"",bannerHeight:200,cartDisplay:"drawer",cartBorderColor:"#E5E7EB",cartBackgroundColor:"#FFFFFF",quantityCircleColor:"#8B5CF6",quantityTextColor:"#FFFFFF",showCartIcon:!0,showCartReminder:!0,allowCouponEdit:!0,navigationSteps:3,nextStepStyle:"rounded",showProgressBar:!0,progressBarColor:"#8B5CF6",stepActiveColor:"#8B5CF6",stepInactiveColor:"#D1D5DB",stepCompletedColor:"#10B981",primaryButtonBackgroundColor:"#8B5CF6",primaryButtonTextColor:"#FFFFFF",primaryButtonBorderRadius:12,primaryButtonHover:!0,primaryButtonHoverColor:"#7C3AED",primaryButtonFlow:!0,primaryButtonShadow:!0,checkoutButtonBackgroundColor:"#10B981",checkoutButtonTextColor:"#FFFFFF",checkoutButtonBorderRadius:14,checkoutButtonHover:!0,checkoutButtonHoverColor:"#059669",checkoutButtonFlow:!0,checkoutButtonShadow:!0,checkoutButtonPulse:!0,highlightedBorderColor:"#8B5CF6",highlightedBorderTextColor:"#FFFFFF",highlightedBorderWidth:2,footerBackgroundColor:"#F3F4F6",footerTextColor:"#6B7280",showStoreName:!0,showPaymentMethods:!0,showCnpjCpf:!0,showContactEmail:!0,showAddress:!0,showPhone:!0,showPrivacyPolicy:!0,showTermsConditions:!0,showReturns:!0,footerLinkColor:"#8B5CF6",discountTagTextColor:"#FFFFFF",discountTagBackgroundColor:"#EF4444",discountTagBorderRadius:6,discountTagFontWeight:"700",useVisible:!0,expirationTime:60,forceRemovalTime:90,showCountdownTimer:!0,urgencyMessageColor:"#DC2626",urgencyBackgroundColor:"#FEE2E2",orderBumpEnabled:!0,orderBumpTextColor:"#374151",orderBumpBackgroundColor:"#FFFBEB",orderBumpPriceColor:"#DC2626",orderBumpBorderColor:"#FCD34D",orderBumpBorderWidth:2,orderBumpBorderRadius:12,orderBumpButtonTextColor:"#FFFFFF",orderBumpButtonBackgroundColor:"#EF4444",orderBumpShadow:!0,fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},boxShadow:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},inputBorderColor:"#D1D5DB",inputFocusBorderColor:"#8B5CF6",inputBackgroundColor:"#FFFFFF",inputHeight:48,inputBorderRadius:10,labelColor:"#374151",labelFontWeight:"600",placeholderColor:"#9CA3AF",cardBackgroundColor:"#FFFFFF",cardBorderColor:"#E5E7EB",cardBorderRadius:16,cardShadow:!0,cardPadding:"1.5rem",showTrustBadges:!0,trustBadgeColor:"#10B981",sslBadgeEnabled:!0,securityIconsEnabled:!0,language:"pt",currency:"BRL",presellPage:"cart-in-cart",requestCpfOnlyAtPayment:!1,requestBirthDate:!1,requestGender:!1,disableCarrot:!1,mobileBreakpoint:640,tabletBreakpoint:1024,desktopBreakpoint:1280,enableAnimations:!0,animationDuration:"300ms",animationTiming:"cubic-bezier(0.4, 0, 0.2, 1)",highContrast:!1,focusIndicatorColor:"#8B5CF6",reducedMotion:!1},Ye=a=>a.replace(/\D/g,""),Me=a=>Ye(a),ye=({children:a,onClick:t,disabled:l=!1,loading:s=!1,type:F="button",variant:p="primary",theme:d,className:C="",fullWidth:b=!1,size:v="md",icon:B,iconPosition:D="left"})=>{const[c,R]=N.useState(!1),w=(()=>{switch(p){case"checkout":return{backgroundColor:d.checkoutButtonBackgroundColor||"#10b981",textColor:d.checkoutButtonTextColor||"#ffffff",borderRadius:d.checkoutButtonBorderRadius||8,hover:d.checkoutButtonHover!==!1,hoverColor:d.checkoutButtonHoverColor||"#059669",flow:d.checkoutButtonFlow||!1,shadow:d.checkoutButtonShadow!==!1,pulse:d.checkoutButtonPulse||!1};case"secondary":return{backgroundColor:d.secondaryButtonBackgroundColor||"#6b7280",textColor:d.secondaryButtonTextColor||"#ffffff",borderRadius:d.primaryButtonBorderRadius||8,hover:!0,hoverColor:"#4b5563",flow:!1,shadow:!1,pulse:!1};case"primary":default:return{backgroundColor:d.primaryButtonBackgroundColor||"#8b5cf6",textColor:d.primaryButtonTextColor||"#ffffff",borderRadius:d.primaryButtonBorderRadius||8,hover:d.primaryButtonHover!==!1,hoverColor:d.primaryButtonHoverColor||"#7c3aed",flow:d.primaryButtonFlow||!1,shadow:d.primaryButtonShadow!==!1,pulse:!1}}})(),n=()=>{switch(v){case"sm":return"px-4 py-2 text-sm";case"lg":return"px-8 py-4 text-lg";case"md":default:return"px-6 py-3 text-base"}},$={backgroundColor:l||s?"#d1d5db":c&&w.hover&&w.hoverColor?w.hoverColor:w.backgroundColor,color:l||s?"#9ca3af":w.textColor,borderRadius:`${w.borderRadius}px`,transition:"all 0.3s ease",boxShadow:w.shadow?c?"0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.15)":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)":"none",transform:c&&!l&&!s?"translateY(-2px)":"translateY(0)"},j=()=>{const m=[];return w.pulse&&!l&&!s&&m.push("animate-pulse"),w.flow&&!l&&!s&&m.push("animate-gradient-x bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-[length:200%_auto]"),m.join(" ")};return e.jsxs(u.button,{type:F,onClick:l||s?void 0:t,disabled:l||s,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:o("relative font-semibold inline-flex items-center justify-center gap-2","focus:outline-none focus:ring-2 focus:ring-offset-2","transition-all duration-300 ease-in-out","disabled:cursor-not-allowed disabled:opacity-50",n(),j(),b&&"w-full",C),style:$,whileHover:!l&&!s?{scale:1.02}:{},whileTap:!l&&!s?{scale:.98}:{},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s&&e.jsx(je,{className:o("animate-spin",v==="sm"?"w-4 h-4":v==="lg"?"w-6 h-6":"w-5 h-5")}),B&&D==="left"&&!s&&e.jsx("span",{className:"flex-shrink-0",children:B}),e.jsx("span",{className:"flex-1 text-center",children:a}),B&&D==="right"&&!s&&e.jsx("span",{className:"flex-shrink-0",children:B}),!l&&!s&&e.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-[inherit]",children:e.jsx("span",{className:"absolute inset-0 rounded-[inherit] bg-white opacity-0 group-active:opacity-20 transition-opacity duration-200"})})]})},U=N.forwardRef(({label:a,error:t,success:l=!1,theme:s,icon:F,iconPosition:p="left",mask:d="none",showValidation:C=!0,helperText:b,required:v=!1,fullWidth:B=!0,className:D="",value:c,onChange:R,onFocus:S,onBlur:w,...n},$)=>{const[j,m]=N.useState(!1),[g,O]=N.useState(!!c),A=k=>{if(!k)return"";switch(d){case"cpf":return k.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1");case"phone":return k.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1");case"cep":return k.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1");case"card":return k.replace(/\D/g,"").replace(/(\d{4})(\d)/,"$1 $2").replace(/(\d{4})(\d)/,"$1 $2").replace(/(\d{4})(\d)/,"$1 $2").replace(/(\d{4})\d+?$/,"$1");case"date":return k.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\/\d{4})\d+?$/,"$1");default:return k}},W=k=>{const P=A(k.target.value);O(!!P);const M={...k,target:{...k.target,value:P}};R==null||R(M)},I=k=>{m(!0),S==null||S(k)},q=k=>{m(!1),w==null||w(k)},y=()=>t?"#ef4444":l&&C?"#10b981":j?s.inputFocusBorderColor||"#8b5cf6":s.inputBorderColor||"#d1d5db",_={backgroundColor:s.inputBackgroundColor||"#ffffff",borderColor:y(),borderRadius:`${s.inputBorderRadius||8}px`,height:`${s.inputHeight||48}px`,color:s.textColor||"#111827",borderWidth:"1px",borderStyle:"solid",transition:"all 0.3s ease"},E={color:t?"#ef4444":j||g?s.labelColor||"#111827":s.labelColor||"#6b7280",fontWeight:s.labelFontWeight||"500",fontSize:"14px",transition:"all 0.3s ease"};return e.jsxs("div",{className:o("relative",B&&"w-full"),children:[a&&e.jsxs(u.label,{className:"block mb-2",style:E,initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.2},children:[a,v&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[F&&p==="left"&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",style:{color:j?y():void 0},children:F}),e.jsx("input",{ref:$,value:c,onChange:W,onFocus:I,onBlur:q,className:o("w-full px-4 outline-none transition-all duration-300","focus:ring-2 focus:ring-opacity-20",F&&p==="left"&&"pl-11",F&&p==="right"&&"pr-11",(t||l&&C)&&"pr-11",D),style:{..._,...j&&{boxShadow:`0 0 0 3px ${s.inputFocusBorderColor||"#8b5cf6"}20`}},"aria-invalid":!!t,"aria-describedby":t?`${n.id}-error`:b?`${n.id}-helper`:void 0,...n}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[C&&!F&&e.jsxs(Y,{mode:"wait",children:[t&&e.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:e.jsx(Q,{className:"w-5 h-5 text-red-500"})},"error"),l&&!t&&g&&e.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:e.jsx(te,{className:"w-5 h-5 text-green-500"})},"success")]}),F&&p==="right"&&e.jsx("div",{className:"text-gray-400",style:{color:j?y():void 0},children:F})]})]}),e.jsx(Y,{children:t&&e.jsxs(u.p,{id:`${n.id}-error`,className:"mt-2 text-sm text-red-500 flex items-center gap-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsx(Q,{className:"w-4 h-4"}),t]})}),b&&!t&&e.jsx("p",{id:`${n.id}-helper`,className:"mt-2 text-sm",style:{color:s.textColor||"#6b7280",opacity:.7},children:b}),j&&e.jsx(u.div,{className:"absolute inset-0 rounded-[inherit] pointer-events-none",style:{border:`2px solid ${s.inputFocusBorderColor||"#8b5cf6"}`,opacity:.2},initial:{scale:.95},animate:{scale:1},exit:{scale:.95},transition:{duration:.2}})]})});U.displayName="CheckoutInput";const Je=({theme:a,isMobile:t=!1,storeData:l={},className:s=""})=>{if(!(a.showStoreName||a.showCnpjCpf||a.showContactEmail||a.showAddress||a.showPhone||a.showPaymentMethods||a.showPrivacyPolicy||a.showTermsConditions||a.showReturns))return null;const{name:p="Minha Loja",cnpj:d,cpf:C,email:b="contato@loja.com",phone:v="(11) 99999-9999",address:B="Rua Exemplo, 123 - S√£o Paulo, SP"}=l,D={backgroundColor:a.footerBackgroundColor||"#ffffff",color:a.footerTextColor||"#6b7280",borderTopColor:a.footerTextColor?`${a.footerTextColor}20`:"#e5e7eb"},c={color:a.footerLinkColor||a.footerTextColor||"#8b5cf6"},R=[{name:"Cart√£o de Cr√©dito",icon:ne},{name:"PIX",icon:Te},{name:"Boleto",icon:Ue}];return e.jsx(u.footer,{className:o("border-t",t?"mt-6":"mt-12",s),style:D,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs("div",{className:o("mx-auto",t?"px-2 py-4":"px-4 py-8 max-w-7xl"),children:[e.jsxs("div",{className:o("grid gap-6",t?"grid-cols-1 gap-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"),children:[(a.showStoreName||a.showCnpjCpf)&&e.jsxs("div",{className:o(t?"space-y-2":"space-y-3"),children:[a.showStoreName&&e.jsx("h3",{className:o("font-bold",t?"text-sm mb-2":"text-lg mb-4"),style:{color:a.footerTextColor||"#111827"},children:p}),a.showCnpjCpf&&(d||C)&&e.jsxs("div",{className:o("space-y-1.5",t?"text-xs":"text-sm"),children:[d&&e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(de,{className:o("mt-0.5 flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsxs("span",{children:[e.jsx("strong",{children:"CNPJ:"})," ",d]})]}),C&&!d&&e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(de,{className:o("mt-0.5 flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsxs("span",{children:[e.jsx("strong",{children:"CPF:"})," ",C]})]})]})]}),(a.showContactEmail||a.showPhone)&&e.jsxs("div",{className:o(t?"space-y-2":"space-y-3"),children:[e.jsx("h4",{className:o("font-semibold",t?"text-sm mb-2":"text-base mb-4"),style:{color:a.footerTextColor||"#111827"},children:"Contato"}),e.jsxs("div",{className:o(t?"space-y-2 text-xs":"space-y-3 text-sm"),children:[a.showContactEmail&&b&&e.jsxs("a",{href:`mailto:${b}`,className:"flex items-center gap-2 hover:underline transition-all",style:c,children:[e.jsx(Ce,{className:o("flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsx("span",{children:b})]}),a.showPhone&&v&&e.jsxs("a",{href:`tel:${v.replace(/\D/g,"")}`,className:"flex items-center gap-2 hover:underline transition-all",style:c,children:[e.jsx(be,{className:o("flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsx("span",{children:v})]}),a.showAddress&&B&&e.jsxs("p",{className:o("flex items-start gap-2",t?"text-xs":"text-sm"),children:[e.jsx(ve,{className:o("mt-0.5 flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsx("span",{children:B})]})]})]}),(a.showPrivacyPolicy||a.showTermsConditions||a.showReturns)&&e.jsxs("div",{className:o(t?"space-y-2":"space-y-3"),children:[e.jsx("h4",{className:o("font-semibold",t?"text-sm mb-2":"text-base mb-4"),style:{color:a.footerTextColor||"#111827"},children:"Informa√ß√µes"}),e.jsxs("div",{className:o(t?"space-y-1.5 text-xs":"space-y-2 text-sm"),children:[a.showPrivacyPolicy&&e.jsxs("a",{href:"/politica-de-privacidade",className:"flex items-center gap-2 hover:underline transition-all",style:c,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(ue,{className:o("flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsx("span",{children:"Pol√≠tica de Privacidade"})]}),a.showTermsConditions&&e.jsxs("a",{href:"/termos-e-condicoes",className:"flex items-center gap-2 hover:underline transition-all",style:c,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(de,{className:o("flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsx("span",{children:"Termos e Condi√ß√µes"})]}),a.showReturns&&e.jsxs("a",{href:"/trocas-e-devolucoes",className:"flex items-center gap-2 hover:underline transition-all",style:c,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(_e,{className:o("flex-shrink-0",t?"w-3 h-3":"w-4 h-4")}),e.jsx("span",{children:"Trocas e Devolu√ß√µes"})]})]})]}),a.showPaymentMethods&&e.jsxs("div",{className:o(t?"space-y-2":"space-y-3"),children:[e.jsx("h4",{className:o("font-semibold",t?"text-sm mb-2":"text-base mb-4"),style:{color:a.footerTextColor||"#111827"},children:"Formas de Pagamento"}),e.jsx("div",{className:o("flex flex-wrap",t?"gap-2":"gap-3"),children:R.map((S,w)=>e.jsxs(u.div,{className:o("flex items-center rounded-lg border transition-all hover:shadow-md",t?"gap-1.5 px-2 py-1.5":"gap-2 px-3 py-2"),style:{borderColor:a.footerTextColor?`${a.footerTextColor}20`:"#e5e7eb",backgroundColor:a.footerTextColor?`${a.footerTextColor}05`:"#f9fafb"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1*w},whileHover:{scale:1.05},children:[e.jsx(S.icon,{className:o(t?"w-4 h-4":"w-5 h-5"),style:{color:a.footerTextColor||"#6b7280"}}),e.jsx("span",{className:o("font-medium",t?"text-[10px]":"text-xs"),children:S.name})]},S.name))}),e.jsxs("div",{className:o(t?"mt-3 space-y-1.5":"mt-6 space-y-2"),children:[e.jsxs("div",{className:o("flex items-center gap-2",t?"text-[10px]":"text-xs"),children:[e.jsx(ue,{className:o(t?"w-3 h-3":"w-4 h-4"),style:{color:"#10b981"}}),e.jsx("span",{children:"Compra 100% Segura"})]}),e.jsxs("div",{className:o("flex items-center gap-2",t?"text-[10px]":"text-xs"),children:[e.jsx(ue,{className:o(t?"w-3 h-3":"w-4 h-4"),style:{color:"#10b981"}}),e.jsx("span",{children:"Certificado SSL"})]})]})]})]}),e.jsx("div",{className:o("h-px",t?"my-4":"my-6"),style:{backgroundColor:a.footerTextColor?`${a.footerTextColor}20`:"#e5e7eb"}}),e.jsxs("div",{className:o("text-center",t?"text-xs":"text-sm"),children:[e.jsxs("p",{children:["¬© ",new Date().getFullYear()," ",a.showStoreName?p:"Todos os direitos reservados"]}),e.jsxs("p",{className:o("mt-1 opacity-70",t?"text-[10px]":"text-xs"),children:["Powered by"," ",e.jsx("a",{href:"https://syncads.com.br",target:"_blank",rel:"noopener noreferrer",className:"hover:underline font-medium",style:c,children:"SyncAds"})]})]})]})})},Ke=({orderBump:a,theme:t,selected:l=!1,onToggle:s,className:F=""})=>{const[p,d]=N.useState(!1);if(!t.orderBumpEnabled)return null;const C=a.originalPrice?Math.round((a.originalPrice-a.price)/a.originalPrice*100):0,b={backgroundColor:t.orderBumpBackgroundColor||"#ffffff",borderColor:l?t.primaryButtonBackgroundColor||"#8b5cf6":t.orderBumpBorderColor||"#e5e7eb",borderWidth:`${t.orderBumpBorderWidth||2}px`,borderRadius:`${t.orderBumpBorderRadius||12}px`,boxShadow:t.orderBumpShadow?l?`0 8px 30px ${t.primaryButtonBackgroundColor||"#8b5cf6"}30`:"0 4px 6px rgba(0, 0, 0, 0.1)":"none",transition:"all 0.3s ease"},v={backgroundColor:t.orderBumpButtonBackgroundColor||"#8b5cf6",color:t.orderBumpButtonTextColor||"#ffffff",borderRadius:`${(t.orderBumpBorderRadius||12)-4}px`},B=()=>{s(a.id)};return e.jsxs(u.div,{className:o("relative border cursor-pointer overflow-hidden",F),style:b,onClick:B,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.3},children:[(C>0||a.badge)&&e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsxs(u.div,{className:"px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",style:{backgroundColor:t.discountTagBackgroundColor||"#ef4444",color:t.discountTagTextColor||"#ffffff"},initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.5,delay:.2},children:[e.jsx(Xe,{className:"w-3 h-3"}),e.jsx("span",{children:a.badge||`-${C}%`})]})}),e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx(u.div,{className:o("w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",l?"bg-green-500 border-green-500":"bg-white border-gray-300"),whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Y,{children:l&&e.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:e.jsx(te,{className:"w-4 h-4 text-white"})})})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[a.image&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:t.orderBumpTextColor||"#111827"},children:a.title}),e.jsx("p",{className:"text-sm mb-3",style:{color:t.orderBumpTextColor?`${t.orderBumpTextColor}80`:"#6b7280"},children:a.description})]})]}),a.bullets&&a.bullets.length>0&&e.jsx("div",{className:"mb-4 space-y-2",children:a.bullets.slice(0,3).map((D,c)=>e.jsxs(u.div,{className:"flex items-start gap-2 text-sm",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*c},children:[e.jsx(Ie,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:t.orderBumpPriceColor||"#8b5cf6"}}),e.jsx("span",{style:{color:t.orderBumpTextColor||"#374151"},children:D})]},c))}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[a.originalPrice&&e.jsxs("span",{className:"text-sm line-through opacity-60",style:{color:t.orderBumpTextColor||"#6b7280"},children:["R$ ",a.originalPrice.toFixed(2)]}),e.jsxs("span",{className:"text-2xl font-bold",style:{color:t.orderBumpPriceColor||"#10b981"},children:["R$ ",a.price.toFixed(2)]}),e.jsx("span",{className:"text-sm",style:{color:t.orderBumpTextColor?`${t.orderBumpTextColor}60`:"#9ca3af"},children:"√† vista"})]}),e.jsx(u.button,{className:"w-full py-3 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all",style:v,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D=>{D.stopPropagation(),B()},children:l?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:"Adicionado ao Pedido"})]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"w-5 h-5"}),e.jsx("span",{children:"Adicionar ao Pedido"})]})}),l&&e.jsx(u.p,{className:"text-center text-xs mt-3 font-medium",style:{color:t.orderBumpPriceColor||"#10b981"},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"‚úì Oferta adicionada com sucesso!"})]}),l&&e.jsx(u.div,{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(135deg, ${t.primaryButtonBackgroundColor||"#8b5cf6"}10, transparent)`},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),e.jsx(Y,{children:p&&!l&&e.jsx(u.div,{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(135deg, ${t.orderBumpBorderColor||"#e5e7eb"}20, transparent)`},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})})]})},Qe=({theme:a,className:t="",onExpire:l,customMessage:s,compact:F=!1,showIcon:p=!0})=>{const[d,C]=N.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[b,v]=N.useState(!1);if(!a.useVisible)return null;const B=a.expirationTime||15,D=a.showCountdownTimer!==!1,c=a.urgencyMessageColor||"#ef4444",R=a.urgencyBackgroundColor||"#fee2e2";a.forceRemovalTime;const S=N.useMemo(()=>{const I="checkout_expiration_time",q=localStorage.getItem(I);if(q)return new Date(q);{const y=new Date;return y.setMinutes(y.getMinutes()+B),localStorage.setItem(I,y.toISOString()),y}},[B]),w=()=>{const I=new Date().getTime(),y=S.getTime()-I;if(y<=0)return{days:0,hours:0,minutes:0,seconds:0,total:0};const _=Math.floor(y/(1e3*60*60*24)),E=Math.floor(y%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(y%(1e3*60*60)/(1e3*60)),P=Math.floor(y%(1e3*60)/1e3);return{days:_,hours:E,minutes:k,seconds:P,total:y}};N.useEffect(()=>{const I=setInterval(()=>{const q=w();C(q),q.total<=0&&!b&&(v(!0),l&&l())},1e3);return C(w()),()=>clearInterval(I)},[S,b,l]);const n=()=>{if(s)return s;const{total:I,minutes:q}=d;return I<=0?"‚ö†Ô∏è Oferta expirada! Recarregue a p√°gina para nova tentativa.":q<=2?"üî• √öLTIMOS MINUTOS! Complete sua compra agora!":q<=5?"‚è∞ Restam poucos minutos! Garanta sua oferta!":q<=10?"‚ö° Oferta por tempo limitado! N√£o perca!":"üéØ Oferta especial expira em breve!"},$=I=>I.toString().padStart(2,"0"),m=(()=>{const{minutes:I,total:q}=d;return q<=0||I<=2?"high":I<=5?"medium":"low"})(),g={backgroundColor:R,borderLeft:`4px solid ${c}`},O={color:c},A={scale:[1,1.05,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},W={scale:[1,1.08,1],opacity:[1,.9,1],transition:{duration:1,repeat:1/0,ease:"easeInOut"}};return F?e.jsxs(u.div,{className:o("inline-flex items-center gap-2 px-3 py-1 rounded-lg",t),style:g,animate:m==="high"?W:{},children:[p&&e.jsx(Re,{className:"w-4 h-4",style:{color:c}}),D&&e.jsxs("span",{className:"font-mono font-semibold text-sm",style:O,children:[$(d.minutes),":",$(d.seconds)]})]}):e.jsx(Y,{children:e.jsx(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:o("w-full overflow-hidden",t),children:e.jsxs(u.div,{className:"p-4 rounded-lg shadow-md",style:g,animate:m==="high"?W:A,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p&&e.jsx("div",{className:"flex-shrink-0",children:m==="high"?e.jsx(Q,{className:"w-6 h-6",style:{color:c}}):m==="medium"?e.jsx(Ae,{className:"w-6 h-6",style:{color:c}}):e.jsx(Le,{className:"w-6 h-6",style:{color:c}})}),e.jsx("p",{className:"font-semibold text-sm md:text-base flex-1",style:O,children:n()})]}),D&&!b&&e.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-4",children:[d.days>0&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(u.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:c},children:$(d.days)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:O,children:"Dias"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(u.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0,delay:.1},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:c},children:$(d.hours)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:O,children:"Horas"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(u.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0,delay:.2},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:c},children:$(d.minutes)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:O,children:"Min"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(u.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:c},children:$(d.seconds)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:O,children:"Seg"})]})]}),b&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-4",children:[e.jsx(Q,{className:"w-12 h-12 mx-auto mb-2",style:{color:c}}),e.jsx("p",{className:"font-bold text-lg",style:O,children:"Oferta Expirada"}),e.jsx("p",{className:"text-sm mt-1",style:{color:c,opacity:.8},children:"Recarregue a p√°gina para tentar novamente"})]})]})})})},Ze=({currentStep:a,totalSteps:t=3,theme:l,className:s="",labels:F,showLabels:p=!0,vertical:d=!1})=>{if(!l.showProgressBar)return null;const C=l.progressBarColor||"#8b5cf6",b=l.stepActiveColor||"#8b5cf6",v=l.stepInactiveColor||"#d1d5db",B=l.stepCompletedColor||"#10b981",D=l.nextStepStyle||"rounded",c=l.navigationSteps||3,S=F||["Dados","Entrega","Pagamento"],w=[];if(c===1)w.push({number:1,label:"Checkout",icon:ne,completed:a>1,active:a===1});else{const m=[le,ve,ne];for(let g=1;g<=t;g++)w.push({number:g,label:S[g-1]||`Step ${g}`,icon:m[g-1]||le,completed:a>g,active:a===g})}const n=(a-1)/(t-1)*100,$=()=>{switch(D){case"square":return"rounded-none";case"pill":return"rounded-full";case"rounded":default:return"rounded-lg"}},j=m=>m.completed?B:m.active?b:v;return d?e.jsx("div",{className:o("flex flex-col gap-4",s),children:w.map((m,g)=>{const O=m.icon,A=j(m),W=g===w.length-1;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u.div,{className:o("flex-shrink-0 w-10 h-10 flex items-center justify-center",$(),"font-semibold transition-all duration-300"),style:{backgroundColor:A,color:"#ffffff"},initial:{scale:0},animate:{scale:1},transition:{delay:g*.1},children:m.completed?e.jsx(te,{className:"w-5 h-5"}):e.jsx(O,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[p&&e.jsx(u.p,{className:"font-medium text-sm mb-1",style:{color:m.active||m.completed?A:"#6b7280"},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.1+.05},children:m.label}),!W&&e.jsxs("div",{className:"relative h-12 ml-5",children:[e.jsx("div",{className:"absolute w-0.5 h-full",style:{backgroundColor:v}}),(m.completed||m.active)&&e.jsx(u.div,{className:"absolute w-0.5 h-full",style:{backgroundColor:C},initial:{height:0},animate:{height:"100%"},transition:{duration:.5,delay:g*.1}})]})]})]},m.number)})}):e.jsx("div",{className:o("w-full",s),children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-5 left-0 w-full h-1 rounded-full",style:{backgroundColor:v}}),e.jsx(u.div,{className:"absolute top-5 left-0 h-1 rounded-full",style:{backgroundColor:C},initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5,ease:"easeInOut"}}),e.jsx("div",{className:"relative flex justify-between",children:w.map((m,g)=>{const O=m.icon,A=j(m);return e.jsxs(u.div,{className:"flex flex-col items-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:[e.jsx(u.div,{className:o("w-10 h-10 flex items-center justify-center",$(),"font-semibold shadow-md transition-all duration-300"),style:{backgroundColor:A,color:"#ffffff"},whileHover:{scale:1.1},whileTap:{scale:.95},children:m.completed?e.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:e.jsx(te,{className:"w-5 h-5"})}):e.jsx(O,{className:"w-5 h-5"})}),p&&e.jsx(u.p,{className:"mt-2 text-xs md:text-sm font-medium text-center",style:{color:m.active||m.completed?A:"#6b7280"},initial:{opacity:0},animate:{opacity:1},transition:{delay:g*.1+.2},children:m.label})]},m.number)})})]}),t>3&&e.jsxs("div",{className:"mt-6 md:hidden",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",style:{color:b},children:["Passo ",a," de ",t]}),e.jsxs("span",{className:"text-sm font-semibold",style:{color:b},children:[Math.round(n),"%"]})]}),e.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden",style:{backgroundColor:v},children:e.jsx(u.div,{className:"h-full rounded-full",style:{backgroundColor:C},initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5,ease:"easeInOut"}})})]})]})})},et=({theme:a,storeName:t="Minha Loja",storeUrl:l,className:s="",showBackground:F=!1,compact:p=!1})=>{const[d,C]=N.useState(!1),[b,v]=N.useState(!0);if(!a.showLogoAtTop)return null;const B=a.logoUrl,D=a.logoAlignment||"center",c=a.logoWidth||180,R=a.logoHeight||60,S=a.backgroundColor||"#ffffff",w=a.textColor||"#1f2937",n=()=>{switch(D){case"left":return"justify-start";case"right":return"justify-end";case"center":default:return"justify-center"}},$=()=>{C(!0),v(!1)},j=()=>{v(!1)},m=()=>e.jsxs(u.div,{className:"flex items-center gap-3",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:a.primaryButtonBackgroundColor||"#8b5cf6"},children:e.jsx(Oe,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold",style:{color:w},children:t})]}),g=()=>e.jsx("div",{className:"animate-pulse rounded-lg flex items-center justify-center",style:{width:c,height:R,backgroundColor:a.cardBackgroundColor||"#f3f4f6"},children:e.jsx(Ve,{className:"w-8 h-8 text-gray-400"})}),A=!B||d?m():e.jsxs(u.div,{className:"relative",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:c},children:[b&&g(),e.jsx("img",{src:B,alt:`${t} Logo`,className:o("object-contain transition-opacity duration-300",b?"opacity-0 absolute inset-0":"opacity-100"),style:{width:p?c*.7:c,height:p?R*.7:R,maxWidth:"100%"},onError:$,onLoad:j,loading:"eager"})]}),W=l?e.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-block transition-transform hover:scale-105 active:scale-95","aria-label":`Visitar ${t}`,children:A}):A;return e.jsx(u.header,{className:o("w-full transition-all duration-300",F?"shadow-sm":"",p?"py-3":"py-4 md:py-6",s),style:{backgroundColor:F?S:"transparent"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:o("flex items-center",n()),children:W})})})},tt=({theme:a,birthDate:t="",gender:l="",onBirthDateChange:s,onGenderChange:F,className:p="",errors:d={}})=>{const[C,b]=N.useState(null),[v,B]=N.useState({birthDate:{isValid:!0,message:""},gender:{isValid:!0,message:""}}),D=a.requestBirthDate||!1,c=a.requestGender||!1;if(!D&&!c)return null;const R=a.inputBorderColor||"#d1d5db",S=a.inputFocusBorderColor||"#8b5cf6",w=a.inputBackgroundColor||"#ffffff",n=a.inputHeight||48,$=a.inputBorderRadius||8,j=a.labelColor||"#374151",m=a.labelFontWeight||"600",g=a.placeholderColor||"#9ca3af",O=a.textColor||"#1f2937",A=[{value:"",label:"Selecione seu g√™nero"},{value:"masculino",label:"Masculino"},{value:"feminino",label:"Feminino"},{value:"outro",label:"Outro"},{value:"prefiro-nao-informar",label:"Prefiro n√£o informar"}],W=f=>{const h=f.replace(/\D/g,"");let T=h;return h.length>=3&&(T=`${h.slice(0,2)}/${h.slice(2)}`),h.length>=5&&(T=`${h.slice(0,2)}/${h.slice(2,4)}/${h.slice(4,8)}`),T},I=f=>{if(!f||f.length<10)return{isValid:!1,message:"Data de nascimento incompleta"};const[h,T,J]=f.split("/").map(Number);if(!h||!T||!J)return{isValid:!1,message:"Data inv√°lida"};if(h<1||h>31)return{isValid:!1,message:"Dia inv√°lido"};if(T<1||T>12)return{isValid:!1,message:"M√™s inv√°lido"};const ie=new Date().getFullYear();if(J<1900||J>ie)return{isValid:!1,message:"Ano inv√°lido"};const re=new Date(J,T-1,h),H=new Date;let Z=H.getFullYear()-re.getFullYear();const se=H.getMonth()-re.getMonth();return(se<0||se===0&&H.getDate()<re.getDate())&&Z--,Z<18?{isValid:!1,message:"Voc√™ precisa ter pelo menos 18 anos"}:Z>120?{isValid:!1,message:"Data de nascimento inv√°lida"}:{isValid:!0,message:"Data v√°lida"}},q=f=>{const h=W(f.target.value);if(s&&s(h),h.length===10){const T=I(h);B(J=>({...J,birthDate:T}))}else B(T=>({...T,birthDate:{isValid:!0,message:""}}))},y=f=>{const h=f.target.value;F&&F(h),B(T=>({...T,gender:{isValid:h!=="",message:h===""?"Selecione uma op√ß√£o":""}}))},_=(f,h)=>({backgroundColor:w,borderColor:h?"#ef4444":C===f?S:R,borderRadius:`${$}px`,height:`${n}px`,color:O,borderWidth:"2px",borderStyle:"solid"}),E={color:j,fontWeight:m},k={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},P=()=>{if(!D)return null;const f=!v.birthDate.isValid||!!d.birthDate,h=d.birthDate||v.birthDate.message,T=v.birthDate.isValid&&t.length===10;return e.jsxs(u.div,{...k,className:"space-y-2",children:[e.jsxs("label",{htmlFor:"birthDate",className:"block text-sm font-semibold",style:E,children:["Data de Nascimento",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(qe,{className:"w-5 h-5",style:{color:C==="birthDate"?S:g}})}),e.jsx("input",{type:"text",id:"birthDate",value:t,onChange:q,onFocus:()=>b("birthDate"),onBlur:()=>b(null),placeholder:"DD/MM/AAAA",maxLength:10,className:o("w-full pl-10 pr-10 font-medium transition-all duration-200","focus:outline-none focus:ring-0",f&&"border-red-500"),style:_("birthDate",f),autoComplete:"bday"}),e.jsx(Y,{children:t.length===10&&e.jsx(u.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:T?e.jsx(te,{className:"w-5 h-5 text-green-500"}):e.jsx(Q,{className:"w-5 h-5 text-red-500"})})})]}),e.jsxs(Y,{children:[f&&h&&e.jsxs(u.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),h]}),!f&&!t&&C==="birthDate"&&e.jsx(u.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-xs",style:{color:g},children:"Digite sua data de nascimento no formato DD/MM/AAAA"})]})]})},M=()=>{if(!c)return null;const f=!v.gender.isValid||!!d.gender,h=d.gender||v.gender.message;return e.jsxs(u.div,{...k,transition:{delay:.1},className:"space-y-2",children:[e.jsxs("label",{htmlFor:"gender",className:"block text-sm font-semibold",style:E,children:["G√™nero",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(le,{className:"w-5 h-5",style:{color:C==="gender"?S:g}})}),e.jsx("select",{id:"gender",value:l,onChange:y,onFocus:()=>b("gender"),onBlur:()=>b(null),className:o("w-full pl-10 pr-4 font-medium transition-all duration-200","focus:outline-none focus:ring-0 appearance-none cursor-pointer",f&&"border-red-500"),style:_("gender",f),autoComplete:"sex",children:A.map(T=>e.jsx("option",{value:T.value,children:T.label},T.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5",style:{color:C==="gender"?S:g},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),e.jsx(Y,{children:f&&h&&e.jsxs(u.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),h]})})]})};return e.jsxs("div",{className:o("space-y-4",p),children:[P(),M()]})},at=({injectedOrderId:a,injectedTheme:t,previewMode:l=!1,isMobile:s=!1})=>{var pe;const{orderId:F}=Ee(),p=a||F,d=De(),{toast:C}=Pe(),[b,v]=N.useState(!0),[B,D]=N.useState(!1),[c,R]=N.useState(null),[S,w]=N.useState(null),[n,$]=N.useState(me),[j,m]=N.useState(1),[g,O]=N.useState({name:"Minha Loja",email:"contato@loja.com",phone:"(11) 99999-9999",address:"S√£o Paulo, SP - Brasil"}),[A,W]=N.useState([]),[I,q]=N.useState([]),[y,_]=N.useState({name:"",email:"",phone:"",document:""}),[E,k]=N.useState({zipCode:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}),[P,M]=N.useState("PIX"),[f,h]=N.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvv:""}),[T,J]=N.useState(""),[ie,re]=N.useState(""),H=n.navigationSteps||3,Z=()=>`${n.cardBorderRadius||16}px`,se=()=>n.fontFamily||"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif";se(),N.useEffect(()=>{p&&we()},[p]);const we=async()=>{var r;try{v(!0),console.log("üîç [DEBUG] loadCheckoutData iniciado"),console.log("üîç [DEBUG] orderId:",p),console.log("üîç [DEBUG] injectedOrderId:",a),console.log("üîç [DEBUG] previewMode:",l);const{data:x,error:V}=await L.from("Order").select("*").eq("id",p).single();if(console.log("üîç [DEBUG] Query result:",{order:x,error:V}),V||!x)throw console.error("‚ùå [DEBUG] Erro ao buscar pedido:",V),new Error("Pedido n√£o encontrado");console.log("‚úÖ [DEBUG] Pedido encontrado:",{id:x.id,orderNumber:x.orderNumber,items:x.items,metadata:x.metadata});const K=Array.isArray(x.items)?x.items:[],oe=Array.isArray((r=x.metadata)==null?void 0:r.originalProducts)?x.metadata.originalProducts:[];console.log("üîç [DEBUG] Items processados:",{itemsCount:K.length,originalProductsCount:oe.length,firstItem:K[0],firstOriginal:oe[0]});const X={orderId:x.id,products:K.map((i,G)=>{console.log(`üîç [DEBUG] Processando item ${G}:`,i);const z=oe.find(ce=>String(ce==null?void 0:ce.id)===String(i==null?void 0:i.productId));console.log(`üîç [DEBUG] Original encontrado para item ${G}:`,z);const he={id:(i==null?void 0:i.productId)||(i==null?void 0:i.id)||`temp-${G}`,name:(i==null?void 0:i.name)||(z==null?void 0:z.name)||(z==null?void 0:z.title)||"Produto",price:Number(i==null?void 0:i.price)||Number(i==null?void 0:i.total)||0,quantity:Number(i==null?void 0:i.quantity)||1,image:(i==null?void 0:i.image)||(z==null?void 0:z.image)||Array.isArray(z==null?void 0:z.images)&&z.images[0]||""};return console.log(`‚úÖ [DEBUG] Produto final ${G}:`,he),he}),total:Number(x.total)||0,subtotal:Number(x.subtotal)||0,shipping:Number(x.shipping)||0,discount:Number(x.discount)||0};console.log("‚úÖ [DEBUG] CheckoutInfo criado:",X),console.log("üìù [DEBUG] Setando checkoutData e orderData"),R(X),w(x),console.log("üîç [DEBUG] Verificando paymentMethod:",x.paymentMethod);const ee=x.paymentMethod;if(ee&&(ee==="PIX"||ee==="CREDIT_CARD"||ee==="BOLETO")&&M(ee),t)$({...me,...t});else if(x.userId)try{const i=await He.loadCustomization(x.userId);i!=null&&i.theme&&$({...me,...i.theme})}catch{console.log("Usando tema padr√£o")}if(x.userId){try{const{data:i,error:G}=await L.from("User").select("name, email, phone, cnpj, cpf, address").eq("id",x.userId).single();!G&&i&&O({name:(i==null?void 0:i.name)||"Minha Loja",email:(i==null?void 0:i.email)||"contato@loja.com",phone:(i==null?void 0:i.phone)||"(11) 99999-9999",cnpj:(i==null?void 0:i.cnpj)||"",cpf:(i==null?void 0:i.cpf)||"",address:(i==null?void 0:i.address)||"S√£o Paulo, SP - Brasil"})}catch(i){console.log("Erro ao carregar dados da loja:",i)}try{const{data:i,error:G}=await L.from("OrderBump").select("*").eq("userId",x.userId).eq("isActive",!0).order("order",{ascending:!0});!G&&i&&W(i)}catch(i){console.log("Erro ao carregar order bumps:",i)}}}catch(x){console.error("‚ùå [DEBUG] Erro ao carregar checkout:",x),console.error("‚ùå [DEBUG] Stack trace:",x.stack),C({title:"Erro ao carregar checkout",description:x.message||"N√£o foi poss√≠vel carregar os dados do pedido",variant:"destructive"})}finally{console.log("üèÅ [DEBUG] loadCheckoutData finalizado"),v(!1)}},Ne=r=>{q(x=>x.includes(r)?x.filter(V=>V!==r):[...x,r])},ke=()=>A.filter(r=>I.includes(r.id)).reduce((r,x)=>r+Number(x.price||0),0),Be=((c==null?void 0:c.total)||0)+ke(),Fe=()=>{H===1?xe():j<3?(m(j+1),window.scrollTo({top:0,behavior:"smooth"})):xe()},Se=()=>{j>1&&(m(j-1),window.scrollTo({top:0,behavior:"smooth"}))},xe=async()=>{if(!(!p||!c)){D(!0);try{const{error:r}=await L.from("Order").update({customerName:y.name,customerEmail:y.email,customerPhone:y.phone,customerCpf:Me(y.document),shippingAddress:E,paymentMethod:P,updatedAt:new Date().toISOString()}).eq("id",p);if(r)throw r;const{data:x}=await L.from("GatewayConfig").select(`
          *,
          gateway:Gateway(*)
        `).eq("userId",S.userId).eq("isActive",!0);if(!x||x.length===0)throw new Error("Nenhum gateway de pagamento configurado");let V=null;for(const i of x){const G=i.gateway;if(!G)continue;const z=i.isDefault||!1;if(P==="PIX"&&G.supportsPix){if(V=i,z)break}else if(P==="CREDIT_CARD"&&G.supportsCreditCard){if(V=i,z)break}else if(P==="BOLETO"&&G.supportsBoleto&&(V=i,z))break}if(!V)throw new Error(`Gateway de ${P} n√£o configurado`);const{data:K,error:oe}=await L.from("Transaction").insert({orderId:p,gatewayId:V.gatewayId,userId:S.userId,amount:c.total,status:"PENDING",paymentMethod:P,metadata:{customerData:y,addressData:E,cardData:P==="CREDIT_CARD"?f:null}}).select().single();if(oe||!K)throw new Error("Erro ao criar transa√ß√£o");const{data:X,error:ee}=await L.functions.invoke("process-payment",{body:{transactionId:K.id,gatewaySlug:V.gateway.slug,paymentMethod:P,amount:c.total,customerData:y,addressData:E,cardData:P==="CREDIT_CARD"?f:null}});if(ee||!(X!=null&&X.success))throw new Error((X==null?void 0:X.error)||"Erro ao processar pagamento");d(P==="PIX"?`/pix/${p}/${K.id}`:`/checkout/success/${K.id}`)}catch(r){console.error("Erro ao processar pagamento:",r),C({title:"Erro no pagamento",description:r.message||"Tente novamente",variant:"destructive"})}finally{D(!1)}}};return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#f9fafb"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(je,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando checkout..."})]})}):!c||!c.products||!Array.isArray(c.products)?(console.error("‚ùå [DEBUG] checkoutData inv√°lido:",c),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"bg-white shadow-lg p-8 max-w-md w-full text-center",style:{borderRadius:Z()},children:[e.jsx(Q,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Pedido n√£o encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"N√£o foi poss√≠vel carregar os dados do pedido."}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Voltar"})]})})):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:n.backgroundColor||"#f9fafb",fontFamily:se()},children:[n.noticeBarEnabled&&n.noticeBarMessage&&e.jsx("div",{className:"py-3 px-4 text-center text-sm font-medium",style:{backgroundColor:n.noticeBarBackgroundColor||"#8b5cf6",color:n.noticeBarTextColor||"#ffffff"},children:n.noticeBarMessage}),e.jsx(et,{theme:n,storeName:g.name,storeUrl:S==null?void 0:S.storeUrl,showBackground:!0}),n.bannerEnabled&&n.bannerImage&&e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx("img",{src:n.bannerImage,alt:"Banner",className:"w-full object-cover",style:{maxHeight:n.bannerHeight||"200px"}})}),e.jsx(Qe,{theme:n,className:"max-w-7xl mx-auto px-4 mt-6"}),e.jsx(Ze,{currentStep:j,totalSteps:3,theme:n,showLabels:!0}),e.jsx("div",{className:o("mx-auto py-6",s?"px-2 max-w-full":"px-4 max-w-7xl"),children:e.jsxs("div",{className:o("grid gap-4",s?"grid-cols-1":"grid-cols-1 lg:grid-cols-3 gap-6"),children:[e.jsx("div",{className:o(s?"":"lg:col-span-2"),children:e.jsxs(u.div,{className:o("bg-white shadow-lg",s?"p-3":"p-6"),style:{borderRadius:Z(),backgroundColor:n.cardBackgroundColor||"#ffffff"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:o(s?"mb-3":"mb-6"),children:[e.jsx("h1",{className:o("font-bold mb-1",s?"text-lg":"text-2xl"),style:{color:n.headingColor||"#111827"},children:H===1?"Finalizar Pedido":j===1?"Seus Dados":j===2?"Endere√ßo":"Pagamento"}),e.jsx("p",{className:"text-sm",style:{color:n.textColor||"#6b7280"},children:"Preencha as informa√ß√µes para continuar"})]}),e.jsxs(Y,{mode:"wait",children:[(H===1||j===1)&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[e.jsx(U,{label:"Nome Completo",type:"text",value:y.name,onChange:r=>_({...y,name:r.target.value}),theme:n,icon:e.jsx(le,{className:"w-5 h-5"}),placeholder:"Seu nome completo",required:!0}),e.jsxs("div",{className:o("grid gap-4",s?"grid-cols-1":"grid-cols-1 md:grid-cols-2"),children:[e.jsx(U,{label:"E-mail",type:"email",value:y.email,onChange:r=>_({...y,email:r.target.value}),theme:n,icon:e.jsx(Ce,{className:"w-5 h-5"}),placeholder:"seu@email.com",required:!0}),e.jsx(U,{label:"Telefone",type:"tel",value:y.phone,onChange:r=>_({...y,phone:r.target.value}),theme:n,icon:e.jsx(be,{className:"w-5 h-5"}),placeholder:"(11) 99999-9999",mask:"phone",required:!0})]}),e.jsx(U,{label:"CPF",type:"text",value:y.document,onChange:r=>_({...y,document:r.target.value}),theme:n,icon:e.jsx(We,{className:"w-5 h-5"}),placeholder:"000.000.000-00",mask:"cpf",required:!0}),e.jsx(tt,{theme:n,birthDate:T,gender:ie,onBirthDateChange:J,onGenderChange:re,className:"mt-4"})]},"step1"),(H===1||j===2)&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:H===1?"mt-6 space-y-4":"space-y-4",children:[H===1&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Endere√ßo de Entrega"}),e.jsxs("div",{className:o("grid gap-4",s?"grid-cols-1":"grid-cols-1 md:grid-cols-3"),children:[e.jsx(U,{label:"CEP",type:"text",value:E.zipCode,onChange:r=>k({...E,zipCode:r.target.value}),theme:n,placeholder:"00000-000",mask:"cep",required:!0}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{label:"Rua",type:"text",value:E.street,onChange:r=>k({...E,street:r.target.value}),theme:n,placeholder:"Nome da rua",required:!0})})]}),e.jsxs("div",{className:o("grid gap-3",s?"grid-cols-2":"grid-cols-2 md:grid-cols-4 gap-4"),children:[e.jsx(U,{label:"N√∫mero",type:"text",value:E.number,onChange:r=>k({...E,number:r.target.value}),theme:n,placeholder:"123",required:!0}),e.jsx("div",{className:"col-span-1 md:col-span-3",children:e.jsx(U,{label:"Complemento",type:"text",value:E.complement,onChange:r=>k({...E,complement:r.target.value}),theme:n,placeholder:"Apto, bloco..."})})]}),e.jsx(U,{label:"Bairro",type:"text",value:E.neighborhood,onChange:r=>k({...E,neighborhood:r.target.value}),theme:n,placeholder:"Seu bairro",required:!0}),e.jsxs("div",{className:o("grid",s?"grid-cols-1 gap-3":"grid-cols-2 gap-4"),children:[e.jsx(U,{label:"Cidade",type:"text",value:E.city,onChange:r=>k({...E,city:r.target.value}),theme:n,placeholder:"Cidade",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:n.labelColor||"#111827"},children:"Estado *"}),e.jsxs("select",{value:E.state,onChange:r=>k({...E,state:r.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none transition-all",style:{backgroundColor:n.inputBackgroundColor||"#ffffff",borderColor:n.inputBorderColor||"#d1d5db",borderRadius:`${n.inputBorderRadius||8}px`,height:`${n.inputHeight||48}px`,color:n.textColor||"#111827"},children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"SP",children:"SP"}),e.jsx("option",{value:"RJ",children:"RJ"}),e.jsx("option",{value:"MG",children:"MG"}),e.jsx("option",{value:"RS",children:"RS"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"PR",children:"PR"})]})]})]})]},"step2"),(H===1||j===3)&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:H===1?"mt-6 space-y-4":"space-y-4",children:[H===1&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Forma de Pagamento"}),e.jsxs("div",{className:o("grid gap-3",s?"grid-cols-1":"grid-cols-3"),children:[e.jsx("button",{onClick:()=>M("PIX"),className:`p-4 rounded-lg border-2 font-semibold transition ${P==="PIX"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"PIX"}),e.jsx("button",{onClick:()=>M("CREDIT_CARD"),className:`p-4 rounded-lg border-2 font-semibold transition ${P==="CREDIT_CARD"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"Cart√£o"}),e.jsx("button",{onClick:()=>M("BOLETO"),className:`p-4 rounded-lg border-2 font-semibold transition ${P==="BOLETO"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"Boleto"})]}),P==="CREDIT_CARD"&&e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsx(U,{label:"N√∫mero do Cart√£o",type:"text",value:f.number,onChange:r=>h({...f,number:r.target.value}),theme:n,icon:e.jsx(ne,{className:"w-5 h-5"}),placeholder:"0000 0000 0000 0000",mask:"card",required:!0}),e.jsx(U,{label:"Nome no Cart√£o",type:"text",value:f.holderName,onChange:r=>h({...f,holderName:r.target.value}),theme:n,placeholder:"Nome como est√° no cart√£o",required:!0}),e.jsxs("div",{className:o("grid gap-3",s?"grid-cols-2":"grid-cols-3 gap-4"),children:[e.jsx(U,{label:"M√™s",type:"text",value:f.expiryMonth,onChange:r=>h({...f,expiryMonth:r.target.value}),theme:n,placeholder:"MM",maxLength:2,required:!0}),e.jsx(U,{label:"Ano",type:"text",value:f.expiryYear,onChange:r=>h({...f,expiryYear:r.target.value}),theme:n,placeholder:"AA",maxLength:2,required:!0}),e.jsx(U,{label:"CVV",type:"text",value:f.cvv,onChange:r=>h({...f,cvv:r.target.value}),theme:n,placeholder:"123",maxLength:4,required:!0})]})]}),P==="PIX"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:e.jsx("p",{className:"text-sm text-green-800",children:"‚úÖ Ap√≥s clicar em finalizar, voc√™ receber√° o QR Code do PIX"})}),P==="BOLETO"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"‚ÑπÔ∏è O boleto ser√° gerado ap√≥s a finaliza√ß√£o"})})]},"step3")]}),n.orderBumpEnabled&&A.length>0&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:n.headingColor||"#111827"},children:"üéÅ Aproveite essa oferta especial!"}),A.map(r=>e.jsx(Ke,{orderBump:{id:r.id,title:r.title,description:r.description,originalPrice:r.originalPrice,price:r.price,image:r.image,badge:r.badge,bullets:r.bullets||[]},theme:n,selected:I.includes(r.id),onToggle:Ne},r.id))]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[H===3&&j>1&&e.jsx(ye,{onClick:Se,variant:"secondary",theme:n,icon:e.jsx(Ge,{className:"w-5 h-5"}),iconPosition:"left",fullWidth:!0,children:"Voltar"}),e.jsx(ye,{onClick:Fe,disabled:B,loading:B,variant:H===1||j===3?"checkout":"primary",theme:n,icon:H===1||j===3?e.jsx(fe,{className:"w-5 h-5"}):void 0,iconPosition:"left",fullWidth:!0,size:"lg",children:H===1||j===3?"Finalizar Compra":"Continuar"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t flex items-center justify-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Compra Segura"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"SSL Certificado"})]})]})]})}),e.jsx("div",{className:o(s?"":"lg:col-span-1"),children:e.jsxs(u.div,{className:o("bg-white shadow-lg",s?"p-3":"p-6 sticky top-6"),style:{borderRadius:Z(),backgroundColor:n.cardBackgroundColor||"#ffffff"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("h2",{className:o("font-bold mb-3 flex items-center gap-2",s?"text-base":"text-xl mb-4"),style:{color:n.headingColor||"#111827"},children:[e.jsx(ge,{className:o(s?"w-4 h-4":"w-5 h-5")}),"Resumo do Pedido"]}),e.jsx("div",{className:o("mb-3",s?"space-y-2":"space-y-3 mb-4"),children:(pe=c==null?void 0:c.products)==null?void 0:pe.filter(r=>r&&r.name).map((r,x)=>e.jsxs("div",{className:o("flex",s?"gap-2":"gap-3"),children:[e.jsx("div",{className:o("rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden",s?"w-12 h-12":"w-16 h-16"),children:r!=null&&r.image?e.jsx("img",{src:r.image,alt:(r==null?void 0:r.name)||"Produto",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ge,{className:o("text-gray-400",s?"w-6 h-6":"w-8 h-8")})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:o("font-semibold truncate",s?"text-xs":"text-sm"),children:(r==null?void 0:r.name)||"Produto"}),e.jsxs("p",{className:o("text-gray-500",s?"text-[10px]":"text-xs"),children:["Qtd: ",(r==null?void 0:r.quantity)||1]}),e.jsxs("p",{className:o("font-bold text-gray-900",s?"text-xs mt-0.5":"text-sm mt-1"),children:["R$"," ",(((r==null?void 0:r.price)||0)*((r==null?void 0:r.quantity)||1)).toFixed(2)]})]})]},(r==null?void 0:r.id)||x))}),e.jsx("div",{className:o("border-t",s?"my-3":"my-4")}),e.jsxs("div",{className:o(s?"space-y-1.5":"space-y-2"),children:[e.jsxs("div",{className:o("flex justify-between",s?"text-xs":"text-sm"),children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["R$ ",c.subtotal.toFixed(2)]})]}),c.shipping>0&&e.jsxs("div",{className:o("flex justify-between",s?"text-xs":"text-sm"),children:[e.jsx("span",{className:"text-gray-600",children:"Frete"}),e.jsxs("span",{className:"font-medium",children:["R$ ",c.shipping.toFixed(2)]})]}),c.discount&&c.discount>0&&e.jsxs("div",{className:o("flex justify-between text-green-600",s?"text-xs":"text-sm"),children:[e.jsx("span",{children:"Desconto"}),e.jsxs("span",{className:"font-medium",children:["- R$ ",c.discount.toFixed(2)]})]})]}),e.jsx("div",{className:o("border-t",s?"mt-3 pt-3":"mt-4 pt-4"),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:o("font-bold",s?"text-base":"text-lg"),style:{color:n.headingColor||"#111827"},children:"Total"}),e.jsxs("span",{className:o("font-bold",s?"text-xl":"text-3xl"),style:{color:n.primaryButtonBackgroundColor||"#8b5cf6"},children:["R$ ",Be.toFixed(2)]})]})}),I.length>0&&e.jsxs("div",{className:o("border-t",s?"mt-3 pt-3":"mt-4 pt-4"),children:[e.jsx("h4",{className:o("font-semibold",s?"text-xs mb-2":"text-sm mb-3"),style:{color:n.headingColor||"#111827"},children:"Itens Adicionais"}),A.filter(r=>I.includes(r.id)).map(r=>e.jsxs("div",{className:o("flex justify-between",s?"text-xs mb-1.5":"text-sm mb-2"),children:[e.jsx("span",{className:"text-gray-600",children:r.title}),e.jsxs("span",{className:"font-medium text-gray-900",children:["R$ ",Number(r.price||0).toFixed(2)]})]},r.id))]})]})})]})}),e.jsx(Je,{theme:n,isMobile:s,storeData:g||{name:"Minha Loja",email:"contato@loja.com",phone:"(11) 99999-9999",address:"S√£o Paulo, SP - Brasil"}})]})},vt=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));export{me as D,Ve as I,at as P,vt as a,He as c};
