import{U as w,b as R,r as i,j as e,d as F,e as T,f as _,g as B,h as U,V as ae,W as te,X as re,I as S,Y as M,B as L,n as ne,x as oe,P as G,q as ie,v as O,w as H,Z as ce,G as E,C as le,_ as de,$ as he,a0 as ue,a1 as me,a2 as pe,a3 as A}from"./index-49tCWr1j.js";import{L as k}from"./label-DNEVkTQZ.js";import{S as xe}from"./switch-B76uhrEc.js";import{S as X}from"./separator-CBslJoVv.js";import{u as fe}from"./index-KDkaeKNN.js";import{S as ge}from"./shield-check-DfQcVBe9.js";const be=()=>{var j,b;const s=w(h=>h.user),n=w(h=>h.updateUser),{toast:o}=R(),[t,l]=i.useState((s==null?void 0:s.name)||""),[a,m]=i.useState((s==null?void 0:s.email)||""),[c,d]=i.useState((s==null?void 0:s.avatarUrl)||null),[r,x]=i.useState(!1),p=h=>{if(h.target.files&&h.target.files[0]){const C=h.target.files[0],u=new FileReader;u.onloadend=()=>{d(u.result)},u.readAsDataURL(C)}},g=()=>{x(!0),setTimeout(()=>{n({name:t,email:a,avatarUrl:c||(s==null?void 0:s.avatarUrl)}),x(!1),o({title:"Perfil Atualizado!",description:"Suas informações foram salvas com sucesso."})},1e3)};return e.jsxs(F,{className:"border-0 bg-white/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(T,{children:[e.jsx(_,{children:"Perfil"}),e.jsx(B,{children:"Atualize seu avatar e detalhes do perfil."})]}),e.jsxs(U,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ae,{className:"h-20 w-20",children:[e.jsx(te,{src:c||(s==null?void 0:s.avatarUrl)}),e.jsx(re,{children:((b=(j=s==null?void 0:s.name)==null?void 0:j.charAt(0))==null?void 0:b.toUpperCase())||"P"})]}),e.jsxs("div",{className:"grid gap-1.5",children:[e.jsx(k,{htmlFor:"picture",children:"Avatar"}),e.jsx(S,{id:"picture",type:"file",className:"w-full",onChange:p,accept:"image/png, image/jpeg, image/gif"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF até 10MB"})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"name",children:"Nome"}),e.jsx(S,{id:"name",value:t,onChange:h=>l(h.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(S,{id:"email",type:"email",value:a,onChange:h=>m(h.target.value)})]})]}),e.jsx(M,{className:"border-t px-6 py-4",children:e.jsx(L,{onClick:g,loading:r,children:"Salvar Alterações"})})]})},je=()=>{const{toast:s}=R(),n=w(d=>d.isTwoFactorEnabled),o=w(d=>d.setTwoFactorEnabled),[t,l]=i.useState(n),[a,m]=i.useState(!1),c=()=>{m(!0),setTimeout(()=>{o(t),m(!1),s({title:"Segurança Atualizada",description:"Suas configurações de segurança foram salvas com sucesso.",variant:"success"})},1e3)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 p-6 space-y-6",children:e.jsxs(F,{className:"border-0 bg-white/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(T,{children:[e.jsx(_,{children:"Segurança"}),e.jsx(B,{children:"Gerencie sua senha e autenticação de dois fatores."})]}),e.jsxs(U,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"current-password",children:"Senha Atual"}),e.jsx(S,{id:"current-password",type:"password"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"new-password",children:"Nova Senha"}),e.jsx(S,{id:"new-password",type:"password"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),e.jsx(S,{id:"confirm-password",type:"password"})]})]}),e.jsx(X,{}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Autenticação de Dois Fatores (2FA)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurança à sua conta."})]}),e.jsx(xe,{checked:t,onCheckedChange:l})]})]}),e.jsx(M,{className:"border-t px-6 py-4",children:e.jsx(L,{onClick:c,loading:a,children:"Salvar Alterações"})})]})})};var y="Checkbox",[ve]=ne(y),[Ce,z]=ve(y);function ke(s){const{__scopeCheckbox:n,checked:o,children:t,defaultChecked:l,disabled:a,form:m,name:c,onCheckedChange:d,required:r,value:x="on",internal_do_not_use_render:p}=s,[g,j]=ie({prop:o,defaultProp:l??!1,onChange:d,caller:y}),[b,h]=i.useState(null),[C,u]=i.useState(null),f=i.useRef(!1),P=b?!!m||!!b.closest("form"):!0,I={checked:g,disabled:a,setChecked:j,control:b,setControl:h,name:c,form:m,value:x,hasConsumerStoppedPropagationRef:f,required:r,defaultChecked:v(l)?!1:l,isFormControl:P,bubbleInput:C,setBubbleInput:u};return e.jsx(Ce,{scope:n,...I,children:Ne(p)?p(I):t})}var $="CheckboxTrigger",K=i.forwardRef(({__scopeCheckbox:s,onKeyDown:n,onClick:o,...t},l)=>{const{control:a,value:m,disabled:c,checked:d,required:r,setControl:x,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:b}=z($,s),h=O(l,x),C=i.useRef(d);return i.useEffect(()=>{const u=a==null?void 0:a.form;if(u){const f=()=>p(C.current);return u.addEventListener("reset",f),()=>u.removeEventListener("reset",f)}},[a,p]),e.jsx(G.button,{type:"button",role:"checkbox","aria-checked":v(d)?"mixed":d,"aria-required":r,"data-state":Z(d),"data-disabled":c?"":void 0,disabled:c,value:m,...t,ref:h,onKeyDown:H(n,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:H(o,u=>{p(f=>v(f)?!0:!f),b&&j&&(g.current=u.isPropagationStopped(),g.current||u.stopPropagation())})})});K.displayName=$;var D=i.forwardRef((s,n)=>{const{__scopeCheckbox:o,name:t,checked:l,defaultChecked:a,required:m,disabled:c,value:d,onCheckedChange:r,form:x,...p}=s;return e.jsx(ke,{__scopeCheckbox:o,checked:l,defaultChecked:a,disabled:c,required:m,onCheckedChange:r,name:t,form:x,value:d,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(K,{...p,ref:n,__scopeCheckbox:o}),g&&e.jsx(Y,{__scopeCheckbox:o})]})})});D.displayName=y;var V="CheckboxIndicator",J=i.forwardRef((s,n)=>{const{__scopeCheckbox:o,forceMount:t,...l}=s,a=z(V,o);return e.jsx(oe,{present:t||v(a.checked)||a.checked===!0,children:e.jsx(G.span,{"data-state":Z(a.checked),"data-disabled":a.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...s.style}})})});J.displayName=V;var W="CheckboxBubbleInput",Y=i.forwardRef(({__scopeCheckbox:s,...n},o)=>{const{control:t,hasConsumerStoppedPropagationRef:l,checked:a,defaultChecked:m,required:c,disabled:d,name:r,value:x,form:p,bubbleInput:g,setBubbleInput:j}=z(W,s),b=O(o,j),h=fe(a),C=ce(t);i.useEffect(()=>{const f=g;if(!f)return;const P=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(P,"checked").set,ee=!l.current;if(h!==a&&q){const se=new Event("click",{bubbles:ee});f.indeterminate=v(a),q.call(f,v(a)?!1:a),f.dispatchEvent(se)}},[g,h,a,l]);const u=i.useRef(v(a)?!1:a);return e.jsx(G.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??u.current,required:c,disabled:d,name:r,value:x,form:p,...n,tabIndex:-1,ref:b,style:{...n.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Y.displayName=W;function Ne(s){return typeof s=="function"}function v(s){return s==="indeterminate"}function Z(s){return v(s)?"indeterminate":s?"checked":"unchecked"}const Q=i.forwardRef(({className:s,...n},o)=>e.jsx(D,{ref:o,className:E("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:e.jsx(J,{className:E("flex items-center justify-center text-current"),children:e.jsx(le,{className:"h-4 w-4"})})}));Q.displayName=D.displayName;const N=({id:s,title:n,checked:o,onCheckedChange:t})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{id:s,checked:o,onCheckedChange:t}),e.jsx(k,{htmlFor:s,className:"text-sm font-normal",children:n})]}),Se=()=>{const{toast:s}=R(),n=w(r=>r.notificationSettings),o=w(r=>r.updateNotificationSettings),[t,l]=i.useState(n),[a,m]=i.useState(!1);i.useEffect(()=>{l(n)},[n]);const c=(r,x)=>{l(p=>({...p,[r]:x}))},d=()=>{m(!0),setTimeout(()=>{o(t),m(!1),s({title:"Preferências Salvas",description:"Suas configurações de notificação foram atualizadas.",variant:"success"})},1e3)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 p-6 space-y-6",children:e.jsxs(F,{className:"border-0 bg-white/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(T,{children:[e.jsx(_,{children:"Notificações"}),e.jsx(B,{children:"Gerencie como você recebe notificações."})]}),e.jsxs(U,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Notificações por Email"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx(N,{id:"emailSummary",title:"Resumos Semanais de Desempenho",checked:t.emailSummary,onCheckedChange:r=>c("emailSummary",r)}),e.jsx(N,{id:"emailAlerts",title:"Alertas Críticos de Campanha",checked:t.emailAlerts,onCheckedChange:r=>c("emailAlerts",r)}),e.jsx(N,{id:"emailNews",title:"Notícias e Atualizações da Plataforma",checked:t.emailNews,onCheckedChange:r=>c("emailNews",r)})]})]}),e.jsx(X,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Notificações Push"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx(N,{id:"pushMentions",title:"Menções no Chat IA",checked:t.pushMentions,onCheckedChange:r=>c("pushMentions",r)}),e.jsx(N,{id:"pushIntegrations",title:"Status de Conexão de Integrações",checked:t.pushIntegrations,onCheckedChange:r=>c("pushIntegrations",r)}),e.jsx(N,{id:"pushSuggestions",title:"Novas Sugestões da IA",checked:t.pushSuggestions,onCheckedChange:r=>c("pushSuggestions",r)})]})]})]}),e.jsx(M,{className:"border-t px-6 py-4",children:e.jsx(L,{onClick:d,loading:a,children:"Salvar Preferências"})})]})})},we=[{path:"",label:"Perfil",icon:de},{path:"security",label:"Segurança",icon:ge},{path:"notifications",label:"Notificações",icon:he}],Fe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie as configurações da sua conta e preferências."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("nav",{className:"flex flex-col w-full md:w-1/5 shrink-0 gap-1",children:we.map(s=>{const n=s.path?`/settings/${s.path}`:"/settings",o=s.icon;return e.jsxs(ue,{to:n,end:s.path==="",className:({isActive:t})=>E(me({variant:"ghost",size:"default"}),"w-full justify-start text-base md:text-sm h-12",t?"bg-muted hover:bg-muted font-semibold text-primary":"hover:bg-muted/50 text-muted-foreground"),children:[e.jsx(o,{className:"mr-3 h-5 w-5"}),e.jsx("span",{children:s.label})]},s.path)})}),e.jsx("div",{className:"flex-1",children:e.jsxs(pe,{children:[e.jsx(A,{index:!0,element:e.jsx(be,{})}),e.jsx(A,{path:"security",element:e.jsx(je,{})}),e.jsx(A,{path:"notifications",element:e.jsx(Se,{})})]})})]})]});export{Fe as default};
