import{c as s,s as o}from"./index-DVJSl2Ld.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=s("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),h={async saveCustomization(e){try{const{data:t,error:r}=await o.from("CheckoutCustomization").upsert({...e,updatedAt:new Date().toISOString()}).select().single();if(r)throw r;return t}catch(t){throw console.error("Error saving checkout customization:",t),t}},async loadCustomization(e){try{const{data:t,error:r}=await o.from("CheckoutCustomization").select("*").eq("userId",e).eq("isActive",!0).single();if(r&&r.code!=="PGRST116")throw r;return t}catch(t){throw console.error("Error loading checkout customization:",t),t}},async listCustomizations(e){try{const{data:t,error:r}=await o.from("CheckoutCustomization").select("*").eq("userId",e).order("createdAt",{ascending:!1});if(r)throw r;return t}catch(t){throw console.error("Error listing checkout customizations:",t),t}},async activateCustomization(e){try{const t=await o.from("CheckoutCustomization").select("userId").eq("id",e).single();t.data&&await o.from("CheckoutCustomization").update({isActive:!1}).eq("userId",t.data.userId);const{data:r,error:i}=await o.from("CheckoutCustomization").update({isActive:!0,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return r}catch(t){throw console.error("Error activating checkout customization:",t),t}},async deleteCustomization(e){try{const{error:t}=await o.from("CheckoutCustomization").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("Error deleting checkout customization:",t),t}},async duplicateCustomization(e,t){try{const{data:r,error:i}=await o.from("CheckoutCustomization").select("*").eq("id",e).single();if(i)throw i;const{data:c,error:a}=await o.from("CheckoutCustomization").insert({userId:r.userId,name:t,theme:r.theme,isActive:!1}).select().single();if(a)throw a;return c}catch(r){throw console.error("Error duplicating checkout customization:",r),r}},async generatePreviewUrl(e){try{const{data:t,error:r}=await o.from("CheckoutCustomization").insert({userId:e.userId,name:`Preview-${Date.now()}`,theme:e.theme||{},isActive:!1}).select().single();if(r)throw r;return`/checkout/preview/${t.id}`}catch(t){throw console.error("Error generating preview URL:",t),t}},async exportCustomization(e){try{const{data:t,error:r}=await o.from("CheckoutCustomization").select("*").eq("id",e).single();if(r)throw r;return{name:t.name,theme:t.theme,exportedAt:new Date().toISOString(),version:"1.0"}}catch(t){throw console.error("Error exporting checkout customization:",t),t}},async importCustomization(e,t){try{const{data:r,error:i}=await o.from("CheckoutCustomization").insert({userId:e,name:`${t.name} (Importado)`,theme:t.theme,isActive:!1}).select().single();if(i)throw i;return r}catch(r){throw console.error("Error importing checkout customization:",r),r}}};export{u as S,h as c};
