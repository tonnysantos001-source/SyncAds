import{c as h,m as g,e as u,r as t,s as j,j as e,g as p,h as y,O as N,i as f,l as v,n as w,B as n,ac as C}from"./index-ZatFU8eK.js";import{D as b}from"./download-CDXJAvR3.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=h("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),B=()=>{var c;const{transactionId:r}=g(),i=u(),[s,o]=t.useState(null),[d,x]=t.useState(!0);t.useEffect(()=>{r&&m()},[r]);const m=async()=>{try{const{data:a,error:l}=await j.from("Transaction").select("*, Order(*)").eq("id",r).single();if(l)throw l;o(a)}catch(a){console.error("Erro ao carregar transação:",a)}finally{x(!1)}};return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(p,{className:"text-center",children:[e.jsxs(y,{children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(N,{className:"h-8 w-8 text-green-600"})}),e.jsx(f,{className:"text-2xl text-green-600",children:"Pagamento Aprovado!"}),e.jsx("p",{className:"text-gray-600",children:"Seu pagamento foi processado com sucesso"})]}),e.jsxs(v,{className:"space-y-6",children:[s&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"ID da Transação:"}),e.jsx("p",{className:"font-medium",children:s.transactionId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Valor:"}),e.jsxs("p",{className:"font-medium",children:["R$ ",(c=s.amount)==null?void 0:c.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(w,{variant:"outline",className:"bg-green-100 text-green-800",children:s.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Método:"}),e.jsx("p",{className:"font-medium",children:s.paymentMethod})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(n,{onClick:()=>window.print(),variant:"outline",className:"w-full",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Baixar Comprovante"]}),e.jsxs(n,{onClick:()=>{var a;return(a=navigator.share)==null?void 0:a.call(navigator,{title:"Comprovante de Pagamento",text:`Pagamento aprovado - ID: ${r}`})},variant:"outline",className:"w-full",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),e.jsxs(n,{onClick:()=>i("/"),className:"w-full",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Voltar ao Início"]})]})]})]})})})};export{B as default};
