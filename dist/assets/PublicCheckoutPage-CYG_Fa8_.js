import{s as A,c as oe,r as N,j as e,M as c,l as M,i as be,K as Y,C as ae,V as le,m as Se,a as Ee,b as De}from"./index-CMkZeKCG.js";import{C as Q}from"./circle-alert-Cubfgcmx.js";import{F as de}from"./file-text-ZiRCF-E9.js";import{M as je}from"./mail-DOrj1NAI.js";import{P as Ce}from"./phone-CLOp5tlo.js";import{M as ve}from"./map-pin-BwRcA-LC.js";import{S as ue}from"./shield-Dq53A453.js";import{C as ne}from"./credit-card-B4GDgnmF.js";import{S as Pe}from"./smartphone-Dc7XyTC_.js";import{S as Te}from"./sparkles-CKXd2nAX.js";import{P as Ie}from"./plus-Bo94fSQZ.js";import{C as $e}from"./clock-B5uLepyd.js";import{Z as Re}from"./zap-B0kdk6eu.js";import{T as Ae}from"./trending-up-BQOhQ7jI.js";import{S as Me}from"./store-G4QLU62S.js";import{C as Le}from"./calendar-C-sGu8ri.js";import{L as fe}from"./lock-BKaZQupo.js";import{S as Oe}from"./shield-check-DbWJ1fDA.js";import{P as ge}from"./package-lR_1FJFC.js";const qe={async saveCustomization(t){try{const{data:a,error:r}=await A.from("CheckoutCustomization").upsert({...t,updatedAt:new Date().toISOString()}).select().single();if(r)throw r;return a}catch(a){throw console.error("Error saving checkout customization:",a),a}},async loadCustomization(t){try{const{data:a,error:r}=await A.from("CheckoutCustomization").select("*").eq("userId",t).eq("isActive",!0).single();if(r&&r.code!=="PGRST116")throw r;return a}catch(a){throw console.error("Error loading checkout customization:",a),a}},async listCustomizations(t){try{const{data:a,error:r}=await A.from("CheckoutCustomization").select("*").eq("userId",t).order("createdAt",{ascending:!1});if(r)throw r;return a}catch(a){throw console.error("Error listing checkout customizations:",a),a}},async activateCustomization(t){try{const a=await A.from("CheckoutCustomization").select("userId").eq("id",t).single();a.data&&await A.from("CheckoutCustomization").update({isActive:!1}).eq("userId",a.data.userId);const{data:r,error:n}=await A.from("CheckoutCustomization").update({isActive:!0,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(a){throw console.error("Error activating checkout customization:",a),a}},async deleteCustomization(t){try{const{error:a}=await A.from("CheckoutCustomization").delete().eq("id",t);if(a)throw a}catch(a){throw console.error("Error deleting checkout customization:",a),a}},async duplicateCustomization(t,a){try{const{data:r,error:n}=await A.from("CheckoutCustomization").select("*").eq("id",t).single();if(n)throw n;const{data:h,error:g}=await A.from("CheckoutCustomization").insert({userId:r.userId,name:a,theme:r.theme,isActive:!1}).select().single();if(g)throw g;return h}catch(r){throw console.error("Error duplicating checkout customization:",r),r}},async generatePreviewUrl(t){try{const{data:a,error:r}=await A.from("CheckoutCustomization").insert({userId:t.userId,name:`Preview-${Date.now()}`,theme:t.theme||{},isActive:!1}).select().single();if(r)throw r;return`/checkout/preview/${a.id}`}catch(a){throw console.error("Error generating preview URL:",a),a}},async exportCustomization(t){try{const{data:a,error:r}=await A.from("CheckoutCustomization").select("*").eq("id",t).single();if(r)throw r;return{name:a.name,theme:a.theme,exportedAt:new Date().toISOString(),version:"1.0"}}catch(a){throw console.error("Error exporting checkout customization:",a),a}},async importCustomization(t,a){try{const{data:r,error:n}=await A.from("CheckoutCustomization").insert({userId:t,name:`${a.name} (Importado)`,theme:a.theme,isActive:!1}).select().single();if(n)throw n;return r}catch(r){throw console.error("Error importing checkout customization:",r),r}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=oe("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),me={logoUrl:"",faviconUrl:"",logoAlignment:"left",showLogoAtTop:!0,logoWidth:180,logoHeight:50,backgroundColor:"#F9FAFB",backgroundGradient:"linear-gradient(180deg, #F9FAFB 0%, #F3F4F6 100%)",useGradient:!1,textColor:"#1F2937",headingColor:"#111827",noticeBarEnabled:!0,noticeBarMessage:"üéâ FRETE GR√ÅTIS para todo o Brasil em compras acima de R$ 199!",noticeBarBackgroundColor:"#1F2937",noticeBarTextColor:"#FFFFFF",noticeBarAnimation:!0,bannerEnabled:!1,bannerUrl:"",bannerHeight:200,cartDisplay:"drawer",cartBorderColor:"#E5E7EB",cartBackgroundColor:"#FFFFFF",quantityCircleColor:"#8B5CF6",quantityTextColor:"#FFFFFF",showCartIcon:!0,showCartReminder:!0,allowCouponEdit:!0,navigationSteps:3,nextStepStyle:"rounded",showProgressBar:!0,progressBarColor:"#8B5CF6",stepActiveColor:"#8B5CF6",stepInactiveColor:"#D1D5DB",stepCompletedColor:"#10B981",primaryButtonBackgroundColor:"#8B5CF6",primaryButtonTextColor:"#FFFFFF",primaryButtonBorderRadius:12,primaryButtonHover:!0,primaryButtonHoverColor:"#7C3AED",primaryButtonFlow:!0,primaryButtonShadow:!0,checkoutButtonBackgroundColor:"#10B981",checkoutButtonTextColor:"#FFFFFF",checkoutButtonBorderRadius:14,checkoutButtonHover:!0,checkoutButtonHoverColor:"#059669",checkoutButtonFlow:!0,checkoutButtonShadow:!0,checkoutButtonPulse:!0,highlightedBorderColor:"#8B5CF6",highlightedBorderTextColor:"#FFFFFF",highlightedBorderWidth:2,footerBackgroundColor:"#F3F4F6",footerTextColor:"#6B7280",showStoreName:!0,showPaymentMethods:!0,showCnpjCpf:!0,showContactEmail:!0,showAddress:!0,showPhone:!0,showPrivacyPolicy:!0,showTermsConditions:!0,showReturns:!0,footerLinkColor:"#8B5CF6",discountTagTextColor:"#FFFFFF",discountTagBackgroundColor:"#EF4444",discountTagBorderRadius:6,discountTagFontWeight:"700",useVisible:!0,expirationTime:60,forceRemovalTime:90,showCountdownTimer:!0,urgencyMessageColor:"#DC2626",urgencyBackgroundColor:"#FEE2E2",orderBumpEnabled:!0,orderBumpTextColor:"#374151",orderBumpBackgroundColor:"#FFFBEB",orderBumpPriceColor:"#DC2626",orderBumpBorderColor:"#FCD34D",orderBumpBorderWidth:2,orderBumpBorderRadius:12,orderBumpButtonTextColor:"#FFFFFF",orderBumpButtonBackgroundColor:"#EF4444",orderBumpShadow:!0,fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},boxShadow:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},inputBorderColor:"#D1D5DB",inputFocusBorderColor:"#8B5CF6",inputBackgroundColor:"#FFFFFF",inputHeight:48,inputBorderRadius:10,labelColor:"#374151",labelFontWeight:"600",placeholderColor:"#9CA3AF",cardBackgroundColor:"#FFFFFF",cardBorderColor:"#E5E7EB",cardBorderRadius:16,cardShadow:!0,cardPadding:"1.5rem",showTrustBadges:!0,trustBadgeColor:"#10B981",sslBadgeEnabled:!0,securityIconsEnabled:!0,language:"pt",currency:"BRL",presellPage:"cart-in-cart",requestCpfOnlyAtPayment:!1,requestBirthDate:!1,requestGender:!1,disableCarrot:!1,mobileBreakpoint:640,tabletBreakpoint:1024,desktopBreakpoint:1280,enableAnimations:!0,animationDuration:"300ms",animationTiming:"cubic-bezier(0.4, 0, 0.2, 1)",highContrast:!1,focusIndicatorColor:"#8B5CF6",reducedMotion:!1},_e=t=>t.replace(/\D/g,""),Xe=t=>_e(t),ye=({children:t,onClick:a,disabled:r=!1,loading:n=!1,type:h="button",variant:g="primary",theme:i,className:v="",fullWidth:y=!1,size:w="md",icon:k,iconPosition:d="left"})=>{const[p,F]=N.useState(!1),s=(()=>{switch(g){case"checkout":return{backgroundColor:i.checkoutButtonBackgroundColor||"#10b981",textColor:i.checkoutButtonTextColor||"#ffffff",borderRadius:i.checkoutButtonBorderRadius||8,hover:i.checkoutButtonHover!==!1,hoverColor:i.checkoutButtonHoverColor||"#059669",flow:i.checkoutButtonFlow||!1,shadow:i.checkoutButtonShadow!==!1,pulse:i.checkoutButtonPulse||!1};case"secondary":return{backgroundColor:i.secondaryButtonBackgroundColor||"#6b7280",textColor:i.secondaryButtonTextColor||"#ffffff",borderRadius:i.primaryButtonBorderRadius||8,hover:!0,hoverColor:"#4b5563",flow:!1,shadow:!1,pulse:!1};case"primary":default:return{backgroundColor:i.primaryButtonBackgroundColor||"#8b5cf6",textColor:i.primaryButtonTextColor||"#ffffff",borderRadius:i.primaryButtonBorderRadius||8,hover:i.primaryButtonHover!==!1,hoverColor:i.primaryButtonHoverColor||"#7c3aed",flow:i.primaryButtonFlow||!1,shadow:i.primaryButtonShadow!==!1,pulse:!1}}})(),I=()=>{switch(w){case"sm":return"px-4 py-2 text-sm";case"lg":return"px-8 py-4 text-lg";case"md":default:return"px-6 py-3 text-base"}},f={backgroundColor:r||n?"#d1d5db":p&&s.hover&&s.hoverColor?s.hoverColor:s.backgroundColor,color:r||n?"#9ca3af":s.textColor,borderRadius:`${s.borderRadius}px`,transition:"all 0.3s ease",boxShadow:s.shadow?p?"0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.15)":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)":"none",transform:p&&!r&&!n?"translateY(-2px)":"translateY(0)"},$=()=>{const u=[];return s.pulse&&!r&&!n&&u.push("animate-pulse"),s.flow&&!r&&!n&&u.push("animate-gradient-x bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-[length:200%_auto]"),u.join(" ")};return e.jsxs(c.button,{type:h,onClick:r||n?void 0:a,disabled:r||n,onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),className:M("relative font-semibold inline-flex items-center justify-center gap-2","focus:outline-none focus:ring-2 focus:ring-offset-2","transition-all duration-300 ease-in-out","disabled:cursor-not-allowed disabled:opacity-50",I(),$(),y&&"w-full",v),style:f,whileHover:!r&&!n?{scale:1.02}:{},whileTap:!r&&!n?{scale:.98}:{},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[n&&e.jsx(be,{className:M("animate-spin",w==="sm"?"w-4 h-4":w==="lg"?"w-6 h-6":"w-5 h-5")}),k&&d==="left"&&!n&&e.jsx("span",{className:"flex-shrink-0",children:k}),e.jsx("span",{className:"flex-1 text-center",children:t}),k&&d==="right"&&!n&&e.jsx("span",{className:"flex-shrink-0",children:k}),!r&&!n&&e.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-[inherit]",children:e.jsx("span",{className:"absolute inset-0 rounded-[inherit] bg-white opacity-0 group-active:opacity-20 transition-opacity duration-200"})})]})},H=N.forwardRef(({label:t,error:a,success:r=!1,theme:n,icon:h,iconPosition:g="left",mask:i="none",showValidation:v=!0,helperText:y,required:w=!1,fullWidth:k=!0,className:d="",value:p,onChange:F,onFocus:T,onBlur:s,...I},f)=>{const[$,u]=N.useState(!1),[b,P]=N.useState(!!p),q=x=>{if(!x)return"";switch(i){case"cpf":return x.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1");case"phone":return x.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1");case"cep":return x.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1");case"card":return x.replace(/\D/g,"").replace(/(\d{4})(\d)/,"$1 $2").replace(/(\d{4})(\d)/,"$1 $2").replace(/(\d{4})(\d)/,"$1 $2").replace(/(\d{4})\d+?$/,"$1");case"date":return x.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\/\d{4})\d+?$/,"$1");default:return x}},U=x=>{const _=q(x.target.value);P(!!_);const z={...x,target:{...x.target,value:_}};F==null||F(z)},R=x=>{u(!0),T==null||T(x)},j=x=>{u(!1),s==null||s(x)},D=()=>a?"#ef4444":r&&v?"#10b981":$?n.inputFocusBorderColor||"#8b5cf6":n.inputBorderColor||"#d1d5db",S={backgroundColor:n.inputBackgroundColor||"#ffffff",borderColor:D(),borderRadius:`${n.inputBorderRadius||8}px`,height:`${n.inputHeight||48}px`,color:n.textColor||"#111827",borderWidth:"1px",borderStyle:"solid",transition:"all 0.3s ease"},G={color:a?"#ef4444":$||b?n.labelColor||"#111827":n.labelColor||"#6b7280",fontWeight:n.labelFontWeight||"500",fontSize:"14px",transition:"all 0.3s ease"};return e.jsxs("div",{className:M("relative",k&&"w-full"),children:[t&&e.jsxs(c.label,{className:"block mb-2",style:G,initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.2},children:[t,w&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[h&&g==="left"&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",style:{color:$?D():void 0},children:h}),e.jsx("input",{ref:f,value:p,onChange:U,onFocus:R,onBlur:j,className:M("w-full px-4 outline-none transition-all duration-300","focus:ring-2 focus:ring-opacity-20",h&&g==="left"&&"pl-11",h&&g==="right"&&"pr-11",(a||r&&v)&&"pr-11",d),style:{...S,...$&&{boxShadow:`0 0 0 3px ${n.inputFocusBorderColor||"#8b5cf6"}20`}},"aria-invalid":!!a,"aria-describedby":a?`${I.id}-error`:y?`${I.id}-helper`:void 0,...I}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[v&&!h&&e.jsxs(Y,{mode:"wait",children:[a&&e.jsx(c.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:e.jsx(Q,{className:"w-5 h-5 text-red-500"})},"error"),r&&!a&&b&&e.jsx(c.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:e.jsx(ae,{className:"w-5 h-5 text-green-500"})},"success")]}),h&&g==="right"&&e.jsx("div",{className:"text-gray-400",style:{color:$?D():void 0},children:h})]})]}),e.jsx(Y,{children:a&&e.jsxs(c.p,{id:`${I.id}-error`,className:"mt-2 text-sm text-red-500 flex items-center gap-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsx(Q,{className:"w-4 h-4"}),a]})}),y&&!a&&e.jsx("p",{id:`${I.id}-helper`,className:"mt-2 text-sm",style:{color:n.textColor||"#6b7280",opacity:.7},children:y}),$&&e.jsx(c.div,{className:"absolute inset-0 rounded-[inherit] pointer-events-none",style:{border:`2px solid ${n.inputFocusBorderColor||"#8b5cf6"}`,opacity:.2},initial:{scale:.95},animate:{scale:1},exit:{scale:.95},transition:{duration:.2}})]})});H.displayName="CheckoutInput";const Ye=({theme:t,storeData:a={},className:r=""})=>{if(!(t.showStoreName||t.showCnpjCpf||t.showContactEmail||t.showAddress||t.showPhone||t.showPaymentMethods||t.showPrivacyPolicy||t.showTermsConditions||t.showReturns))return null;const{name:h="Minha Loja",cnpj:g,cpf:i,email:v="contato@loja.com",phone:y="(11) 99999-9999",address:w="Rua Exemplo, 123 - S√£o Paulo, SP"}=a,k={backgroundColor:t.footerBackgroundColor||"#ffffff",color:t.footerTextColor||"#6b7280",borderTopColor:t.footerTextColor?`${t.footerTextColor}20`:"#e5e7eb"},d={color:t.footerLinkColor||t.footerTextColor||"#8b5cf6"},p=[{name:"Cart√£o de Cr√©dito",icon:ne},{name:"PIX",icon:Pe},{name:"Boleto",icon:ze}];return e.jsx(c.footer,{className:M("border-t mt-12",r),style:k,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(t.showStoreName||t.showCnpjCpf)&&e.jsxs("div",{className:"space-y-3",children:[t.showStoreName&&e.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:t.footerTextColor||"#111827"},children:h}),t.showCnpjCpf&&(g||i)&&e.jsxs("div",{className:"space-y-2 text-sm",children:[g&&e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(de,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"CNPJ:"})," ",g]})]}),i&&!g&&e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(de,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"CPF:"})," ",i]})]})]})]}),(t.showContactEmail||t.showPhone)&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-base font-semibold mb-4",style:{color:t.footerTextColor||"#111827"},children:"Contato"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[t.showContactEmail&&v&&e.jsxs("a",{href:`mailto:${v}`,className:"flex items-center gap-2 hover:underline transition-all",style:d,children:[e.jsx(je,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:v})]}),t.showPhone&&y&&e.jsxs("a",{href:`tel:${y.replace(/\D/g,"")}`,className:"flex items-center gap-2 hover:underline transition-all",style:d,children:[e.jsx(Ce,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:y})]}),t.showAddress&&w&&e.jsxs("p",{className:"flex items-start gap-2 text-sm",children:[e.jsx(ve,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:w})]})]})]}),(t.showPrivacyPolicy||t.showTermsConditions||t.showReturns)&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-base font-semibold mb-4",style:{color:t.footerTextColor||"#111827"},children:"Informa√ß√µes"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[t.showPrivacyPolicy&&e.jsxs("a",{href:"/politica-de-privacidade",className:"flex items-center gap-2 hover:underline transition-all",style:d,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(ue,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Pol√≠tica de Privacidade"})]}),t.showTermsConditions&&e.jsxs("a",{href:"/termos-e-condicoes",className:"flex items-center gap-2 hover:underline transition-all",style:d,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(de,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Termos e Condi√ß√µes"})]}),t.showReturns&&e.jsxs("a",{href:"/trocas-e-devolucoes",className:"flex items-center gap-2 hover:underline transition-all",style:d,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(We,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Trocas e Devolu√ß√µes"})]})]})]}),t.showPaymentMethods&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-base font-semibold mb-4",style:{color:t.footerTextColor||"#111827"},children:"Formas de Pagamento"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map((F,T)=>e.jsxs(c.div,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border transition-all hover:shadow-md",style:{borderColor:t.footerTextColor?`${t.footerTextColor}20`:"#e5e7eb",backgroundColor:t.footerTextColor?`${t.footerTextColor}05`:"#f9fafb"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1*T},whileHover:{scale:1.05},children:[e.jsx(F.icon,{className:"w-5 h-5",style:{color:t.footerTextColor||"#6b7280"}}),e.jsx("span",{className:"text-xs font-medium",children:F.name})]},F.name))}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(ue,{className:"w-4 h-4",style:{color:"#10b981"}}),e.jsx("span",{children:"Compra 100% Segura"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(ue,{className:"w-4 h-4",style:{color:"#10b981"}}),e.jsx("span",{children:"Certificado SSL"})]})]})]})]}),e.jsx("div",{className:"my-6 h-px",style:{backgroundColor:t.footerTextColor?`${t.footerTextColor}20`:"#e5e7eb"}}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsxs("p",{children:["¬© ",new Date().getFullYear()," ",t.showStoreName?h:"Todos os direitos reservados"]}),e.jsxs("p",{className:"mt-1 text-xs opacity-70",children:["Powered by"," ",e.jsx("a",{href:"https://syncads.com.br",target:"_blank",rel:"noopener noreferrer",className:"hover:underline font-medium",style:d,children:"SyncAds"})]})]})]})})},Je=({orderBump:t,theme:a,selected:r=!1,onToggle:n,className:h=""})=>{const[g,i]=N.useState(!1);if(!a.orderBumpEnabled)return null;const v=t.originalPrice?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,y={backgroundColor:a.orderBumpBackgroundColor||"#ffffff",borderColor:r?a.primaryButtonBackgroundColor||"#8b5cf6":a.orderBumpBorderColor||"#e5e7eb",borderWidth:`${a.orderBumpBorderWidth||2}px`,borderRadius:`${a.orderBumpBorderRadius||12}px`,boxShadow:a.orderBumpShadow?r?`0 8px 30px ${a.primaryButtonBackgroundColor||"#8b5cf6"}30`:"0 4px 6px rgba(0, 0, 0, 0.1)":"none",transition:"all 0.3s ease"},w={backgroundColor:a.orderBumpButtonBackgroundColor||"#8b5cf6",color:a.orderBumpButtonTextColor||"#ffffff",borderRadius:`${(a.orderBumpBorderRadius||12)-4}px`},k=()=>{n(t.id)};return e.jsxs(c.div,{className:M("relative border cursor-pointer overflow-hidden",h),style:y,onClick:k,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.3},children:[(v>0||t.badge)&&e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsxs(c.div,{className:"px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",style:{backgroundColor:a.discountTagBackgroundColor||"#ef4444",color:a.discountTagTextColor||"#ffffff"},initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.5,delay:.2},children:[e.jsx(Ve,{className:"w-3 h-3"}),e.jsx("span",{children:t.badge||`-${v}%`})]})}),e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx(c.div,{className:M("w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",r?"bg-green-500 border-green-500":"bg-white border-gray-300"),whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Y,{children:r&&e.jsx(c.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:e.jsx(ae,{className:"w-4 h-4 text-white"})})})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[t.image&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:a.orderBumpTextColor||"#111827"},children:t.title}),e.jsx("p",{className:"text-sm mb-3",style:{color:a.orderBumpTextColor?`${a.orderBumpTextColor}80`:"#6b7280"},children:t.description})]})]}),t.bullets&&t.bullets.length>0&&e.jsx("div",{className:"mb-4 space-y-2",children:t.bullets.slice(0,3).map((d,p)=>e.jsxs(c.div,{className:"flex items-start gap-2 text-sm",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*p},children:[e.jsx(Te,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:a.orderBumpPriceColor||"#8b5cf6"}}),e.jsx("span",{style:{color:a.orderBumpTextColor||"#374151"},children:d})]},p))}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[t.originalPrice&&e.jsxs("span",{className:"text-sm line-through opacity-60",style:{color:a.orderBumpTextColor||"#6b7280"},children:["R$ ",t.originalPrice.toFixed(2)]}),e.jsxs("span",{className:"text-2xl font-bold",style:{color:a.orderBumpPriceColor||"#10b981"},children:["R$ ",t.price.toFixed(2)]}),e.jsx("span",{className:"text-sm",style:{color:a.orderBumpTextColor?`${a.orderBumpTextColor}60`:"#9ca3af"},children:"√† vista"})]}),e.jsx(c.button,{className:"w-full py-3 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all",style:w,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d=>{d.stopPropagation(),k()},children:r?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Adicionado ao Pedido"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx("span",{children:"Adicionar ao Pedido"})]})}),r&&e.jsx(c.p,{className:"text-center text-xs mt-3 font-medium",style:{color:a.orderBumpPriceColor||"#10b981"},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"‚úì Oferta adicionada com sucesso!"})]}),r&&e.jsx(c.div,{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(135deg, ${a.primaryButtonBackgroundColor||"#8b5cf6"}10, transparent)`},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),e.jsx(Y,{children:g&&!r&&e.jsx(c.div,{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(135deg, ${a.orderBumpBorderColor||"#e5e7eb"}20, transparent)`},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})})]})},Ke=({theme:t,className:a="",onExpire:r,customMessage:n,compact:h=!1,showIcon:g=!0})=>{const[i,v]=N.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[y,w]=N.useState(!1);if(!t.useVisible)return null;const k=t.expirationTime||15,d=t.showCountdownTimer!==!1,p=t.urgencyMessageColor||"#ef4444",F=t.urgencyBackgroundColor||"#fee2e2";t.forceRemovalTime;const T=N.useMemo(()=>{const R="checkout_expiration_time",j=localStorage.getItem(R);if(j)return new Date(j);{const D=new Date;return D.setMinutes(D.getMinutes()+k),localStorage.setItem(R,D.toISOString()),D}},[k]),s=()=>{const R=new Date().getTime(),D=T.getTime()-R;if(D<=0)return{days:0,hours:0,minutes:0,seconds:0,total:0};const S=Math.floor(D/(1e3*60*60*24)),G=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(D%(1e3*60*60)/(1e3*60)),_=Math.floor(D%(1e3*60)/1e3);return{days:S,hours:G,minutes:x,seconds:_,total:D}};N.useEffect(()=>{const R=setInterval(()=>{const j=s();v(j),j.total<=0&&!y&&(w(!0),r&&r())},1e3);return v(s()),()=>clearInterval(R)},[T,y,r]);const I=()=>{if(n)return n;const{total:R,minutes:j}=i;return R<=0?"‚ö†Ô∏è Oferta expirada! Recarregue a p√°gina para nova tentativa.":j<=2?"üî• √öLTIMOS MINUTOS! Complete sua compra agora!":j<=5?"‚è∞ Restam poucos minutos! Garanta sua oferta!":j<=10?"‚ö° Oferta por tempo limitado! N√£o perca!":"üéØ Oferta especial expira em breve!"},f=R=>R.toString().padStart(2,"0"),u=(()=>{const{minutes:R,total:j}=i;return j<=0||R<=2?"high":R<=5?"medium":"low"})(),b={backgroundColor:F,borderLeft:`4px solid ${p}`},P={color:p},q={scale:[1,1.05,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},U={scale:[1,1.08,1],opacity:[1,.9,1],transition:{duration:1,repeat:1/0,ease:"easeInOut"}};return h?e.jsxs(c.div,{className:M("inline-flex items-center gap-2 px-3 py-1 rounded-lg",a),style:b,animate:u==="high"?U:{},children:[g&&e.jsx($e,{className:"w-4 h-4",style:{color:p}}),d&&e.jsxs("span",{className:"font-mono font-semibold text-sm",style:P,children:[f(i.minutes),":",f(i.seconds)]})]}):e.jsx(Y,{children:e.jsx(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:M("w-full overflow-hidden",a),children:e.jsxs(c.div,{className:"p-4 rounded-lg shadow-md",style:b,animate:u==="high"?U:q,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g&&e.jsx("div",{className:"flex-shrink-0",children:u==="high"?e.jsx(Q,{className:"w-6 h-6",style:{color:p}}):u==="medium"?e.jsx(Re,{className:"w-6 h-6",style:{color:p}}):e.jsx(Ae,{className:"w-6 h-6",style:{color:p}})}),e.jsx("p",{className:"font-semibold text-sm md:text-base flex-1",style:P,children:I()})]}),d&&!y&&e.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-4",children:[i.days>0&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(c.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:p},children:f(i.days)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:P,children:"Dias"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(c.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0,delay:.1},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:p},children:f(i.hours)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:P,children:"Horas"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(c.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0,delay:.2},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:p},children:f(i.minutes)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:P,children:"Min"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(c.div,{className:"bg-white rounded-lg p-2 md:p-3 shadow-sm min-w-[50px] md:min-w-[60px]",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:e.jsx("span",{className:"font-mono font-bold text-xl md:text-3xl block text-center",style:{color:p},children:f(i.seconds)})}),e.jsx("span",{className:"text-xs md:text-sm font-medium mt-1",style:P,children:"Seg"})]})]}),y&&e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-4",children:[e.jsx(Q,{className:"w-12 h-12 mx-auto mb-2",style:{color:p}}),e.jsx("p",{className:"font-bold text-lg",style:P,children:"Oferta Expirada"}),e.jsx("p",{className:"text-sm mt-1",style:{color:p,opacity:.8},children:"Recarregue a p√°gina para tentar novamente"})]})]})})})},Qe=({currentStep:t,totalSteps:a=3,theme:r,className:n="",labels:h,showLabels:g=!0,vertical:i=!1})=>{if(!r.showProgressBar)return null;const v=r.progressBarColor||"#8b5cf6",y=r.stepActiveColor||"#8b5cf6",w=r.stepInactiveColor||"#d1d5db",k=r.stepCompletedColor||"#10b981",d=r.nextStepStyle||"rounded",p=r.navigationSteps||3,T=h||["Dados","Entrega","Pagamento"],s=[];if(p===1)s.push({number:1,label:"Checkout",icon:ne,completed:t>1,active:t===1});else{const u=[le,ve,ne];for(let b=1;b<=a;b++)s.push({number:b,label:T[b-1]||`Step ${b}`,icon:u[b-1]||le,completed:t>b,active:t===b})}const I=(t-1)/(a-1)*100,f=()=>{switch(d){case"square":return"rounded-none";case"pill":return"rounded-full";case"rounded":default:return"rounded-lg"}},$=u=>u.completed?k:u.active?y:w;return i?e.jsx("div",{className:M("flex flex-col gap-4",n),children:s.map((u,b)=>{const P=u.icon,q=$(u),U=b===s.length-1;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(c.div,{className:M("flex-shrink-0 w-10 h-10 flex items-center justify-center",f(),"font-semibold transition-all duration-300"),style:{backgroundColor:q,color:"#ffffff"},initial:{scale:0},animate:{scale:1},transition:{delay:b*.1},children:u.completed?e.jsx(ae,{className:"w-5 h-5"}):e.jsx(P,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[g&&e.jsx(c.p,{className:"font-medium text-sm mb-1",style:{color:u.active||u.completed?q:"#6b7280"},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:b*.1+.05},children:u.label}),!U&&e.jsxs("div",{className:"relative h-12 ml-5",children:[e.jsx("div",{className:"absolute w-0.5 h-full",style:{backgroundColor:w}}),(u.completed||u.active)&&e.jsx(c.div,{className:"absolute w-0.5 h-full",style:{backgroundColor:v},initial:{height:0},animate:{height:"100%"},transition:{duration:.5,delay:b*.1}})]})]})]},u.number)})}):e.jsx("div",{className:M("w-full",n),children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-5 left-0 w-full h-1 rounded-full",style:{backgroundColor:w}}),e.jsx(c.div,{className:"absolute top-5 left-0 h-1 rounded-full",style:{backgroundColor:v},initial:{width:0},animate:{width:`${I}%`},transition:{duration:.5,ease:"easeInOut"}}),e.jsx("div",{className:"relative flex justify-between",children:s.map((u,b)=>{const P=u.icon,q=$(u);return e.jsxs(c.div,{className:"flex flex-col items-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:b*.1},children:[e.jsx(c.div,{className:M("w-10 h-10 flex items-center justify-center",f(),"font-semibold shadow-md transition-all duration-300"),style:{backgroundColor:q,color:"#ffffff"},whileHover:{scale:1.1},whileTap:{scale:.95},children:u.completed?e.jsx(c.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:e.jsx(ae,{className:"w-5 h-5"})}):e.jsx(P,{className:"w-5 h-5"})}),g&&e.jsx(c.p,{className:"mt-2 text-xs md:text-sm font-medium text-center",style:{color:u.active||u.completed?q:"#6b7280"},initial:{opacity:0},animate:{opacity:1},transition:{delay:b*.1+.2},children:u.label})]},u.number)})})]}),a>3&&e.jsxs("div",{className:"mt-6 md:hidden",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",style:{color:y},children:["Passo ",t," de ",a]}),e.jsxs("span",{className:"text-sm font-semibold",style:{color:y},children:[Math.round(I),"%"]})]}),e.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden",style:{backgroundColor:w},children:e.jsx(c.div,{className:"h-full rounded-full",style:{backgroundColor:v},initial:{width:0},animate:{width:`${I}%`},transition:{duration:.5,ease:"easeInOut"}})})]})]})})},Ze=({theme:t,storeName:a="Minha Loja",storeUrl:r,className:n="",showBackground:h=!1,compact:g=!1})=>{const[i,v]=N.useState(!1),[y,w]=N.useState(!0);if(!t.showLogoAtTop)return null;const k=t.logoUrl,d=t.logoAlignment||"center",p=t.logoWidth||180,F=t.logoHeight||60,T=t.backgroundColor||"#ffffff",s=t.textColor||"#1f2937",I=()=>{switch(d){case"left":return"justify-start";case"right":return"justify-end";case"center":default:return"justify-center"}},f=()=>{v(!0),w(!1)},$=()=>{w(!1)},u=()=>e.jsxs(c.div,{className:"flex items-center gap-3",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t.primaryButtonBackgroundColor||"#8b5cf6"},children:e.jsx(Me,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold",style:{color:s},children:a})]}),b=()=>e.jsx("div",{className:"animate-pulse rounded-lg flex items-center justify-center",style:{width:p,height:F,backgroundColor:t.cardBackgroundColor||"#f3f4f6"},children:e.jsx(Ge,{className:"w-8 h-8 text-gray-400"})}),q=!k||i?u():e.jsxs(c.div,{className:"relative",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:p},children:[y&&b(),e.jsx("img",{src:k,alt:`${a} Logo`,className:M("object-contain transition-opacity duration-300",y?"opacity-0 absolute inset-0":"opacity-100"),style:{width:g?p*.7:p,height:g?F*.7:F,maxWidth:"100%"},onError:f,onLoad:$,loading:"eager"})]}),U=r?e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"inline-block transition-transform hover:scale-105 active:scale-95","aria-label":`Visitar ${a}`,children:q}):q;return e.jsx(c.header,{className:M("w-full transition-all duration-300",h?"shadow-sm":"",g?"py-3":"py-4 md:py-6",n),style:{backgroundColor:h?T:"transparent"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:M("flex items-center",I()),children:U})})})},et=({theme:t,birthDate:a="",gender:r="",onBirthDateChange:n,onGenderChange:h,className:g="",errors:i={}})=>{const[v,y]=N.useState(null),[w,k]=N.useState({birthDate:{isValid:!0,message:""},gender:{isValid:!0,message:""}}),d=t.requestBirthDate||!1,p=t.requestGender||!1;if(!d&&!p)return null;const F=t.inputBorderColor||"#d1d5db",T=t.inputFocusBorderColor||"#8b5cf6",s=t.inputBackgroundColor||"#ffffff",I=t.inputHeight||48,f=t.inputBorderRadius||8,$=t.labelColor||"#374151",u=t.labelFontWeight||"600",b=t.placeholderColor||"#9ca3af",P=t.textColor||"#1f2937",q=[{value:"",label:"Selecione seu g√™nero"},{value:"masculino",label:"Masculino"},{value:"feminino",label:"Feminino"},{value:"outro",label:"Outro"},{value:"prefiro-nao-informar",label:"Prefiro n√£o informar"}],U=B=>{const C=B.replace(/\D/g,"");let E=C;return C.length>=3&&(E=`${C.slice(0,2)}/${C.slice(2)}`),C.length>=5&&(E=`${C.slice(0,2)}/${C.slice(2,4)}/${C.slice(4,8)}`),E},R=B=>{if(!B||B.length<10)return{isValid:!1,message:"Data de nascimento incompleta"};const[C,E,J]=B.split("/").map(Number);if(!C||!E||!J)return{isValid:!1,message:"Data inv√°lida"};if(C<1||C>31)return{isValid:!1,message:"Dia inv√°lido"};if(E<1||E>12)return{isValid:!1,message:"M√™s inv√°lido"};const ie=new Date().getFullYear();if(J<1900||J>ie)return{isValid:!1,message:"Ano inv√°lido"};const O=new Date(J,E-1,C),Z=new Date;let te=Z.getFullYear()-O.getFullYear();const re=Z.getMonth()-O.getMonth();return(re<0||re===0&&Z.getDate()<O.getDate())&&te--,te<18?{isValid:!1,message:"Voc√™ precisa ter pelo menos 18 anos"}:te>120?{isValid:!1,message:"Data de nascimento inv√°lida"}:{isValid:!0,message:"Data v√°lida"}},j=B=>{const C=U(B.target.value);if(n&&n(C),C.length===10){const E=R(C);k(J=>({...J,birthDate:E}))}else k(E=>({...E,birthDate:{isValid:!0,message:""}}))},D=B=>{const C=B.target.value;h&&h(C),k(E=>({...E,gender:{isValid:C!=="",message:C===""?"Selecione uma op√ß√£o":""}}))},S=(B,C)=>({backgroundColor:s,borderColor:C?"#ef4444":v===B?T:F,borderRadius:`${f}px`,height:`${I}px`,color:P,borderWidth:"2px",borderStyle:"solid"}),G={color:$,fontWeight:u},x={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},_=()=>{if(!d)return null;const B=!w.birthDate.isValid||!!i.birthDate,C=i.birthDate||w.birthDate.message,E=w.birthDate.isValid&&a.length===10;return e.jsxs(c.div,{...x,className:"space-y-2",children:[e.jsxs("label",{htmlFor:"birthDate",className:"block text-sm font-semibold",style:G,children:["Data de Nascimento",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Le,{className:"w-5 h-5",style:{color:v==="birthDate"?T:b}})}),e.jsx("input",{type:"text",id:"birthDate",value:a,onChange:j,onFocus:()=>y("birthDate"),onBlur:()=>y(null),placeholder:"DD/MM/AAAA",maxLength:10,className:M("w-full pl-10 pr-10 font-medium transition-all duration-200","focus:outline-none focus:ring-0",B&&"border-red-500"),style:S("birthDate",B),autoComplete:"bday"}),e.jsx(Y,{children:a.length===10&&e.jsx(c.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:E?e.jsx(ae,{className:"w-5 h-5 text-green-500"}):e.jsx(Q,{className:"w-5 h-5 text-red-500"})})})]}),e.jsxs(Y,{children:[B&&C&&e.jsxs(c.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),C]}),!B&&!a&&v==="birthDate"&&e.jsx(c.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-xs",style:{color:b},children:"Digite sua data de nascimento no formato DD/MM/AAAA"})]})]})},z=()=>{if(!p)return null;const B=!w.gender.isValid||!!i.gender,C=i.gender||w.gender.message;return e.jsxs(c.div,{...x,transition:{delay:.1},className:"space-y-2",children:[e.jsxs("label",{htmlFor:"gender",className:"block text-sm font-semibold",style:G,children:["G√™nero",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(le,{className:"w-5 h-5",style:{color:v==="gender"?T:b}})}),e.jsx("select",{id:"gender",value:r,onChange:D,onFocus:()=>y("gender"),onBlur:()=>y(null),className:M("w-full pl-10 pr-4 font-medium transition-all duration-200","focus:outline-none focus:ring-0 appearance-none cursor-pointer",B&&"border-red-500"),style:S("gender",B),autoComplete:"sex",children:q.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5",style:{color:v==="gender"?T:b},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),e.jsx(Y,{children:B&&C&&e.jsxs(c.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),C]})})]})};return e.jsxs("div",{className:M("space-y-4",g),children:[_(),z()]})},tt=({injectedOrderId:t,injectedTheme:a,previewMode:r=!1})=>{var pe;const{orderId:n}=Se(),h=t||n,g=Ee(),{toast:i}=De(),[v,y]=N.useState(!0),[w,k]=N.useState(!1),[d,p]=N.useState(null),[F,T]=N.useState(null),[s,I]=N.useState(me),[f,$]=N.useState(1),[u,b]=N.useState({name:"Minha Loja",email:"contato@loja.com",phone:"(11) 99999-9999",address:"S√£o Paulo, SP - Brasil"}),[P,q]=N.useState([]),[U,R]=N.useState([]),[j,D]=N.useState({name:"",email:"",phone:"",document:""}),[S,G]=N.useState({zipCode:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}),[x,_]=N.useState("PIX"),[z,B]=N.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvv:""}),[C,E]=N.useState(""),[J,ie]=N.useState(""),O=s.navigationSteps||3,Z=()=>`${s.cardBorderRadius||16}px`,te=()=>s.fontFamily||"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif";te(),N.useEffect(()=>{h&&re()},[h]);const re=async()=>{var o;try{y(!0),console.log("üîç [DEBUG] loadCheckoutData iniciado"),console.log("üîç [DEBUG] orderId:",h),console.log("üîç [DEBUG] injectedOrderId:",t),console.log("üîç [DEBUG] previewMode:",r);const{data:m,error:V}=await A.from("Order").select("*").eq("id",h).single();if(console.log("üîç [DEBUG] Query result:",{order:m,error:V}),V||!m)throw console.error("‚ùå [DEBUG] Erro ao buscar pedido:",V),new Error("Pedido n√£o encontrado");console.log("‚úÖ [DEBUG] Pedido encontrado:",{id:m.id,orderNumber:m.orderNumber,items:m.items,metadata:m.metadata});const K=Array.isArray(m.items)?m.items:[],se=Array.isArray((o=m.metadata)==null?void 0:o.originalProducts)?m.metadata.originalProducts:[];console.log("üîç [DEBUG] Items processados:",{itemsCount:K.length,originalProductsCount:se.length,firstItem:K[0],firstOriginal:se[0]});const X={orderId:m.id,products:K.map((l,W)=>{console.log(`üîç [DEBUG] Processando item ${W}:`,l);const L=se.find(ce=>String(ce==null?void 0:ce.id)===String(l==null?void 0:l.productId));console.log(`üîç [DEBUG] Original encontrado para item ${W}:`,L);const he={id:(l==null?void 0:l.productId)||(l==null?void 0:l.id)||`temp-${W}`,name:(l==null?void 0:l.name)||(L==null?void 0:L.name)||(L==null?void 0:L.title)||"Produto",price:Number(l==null?void 0:l.price)||Number(l==null?void 0:l.total)||0,quantity:Number(l==null?void 0:l.quantity)||1,image:(l==null?void 0:l.image)||(L==null?void 0:L.image)||Array.isArray(L==null?void 0:L.images)&&L.images[0]||""};return console.log(`‚úÖ [DEBUG] Produto final ${W}:`,he),he}),total:Number(m.total)||0,subtotal:Number(m.subtotal)||0,shipping:Number(m.shipping)||0,discount:Number(m.discount)||0};console.log("‚úÖ [DEBUG] CheckoutInfo criado:",X),console.log("üìù [DEBUG] Setando checkoutData e orderData"),p(X),T(m),console.log("üîç [DEBUG] Verificando paymentMethod:",m.paymentMethod);const ee=m.paymentMethod;if(ee&&(ee==="PIX"||ee==="CREDIT_CARD"||ee==="BOLETO")&&_(ee),a)I({...me,...a});else if(m.userId)try{const l=await qe.loadCustomization(m.userId);l!=null&&l.theme&&I({...me,...l.theme})}catch{console.log("Usando tema padr√£o")}if(m.userId){try{const{data:l,error:W}=await A.from("User").select("name, email, phone, cnpj, cpf, address").eq("id",m.userId).single();!W&&l&&b({name:(l==null?void 0:l.name)||"Minha Loja",email:(l==null?void 0:l.email)||"contato@loja.com",phone:(l==null?void 0:l.phone)||"(11) 99999-9999",cnpj:(l==null?void 0:l.cnpj)||"",cpf:(l==null?void 0:l.cpf)||"",address:(l==null?void 0:l.address)||"S√£o Paulo, SP - Brasil"})}catch(l){console.log("Erro ao carregar dados da loja:",l)}try{const{data:l,error:W}=await A.from("OrderBump").select("*").eq("userId",m.userId).eq("isActive",!0).order("order",{ascending:!0});!W&&l&&q(l)}catch(l){console.log("Erro ao carregar order bumps:",l)}}}catch(m){console.error("‚ùå [DEBUG] Erro ao carregar checkout:",m),console.error("‚ùå [DEBUG] Stack trace:",m.stack),i({title:"Erro ao carregar checkout",description:m.message||"N√£o foi poss√≠vel carregar os dados do pedido",variant:"destructive"})}finally{console.log("üèÅ [DEBUG] loadCheckoutData finalizado"),y(!1)}},we=o=>{R(m=>m.includes(o)?m.filter(V=>V!==o):[...m,o])},Ne=()=>P.filter(o=>U.includes(o.id)).reduce((o,m)=>o+Number(m.price||0),0),ke=((d==null?void 0:d.total)||0)+Ne(),Be=()=>{O===1?xe():f<3?($(f+1),window.scrollTo({top:0,behavior:"smooth"})):xe()},Fe=()=>{f>1&&($(f-1),window.scrollTo({top:0,behavior:"smooth"}))},xe=async()=>{if(!(!h||!d)){k(!0);try{const{error:o}=await A.from("Order").update({customerName:j.name,customerEmail:j.email,customerPhone:j.phone,customerCpf:Xe(j.document),shippingAddress:S,paymentMethod:x,updatedAt:new Date().toISOString()}).eq("id",h);if(o)throw o;const{data:m}=await A.from("GatewayConfig").select(`
          *,
          gateway:Gateway(*)
        `).eq("userId",F.userId).eq("isActive",!0);if(!m||m.length===0)throw new Error("Nenhum gateway de pagamento configurado");let V=null;for(const l of m){const W=l.gateway;if(!W)continue;const L=l.isDefault||!1;if(x==="PIX"&&W.supportsPix){if(V=l,L)break}else if(x==="CREDIT_CARD"&&W.supportsCreditCard){if(V=l,L)break}else if(x==="BOLETO"&&W.supportsBoleto&&(V=l,L))break}if(!V)throw new Error(`Gateway de ${x} n√£o configurado`);const{data:K,error:se}=await A.from("Transaction").insert({orderId:h,gatewayId:V.gatewayId,userId:F.userId,amount:d.total,status:"PENDING",paymentMethod:x,metadata:{customerData:j,addressData:S,cardData:x==="CREDIT_CARD"?z:null}}).select().single();if(se||!K)throw new Error("Erro ao criar transa√ß√£o");const{data:X,error:ee}=await A.functions.invoke("process-payment",{body:{transactionId:K.id,gatewaySlug:V.gateway.slug,paymentMethod:x,amount:d.total,customerData:j,addressData:S,cardData:x==="CREDIT_CARD"?z:null}});if(ee||!(X!=null&&X.success))throw new Error((X==null?void 0:X.error)||"Erro ao processar pagamento");g(x==="PIX"?`/pix/${h}/${K.id}`:`/checkout/success/${K.id}`)}catch(o){console.error("Erro ao processar pagamento:",o),i({title:"Erro no pagamento",description:o.message||"Tente novamente",variant:"destructive"})}finally{k(!1)}}};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#f9fafb"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(be,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando checkout..."})]})}):!d||!d.products||!Array.isArray(d.products)?(console.error("‚ùå [DEBUG] checkoutData inv√°lido:",d),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"bg-white shadow-lg p-8 max-w-md w-full text-center",style:{borderRadius:Z()},children:[e.jsx(Q,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Pedido n√£o encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"N√£o foi poss√≠vel carregar os dados do pedido."}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Voltar"})]})})):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:s.backgroundColor||"#f9fafb",fontFamily:te()},children:[s.noticeBarEnabled&&s.noticeBarMessage&&e.jsx("div",{className:"py-3 px-4 text-center text-sm font-medium",style:{backgroundColor:s.noticeBarBackgroundColor||"#8b5cf6",color:s.noticeBarTextColor||"#ffffff"},children:s.noticeBarMessage}),e.jsx(Ze,{theme:s,storeName:u.name,storeUrl:F==null?void 0:F.storeUrl,showBackground:!0}),s.bannerEnabled&&s.bannerImage&&e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx("img",{src:s.bannerImage,alt:"Banner",className:"w-full object-cover",style:{maxHeight:s.bannerHeight||"200px"}})}),e.jsx(Ke,{theme:s,className:"max-w-7xl mx-auto px-4 mt-6"}),e.jsx(Qe,{currentStep:f,totalSteps:3,theme:s,showLabels:!0}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(c.div,{className:"bg-white shadow-lg p-6",style:{borderRadius:Z(),backgroundColor:s.cardBackgroundColor||"#ffffff"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:s.headingColor||"#111827"},children:O===1?"Finalizar Pedido":f===1?"Seus Dados":f===2?"Endere√ßo":"Pagamento"}),e.jsx("p",{className:"text-sm",style:{color:s.textColor||"#6b7280"},children:"Preencha as informa√ß√µes para continuar"})]}),e.jsxs(Y,{mode:"wait",children:[(O===1||f===1)&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[e.jsx(H,{label:"Nome Completo",type:"text",value:j.name,onChange:o=>D({...j,name:o.target.value}),theme:s,icon:e.jsx(le,{className:"w-5 h-5"}),placeholder:"Seu nome completo",required:!0}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(H,{label:"E-mail",type:"email",value:j.email,onChange:o=>D({...j,email:o.target.value}),theme:s,icon:e.jsx(je,{className:"w-5 h-5"}),placeholder:"seu@email.com",required:!0}),e.jsx(H,{label:"Telefone",type:"tel",value:j.phone,onChange:o=>D({...j,phone:o.target.value}),theme:s,icon:e.jsx(Ce,{className:"w-5 h-5"}),placeholder:"(11) 99999-9999",mask:"phone",required:!0})]}),e.jsx(H,{label:"CPF",type:"text",value:j.document,onChange:o=>D({...j,document:o.target.value}),theme:s,icon:e.jsx(Ue,{className:"w-5 h-5"}),placeholder:"000.000.000-00",mask:"cpf",required:!0}),e.jsx(et,{theme:s,birthDate:C,gender:J,onBirthDateChange:E,onGenderChange:ie,className:"mt-4"})]},"step1"),(O===1||f===2)&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:O===1?"mt-6 space-y-4":"space-y-4",children:[O===1&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Endere√ßo de Entrega"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(H,{label:"CEP",type:"text",value:S.zipCode,onChange:o=>G({...S,zipCode:o.target.value}),theme:s,placeholder:"00000-000",mask:"cep",required:!0}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(H,{label:"Rua",type:"text",value:S.street,onChange:o=>G({...S,street:o.target.value}),theme:s,placeholder:"Nome da rua",required:!0})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(H,{label:"N√∫mero",type:"text",value:S.number,onChange:o=>G({...S,number:o.target.value}),theme:s,placeholder:"123",required:!0}),e.jsx("div",{className:"col-span-1 md:col-span-3",children:e.jsx(H,{label:"Complemento",type:"text",value:S.complement,onChange:o=>G({...S,complement:o.target.value}),theme:s,placeholder:"Apto, bloco..."})})]}),e.jsx(H,{label:"Bairro",type:"text",value:S.neighborhood,onChange:o=>G({...S,neighborhood:o.target.value}),theme:s,placeholder:"Seu bairro",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(H,{label:"Cidade",type:"text",value:S.city,onChange:o=>G({...S,city:o.target.value}),theme:s,placeholder:"Cidade",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:s.labelColor||"#111827"},children:"Estado *"}),e.jsxs("select",{value:S.state,onChange:o=>G({...S,state:o.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 outline-none transition-all",style:{backgroundColor:s.inputBackgroundColor||"#ffffff",borderColor:s.inputBorderColor||"#d1d5db",borderRadius:`${s.inputBorderRadius||8}px`,height:`${s.inputHeight||48}px`,color:s.textColor||"#111827"},children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"SP",children:"SP"}),e.jsx("option",{value:"RJ",children:"RJ"}),e.jsx("option",{value:"MG",children:"MG"}),e.jsx("option",{value:"RS",children:"RS"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"PR",children:"PR"})]})]})]})]},"step2"),(O===1||f===3)&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:O===1?"mt-6 space-y-4":"space-y-4",children:[O===1&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Forma de Pagamento"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("button",{onClick:()=>_("PIX"),className:`p-4 rounded-lg border-2 font-semibold transition ${x==="PIX"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"PIX"}),e.jsx("button",{onClick:()=>_("CREDIT_CARD"),className:`p-4 rounded-lg border-2 font-semibold transition ${x==="CREDIT_CARD"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"Cart√£o"}),e.jsx("button",{onClick:()=>_("BOLETO"),className:`p-4 rounded-lg border-2 font-semibold transition ${x==="BOLETO"?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:"Boleto"})]}),x==="CREDIT_CARD"&&e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsx(H,{label:"N√∫mero do Cart√£o",type:"text",value:z.number,onChange:o=>B({...z,number:o.target.value}),theme:s,icon:e.jsx(ne,{className:"w-5 h-5"}),placeholder:"0000 0000 0000 0000",mask:"card",required:!0}),e.jsx(H,{label:"Nome no Cart√£o",type:"text",value:z.holderName,onChange:o=>B({...z,holderName:o.target.value}),theme:s,placeholder:"Nome como est√° no cart√£o",required:!0}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(H,{label:"M√™s",type:"text",value:z.expiryMonth,onChange:o=>B({...z,expiryMonth:o.target.value}),theme:s,placeholder:"MM",maxLength:2,required:!0}),e.jsx(H,{label:"Ano",type:"text",value:z.expiryYear,onChange:o=>B({...z,expiryYear:o.target.value}),theme:s,placeholder:"AA",maxLength:2,required:!0}),e.jsx(H,{label:"CVV",type:"text",value:z.cvv,onChange:o=>B({...z,cvv:o.target.value}),theme:s,placeholder:"123",maxLength:4,required:!0})]})]}),x==="PIX"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:e.jsx("p",{className:"text-sm text-green-800",children:"‚úÖ Ap√≥s clicar em finalizar, voc√™ receber√° o QR Code do PIX"})}),x==="BOLETO"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"‚ÑπÔ∏è O boleto ser√° gerado ap√≥s a finaliza√ß√£o"})})]},"step3")]}),s.orderBumpEnabled&&P.length>0&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:s.headingColor||"#111827"},children:"üéÅ Aproveite essa oferta especial!"}),P.map(o=>e.jsx(Je,{orderBump:{id:o.id,title:o.title,description:o.description,originalPrice:o.originalPrice,price:o.price,image:o.image,badge:o.badge,bullets:o.bullets||[]},theme:s,selected:U.includes(o.id),onToggle:we},o.id))]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[O===3&&f>1&&e.jsx(ye,{onClick:Fe,variant:"secondary",theme:s,icon:e.jsx(He,{className:"w-5 h-5"}),iconPosition:"left",fullWidth:!0,children:"Voltar"}),e.jsx(ye,{onClick:Be,disabled:w,loading:w,variant:O===1||f===3?"checkout":"primary",theme:s,icon:O===1||f===3?e.jsx(fe,{className:"w-5 h-5"}):void 0,iconPosition:"left",fullWidth:!0,size:"lg",children:O===1||f===3?"Finalizar Compra":"Continuar"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t flex items-center justify-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Compra Segura"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"SSL Certificado"})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(c.div,{className:"bg-white shadow-lg p-6 sticky top-6",style:{borderRadius:Z(),backgroundColor:s.cardBackgroundColor||"#ffffff"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",style:{color:s.headingColor||"#111827"},children:[e.jsx(ge,{className:"w-5 h-5"}),"Resumo do Pedido"]}),e.jsx("div",{className:"space-y-3 mb-4",children:(pe=d==null?void 0:d.products)==null?void 0:pe.filter(o=>o&&o.name).map((o,m)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden",children:o!=null&&o.image?e.jsx("img",{src:o.image,alt:(o==null?void 0:o.name)||"Produto",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ge,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm truncate",children:(o==null?void 0:o.name)||"Produto"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Qtd: ",(o==null?void 0:o.quantity)||1]}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["R$"," ",(((o==null?void 0:o.price)||0)*((o==null?void 0:o.quantity)||1)).toFixed(2)]})]})]},(o==null?void 0:o.id)||m))}),e.jsx("div",{className:"border-t my-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["R$ ",d.subtotal.toFixed(2)]})]}),d.shipping>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Frete"}),e.jsxs("span",{className:"font-medium",children:["R$ ",d.shipping.toFixed(2)]})]}),d.discount&&d.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Desconto"}),e.jsxs("span",{className:"font-medium",children:["- R$ ",d.discount.toFixed(2)]})]})]}),e.jsx("div",{className:"border-t mt-4 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold",style:{color:s.headingColor||"#111827"},children:"Total"}),e.jsxs("span",{className:"text-3xl font-bold",style:{color:s.primaryButtonBackgroundColor||"#8b5cf6"},children:["R$ ",ke.toFixed(2)]})]})}),U.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",style:{color:s.headingColor||"#111827"},children:"Itens Adicionais"}),P.filter(o=>U.includes(o.id)).map(o=>e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:o.title}),e.jsxs("span",{className:"font-medium text-gray-900",children:["R$ ",Number(o.price||0).toFixed(2)]})]},o.id))]})]})})]})}),e.jsx(Ye,{theme:s,storeData:u||{name:"Minha Loja",email:"contato@loja.com",phone:"(11) 99999-9999",address:"S√£o Paulo, SP - Brasil"}})]})},Ct=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));export{me as D,Ge as I,tt as P,Ct as a,qe as c};
