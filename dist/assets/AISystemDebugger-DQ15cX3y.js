import{j as e}from"./vendor-ui-DAyDU-p2.js";import{r as s}from"./vendor-react-BDwqAlkB.js";import{i as a,f as l,h as t,C as r,a as i,b as d,c as n,e as c,B as o,m,d as x,I as h}from"./index-D8-xWu09.js";import{T as u,a as j,b as p,c as v}from"./tabs-CsnKbS1y.js";import{T as g}from"./textarea-Cy75CZdm.js";import{S as N}from"./separator-CFpZ0b7s.js";import{A as f,a as b,b as y}from"./alert-De8QQ6K3.js";import{c as w,I as k,b as M,a as S,d as C}from"./IconSparkles-DgRnDwLp.js";import"./vendor-supabase-rKXMzPQL.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-animation-x8f1c1kX.js";import"./vendor-query-D3VdSFIC.js";import"./vendor-icons-D-zwSoGL.js";const A=a("outline","circle-dot","CircleDot",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),I=a("outline","cpu","Cpu",[["path",{d:"M5 5m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 9h6v6h-6z",key:"svg-1"}],["path",{d:"M3 10h2",key:"svg-2"}],["path",{d:"M3 14h2",key:"svg-3"}],["path",{d:"M10 3v2",key:"svg-4"}],["path",{d:"M14 3v2",key:"svg-5"}],["path",{d:"M21 10h-2",key:"svg-6"}],["path",{d:"M21 14h-2",key:"svg-7"}],["path",{d:"M14 21v-2",key:"svg-8"}],["path",{d:"M10 21v-2",key:"svg-9"}]]),R=a("outline","refresh","Refresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),z=a("outline","terminal","Terminal",[["path",{d:"M5 7l5 5l-5 5",key:"svg-0"}],["path",{d:"M12 19l7 0",key:"svg-1"}]]),D=a("outline","world","World",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);function E(){const a=l(e=>e.user),{initialized:E,loading:T,error:L,stats:q,availableModules:O,initialize:B,processRequest:F,navigateAndExtract:P,isBrowserConnected:J,updateStats:$,reloadModules:U}=function(){const[e]=s.useState({initialized:!1,loading:!1,error:null,stats:null,availableModules:[]});return{initialized:e.initialized,loading:e.loading,error:e.error,stats:e.stats,availableModules:e.availableModules,processRequest:async()=>({status:"error",error:"AI Core removed - use chatService instead",executionTime:0}),findModules:()=>[],getStats:()=>null,isBrowserConnected:!1,reset:()=>{}}}({}),[V,H]=s.useState(""),[W,G]=s.useState(null),[K,Q]=s.useState(!1),[X,Y]=s.useState(""),[Z,_]=s.useState(""),[ee,se]=s.useState('{\n  "title": "h1",\n  "description": "p"\n}'),[ae,le]=s.useState([]),te=(e,s)=>{const a=(new Date).toLocaleTimeString();le(l=>[...l.slice(-50),{time:a,type:e,message:s}])};s.useEffect(()=>{E&&te("success","AI System inicializado com sucesso")},[E]),s.useEffect(()=>{L&&te("error",L)},[L]);const re=X?O.filter(e=>e.name.toLowerCase().includes(X.toLowerCase())||e.packageName.toLowerCase().includes(X.toLowerCase())):O,ie=()=>L?"text-red-500":E?"text-green-500":"text-yellow-500",de=L?m:E?C:A;return e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(z,{className:"w-8 h-8"}),"AI System Debugger"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Teste e debug do sistema de IA universal"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:t("w-5 h-5",ie())}),e.jsx("span",{className:t("font-medium",ie()),children:L?"Erro":E?"Online":"Offline"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(d,{className:"text-sm font-medium",children:"Status"})}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:E?e.jsx(c,{variant:"default",className:"bg-green-500",children:"Ativo"}):e.jsx(c,{variant:"secondary",children:"Inativo"})})})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(d,{className:"text-sm font-medium",children:"Módulos"})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:O.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"bibliotecas disponíveis"})]})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(d,{className:"text-sm font-medium",children:"Browser"})}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:J()?e.jsx(c,{variant:"default",className:"bg-blue-500",children:"Conectado"}):e.jsx(c,{variant:"secondary",children:"Offline"})})})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(d,{className:"text-sm font-medium",children:"Taxa de Sucesso"})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:q?.core?.successRate?`${(100*q.core.successRate).toFixed(0)}%`:"N/A"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[q?.core?.totalExecutions||0," execuções"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs(o,{onClick:async()=>{te("info","Inicializando AI System..."),await B()},disabled:E||T,variant:"default",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Inicializar Sistema"]}),e.jsxs(o,{onClick:U,disabled:!E||T,variant:"outline",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Recarregar Módulos"]}),e.jsxs(o,{onClick:$,disabled:!E,variant:"outline",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Atualizar Stats"]})]}),L&&e.jsxs(f,{variant:"destructive",className:"mb-6",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx(b,{children:"Erro"}),e.jsx(y,{children:L})]}),e.jsxs(u,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(j,{children:[e.jsxs(p,{value:"test",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Testar IA"]}),e.jsxs(p,{value:"browser",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Browser"]}),e.jsxs(p,{value:"modules",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Módulos (",O.length,")"]}),e.jsxs(p,{value:"logs",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Logs (",ae.length,")"]})]}),e.jsx(v,{value:"test",children:e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(d,{children:"Testar Processamento de Requisição"}),e.jsx(x,{children:"Digite uma requisição para testar o sistema de IA"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Requisição"}),e.jsx(g,{value:V,onChange:e=>H(e.target.value),placeholder:"Ex: Processar arquivo CSV com pandas e fazer análise estatística...",rows:3,disabled:!E})]}),e.jsx(o,{onClick:async()=>{if(V.trim()&&a){Q(!0),G(null),te("info",`Processando: "${V}"`);try{const e=await F(a.id,V,{source:"debugger",timestamp:Date.now()});G(e),te("success",`Resultado: ${e?.status}`),e?.results&&te("info",`${e.results.length} passos executados`)}catch(e){te("error",e.message)}finally{Q(!1)}}},disabled:!E||!V.trim()||K,className:"w-full",children:K?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-4 h-4 mr-2 animate-spin"}),"Processando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Processar Requisição"]})}),W&&"browser"!==W.type&&e.jsxs("div",{className:"mt-4",children:[e.jsx(N,{className:"my-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Resultado:"}),e.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-auto max-h-96",children:JSON.stringify(W,null,2)})]})]})]})}),e.jsx(v,{value:"browser",children:e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(d,{children:"Testar Automação de Navegador"}),e.jsx(x,{children:"Navegue para uma URL e extraia dados usando seletores"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"URL"}),e.jsx(h,{value:Z,onChange:e=>_(e.target.value),placeholder:"https://example.com",disabled:!E})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Seletores (JSON)"}),e.jsx(g,{value:ee,onChange:e=>se(e.target.value),placeholder:'{"title": "h1", "description": "p"}',rows:5,disabled:!E,className:"font-mono text-xs"})]}),e.jsx(o,{onClick:async()=>{if(Z.trim()){Q(!0),te("info",`Navegando para: ${Z}`);try{const e=JSON.parse(ee),s=await P(Z,e);G({type:"browser",data:s}),te("success","Dados extraídos com sucesso")}catch(e){te("error",e.message)}finally{Q(!1)}}},disabled:!E||!Z.trim()||K,className:"w-full",children:K?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-4 h-4 mr-2 animate-spin"}),"Navegando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Extrair Dados"]})}),W&&"browser"===W.type&&e.jsxs("div",{className:"mt-4",children:[e.jsx(N,{className:"my-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Dados Extraídos:"}),e.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-auto max-h-96",children:JSON.stringify(W.data,null,2)})]})]})]})}),e.jsx(v,{value:"modules",children:e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(d,{children:"Módulos Disponíveis"}),e.jsx(x,{children:"Bibliotecas Python carregadas no sistema"})]}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{value:X,onChange:e=>Y(e.target.value),placeholder:"Buscar módulos...",className:"w-full"}),e.jsx("div",{className:"h-[400px] w-full overflow-y-auto",children:e.jsx("div",{className:"space-y-3",children:re.map(s=>e.jsxs(r,{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(c,{variant:"outline",children:s.packageName}),e.jsx(c,{variant:"secondary",children:s.category}),e.jsxs(c,{variant:"outline",className:"text-xs",children:[(100*s.reliability).toFixed(0),"% confiável"]})]})]})}),s.useCases.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium mb-1",children:"Casos de uso:"}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:s.useCases.slice(0,3).map((s,a)=>e.jsxs("li",{children:["• ",s]},a))})]})]},s.id))})})]})})]})}),e.jsx(v,{value:"logs",children:e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(d,{children:"Logs do Sistema"}),e.jsx(x,{children:"Histórico de eventos e operações"})]}),e.jsx(n,{children:e.jsx("div",{className:"h-[400px] w-full overflow-y-auto",children:e.jsx("div",{className:"space-y-2 font-mono text-xs",children:ae.map((s,a)=>e.jsxs("div",{className:t("p-2 rounded","error"===s.type&&"bg-red-50 text-red-900 dark:bg-red-950 dark:text-red-200","success"===s.type&&"bg-green-50 text-green-900 dark:bg-green-950 dark:text-green-200","info"===s.type&&"bg-blue-50 text-blue-900 dark:bg-blue-950 dark:text-blue-200"),children:[e.jsxs("span",{className:"text-muted-foreground",children:["[",s.time,"]"]})," ",e.jsx("span",{className:"font-semibold uppercase",children:s.type}),": ",s.message]},a))})})})]})})]}),q&&e.jsxs(r,{className:"mt-6",children:[e.jsx(i,{children:e.jsx(d,{children:"Estatísticas Detalhadas"})}),e.jsx(n,{children:e.jsx("pre",{className:"bg-muted p-4 rounded-lg text-xs overflow-auto max-h-64",children:JSON.stringify(q,null,2)})})]})]})}export{E as AISystemDebugger,E as default};
