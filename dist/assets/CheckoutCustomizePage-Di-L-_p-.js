import{ac as e,ad as a,j as r,ae as t,m as s,af as o,a8 as n,n as l,aa as i,ag as c,ah as d,ai as u,aj as x,ak as m,al as h,am as g,an as f,ao as p,ap as v,aq as b}from"./vendor-ui-DkUuACDy.js";import{R as j,r as y,f as k}from"./vendor-react-X41Bjl18.js";import{h as N,B as C,g as w,s as E,I as B,f as P,e as _,C as R}from"./index-B_qkehep.js";import{P as A,c as S}from"./PublicCheckoutPage-dV-eoBUD.js";import{L as O}from"./label-Cp9V-6fq.js";import{S as T,a as D,b as I,c as M,d as F}from"./select-CrUBFg8U.js";import{S as z}from"./switch-Bv905z5y.js";import{T as U}from"./textarea-C6fkEhzF.js";import{b3 as q,l as L,aK as V,h as H,ax as $,X as G,L as K,ak as W,b4 as X,B as Z,b5 as Q,u as Y,aF as J,b6 as ee,f as ae,Z as re,c as te,b7 as se,q as oe,v as ne,aw as le,E as ie,b8 as ce,aA as de,b9 as ue}from"./vendor-icons-DTdRnryx.js";import{m as xe,A as me}from"./vendor-animation-DQ3cvw6m.js";import"./vendor-supabase-BQxDPPjR.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-Bf3pI66S.js";function he(){return(he=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function ge(e,a){if(null==e)return{};var r,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)a.indexOf(r=o[t])>=0||(s[r]=e[r]);return s}function fe(e){var a=y.useRef(e),r=y.useRef(function(e){a.current&&a.current(e)});return a.current=e,r.current}var pe=function(e,a,r){return void 0===a&&(a=0),void 0===r&&(r=1),e>r?r:e<a?a:e},ve=function(e){return"touches"in e},be=function(e){return e&&e.ownerDocument.defaultView||self},je=function(e,a,r){var t=e.getBoundingClientRect(),s=ve(a)?function(e,a){for(var r=0;r<e.length;r++)if(e[r].identifier===a)return e[r];return e[0]}(a.touches,r):a;return{left:pe((s.pageX-(t.left+be(e).pageXOffset))/t.width),top:pe((s.pageY-(t.top+be(e).pageYOffset))/t.height)}},ye=function(e){!ve(e)&&e.preventDefault()},ke=j.memo(function(e){var a=e.onMove,r=e.onKey,t=ge(e,["onMove","onKey"]),s=y.useRef(null),o=fe(a),n=fe(r),l=y.useRef(null),i=y.useRef(!1),c=y.useMemo(function(){var e=function(e){ye(e),(ve(e)?e.touches.length>0:e.buttons>0)&&s.current?o(je(s.current,e,l.current)):r(!1)},a=function(){return r(!1)};function r(r){var t=i.current,o=be(s.current),n=r?o.addEventListener:o.removeEventListener;n(t?"touchmove":"mousemove",e),n(t?"touchend":"mouseup",a)}return[function(e){var a=e.nativeEvent,t=s.current;if(t&&(ye(a),!function(e,a){return a&&!ve(e)}(a,i.current)&&t)){if(ve(a)){i.current=!0;var n=a.changedTouches||[];n.length&&(l.current=n[0].identifier)}t.focus(),o(je(t,a,l.current)),r(!0)}},function(e){var a=e.which||e.keyCode;a<37||a>40||(e.preventDefault(),n({left:39===a?.05:37===a?-.05:0,top:40===a?.05:38===a?-.05:0}))},r]},[n,o]),d=c[0],u=c[1],x=c[2];return y.useEffect(function(){return x},[x]),j.createElement("div",he({},t,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:s,onKeyDown:u,tabIndex:0,role:"slider"}))}),Ne=function(e){return e.filter(Boolean).join(" ")},Ce=function(e){var a=e.color,r=e.left,t=e.top,s=void 0===t?.5:t,o=Ne(["react-colorful__pointer",e.className]);return j.createElement("div",{className:o,style:{top:100*s+"%",left:100*r+"%"}},j.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:a}}))},we=function(e,a,r){return void 0===a&&(a=0),void 0===r&&(r=Math.pow(10,a)),Math.round(r*e)/r},Ee=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?we(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?we(parseInt(e.substring(6,8),16)/255,2):1}},Be=function(e){var a=function(e){var a=e.s,r=e.v,t=e.a,s=(200-a)*r/100;return{h:we(e.h),s:we(s>0&&s<200?a*r/100/(s<=100?s:200-s)*100:0),l:we(s/2),a:we(t,2)}}(e);return"hsl("+a.h+", "+a.s+"%, "+a.l+"%)"},Pe=function(e){var a=e.h,r=e.s,t=e.v,s=e.a;a=a/360*6,r/=100,t/=100;var o=Math.floor(a),n=t*(1-r),l=t*(1-(a-o)*r),i=t*(1-(1-a+o)*r),c=o%6;return{r:we(255*[t,l,n,n,i,t][c]),g:we(255*[i,t,t,l,n,n][c]),b:we(255*[n,n,i,t,t,l][c]),a:we(s,2)}},_e=function(e){var a=e.toString(16);return a.length<2?"0"+a:a},Re=function(e){var a=e.r,r=e.g,t=e.b,s=e.a,o=s<1?_e(we(255*s)):"";return"#"+_e(a)+_e(r)+_e(t)+o},Ae=function(e){var a=e.r,r=e.g,t=e.b,s=e.a,o=Math.max(a,r,t),n=o-Math.min(a,r,t),l=n?o===a?(r-t)/n:o===r?2+(t-a)/n:4+(a-r)/n:0;return{h:we(60*(l<0?l+6:l)),s:we(o?n/o*100:0),v:we(o/255*100),a:s}},Se=j.memo(function(e){var a=e.hue,r=e.onChange,t=Ne(["react-colorful__hue",e.className]);return j.createElement("div",{className:t},j.createElement(ke,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:pe(a+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":we(a),"aria-valuemax":"360","aria-valuemin":"0"},j.createElement(Ce,{className:"react-colorful__hue-pointer",left:a/360,color:Be({h:a,s:100,v:100,a:1})})))}),Oe=j.memo(function(e){var a=e.hsva,r=e.onChange,t={backgroundColor:Be({h:a.h,s:100,v:100,a:1})};return j.createElement("div",{className:"react-colorful__saturation",style:t},j.createElement(ke,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:pe(a.s+100*e.left,0,100),v:pe(a.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+we(a.s)+"%, Brightness "+we(a.v)+"%"},j.createElement(Ce,{className:"react-colorful__saturation-pointer",top:1-a.v/100,left:a.s/100,color:Be(a)})))}),Te=function(e,a){if(e===a)return!0;for(var r in e)if(e[r]!==a[r])return!1;return!0};function De(e,a,r){var t=fe(r),s=y.useState(function(){return e.toHsva(a)}),o=s[0],n=s[1],l=y.useRef({color:a,hsva:o});y.useEffect(function(){if(!e.equal(a,l.current.color)){var r=e.toHsva(a);l.current={hsva:r,color:a},n(r)}},[a,e]),y.useEffect(function(){var a;Te(o,l.current.hsva)||e.equal(a=e.fromHsva(o),l.current.color)||(l.current={hsva:o,color:a},t(a))},[o,e,t]);var i=y.useCallback(function(e){n(function(a){return Object.assign({},a,e)})},[]);return[o,i]}var Ie="undefined"!=typeof window?y.useLayoutEffect:y.useEffect,Me=new Map,Fe=function(e){Ie(function(){var a=e.current?e.current.ownerDocument:document;if(void 0!==a&&!Me.has(a)){var r=a.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',Me.set(a,r);var t="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0;t&&r.setAttribute("nonce",t),a.head.appendChild(r)}},[])},ze=function(e){var a=e.className,r=e.colorModel,t=e.color,s=void 0===t?r.defaultColor:t,o=e.onChange,n=ge(e,["className","colorModel","color","onChange"]),l=y.useRef(null);Fe(l);var i=De(r,s,o),c=i[0],d=i[1],u=Ne(["react-colorful",a]);return j.createElement("div",he({},n,{ref:l,className:u}),j.createElement(Oe,{hsva:c,onChange:d}),j.createElement(Se,{hue:c.h,onChange:d,className:"react-colorful__last-control"}))},Ue={defaultColor:"000",toHsva:function(e){return Ae(Ee(e))},fromHsva:function(e){return function(e){return Re(Pe(e))}({h:e.h,s:e.s,v:e.v,a:1})},equal:function(e,a){return e.toLowerCase()===a.toLowerCase()||Te(Ee(e),Ee(a))}},qe=function(e){return j.createElement(ze,he({},e,{colorModel:Ue}))},Le=/^#?([0-9A-F]{3,8})$/i,Ve=function(e){var a=e.color,r=void 0===a?"":a,t=e.onChange,s=e.onBlur,o=e.escape,n=e.validate,l=e.format,i=e.process,c=ge(e,["color","onChange","onBlur","escape","validate","format","process"]),d=y.useState(function(){return o(r)}),u=d[0],x=d[1],m=fe(t),h=fe(s),g=y.useCallback(function(e){var a=o(e.target.value);x(a),n(a)&&m(i?i(a):a)},[o,i,n,m]),f=y.useCallback(function(e){n(e.target.value)||x(o(r)),h(e)},[r,o,n,h]);return y.useEffect(function(){x(o(r))},[r,o]),j.createElement("input",he({},c,{value:l?l(u):u,spellCheck:"false",onChange:g,onBlur:f}))},He=function(e){return"#"+e},$e=function(e){var a=e.prefixed,r=e.alpha,t=ge(e,["prefixed","alpha"]),s=y.useCallback(function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,r?8:6)},[r]),o=y.useCallback(function(e){return function(e,a){var r=Le.exec(e),t=r?r[1].length:0;return 3===t||6===t||!!a&&4===t||!!a&&8===t}(e,r)},[r]);return j.createElement(Ve,he({},t,{escape:s,format:a?He:void 0,process:He,validate:o}))},Ge="Popover",[Ke]=s(Ge,[e]),We=e(),[Xe,Ze]=Ke(Ge),Qe=e=>{const{__scopePopover:s,children:n,open:l,defaultOpen:i,onOpenChange:c,modal:d=!1}=e,u=We(s),x=y.useRef(null),[m,h]=y.useState(!1),[g,f]=a({prop:l,defaultProp:i??!1,onChange:c,caller:Ge});return r.jsx(t,{...u,children:r.jsx(Xe,{scope:s,contentId:o(),triggerRef:x,open:g,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:m,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:d,children:n})})};Qe.displayName=Ge;var Ye="PopoverAnchor";y.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=Ze(Ye,t),n=We(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=o;return y.useEffect(()=>(l(),()=>i()),[l,i]),r.jsx(c,{...n,...s,ref:a})}).displayName=Ye;var Je="PopoverTrigger",ea=y.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=Ze(Je,t),d=We(t),u=n(a,o.triggerRef),x=r.jsx(l.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":xa(o.open),...s,ref:u,onClick:i(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?x:r.jsx(c,{asChild:!0,...d,children:x})});ea.displayName=Je;var aa="PopoverPortal",[ra,ta]=Ke(aa,{forceMount:void 0}),sa=e=>{const{__scopePopover:a,forceMount:t,children:s,container:o}=e,n=Ze(aa,a);return r.jsx(ra,{scope:a,forceMount:t,children:r.jsx(d,{present:t||n.open,children:r.jsx(u,{asChild:!0,container:o,children:s})})})};sa.displayName=aa;var oa="PopoverContent",na=y.forwardRef((e,a)=>{const t=ta(oa,e.__scopePopover),{forceMount:s=t.forceMount,...o}=e,n=Ze(oa,e.__scopePopover);return r.jsx(d,{present:s||n.open,children:n.modal?r.jsx(ia,{...o,ref:a}):r.jsx(ca,{...o,ref:a})})});na.displayName=oa;var la=h("PopoverContent.RemoveScroll"),ia=y.forwardRef((e,a)=>{const t=Ze(oa,e.__scopePopover),s=y.useRef(null),o=n(a,s),l=y.useRef(!1);return y.useEffect(()=>{const e=s.current;if(e)return x(e)},[]),r.jsx(m,{as:la,allowPinchZoom:!0,children:r.jsx(da,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:i(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||t.triggerRef.current?.focus()}),onPointerDownOutside:i(e.onPointerDownOutside,e=>{const a=e.detail.originalEvent,r=0===a.button&&!0===a.ctrlKey,t=2===a.button||r;l.current=t},{checkForDefaultPrevented:!1}),onFocusOutside:i(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ca=y.forwardRef((e,a)=>{const t=Ze(oa,e.__scopePopover),s=y.useRef(!1),o=y.useRef(!1);return r.jsx(da,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||t.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,"pointerdown"===a.detail.originalEvent.type&&(o.current=!0));const r=a.target,n=t.triggerRef.current?.contains(r);n&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&o.current&&a.preventDefault()}})}),da=y.forwardRef((e,a)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...x}=e,m=Ze(oa,t),h=We(t);return g(),r.jsx(f,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:n,children:r.jsx(p,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(v,{"data-state":xa(m.open),role:"dialog",id:m.contentId,...h,...x,ref:a,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ua="PopoverClose";y.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=Ze(ua,t);return r.jsx(l.button,{type:"button",...s,ref:a,onClick:i(e.onClick,()=>o.onOpenChange(!1))})}).displayName=ua;function xa(e){return e?"open":"closed"}y.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=We(t);return r.jsx(b,{...o,...s,ref:a})}).displayName="PopoverArrow";var ma=sa,ha=na;const ga=Qe,fa=ea,pa=y.forwardRef(({className:e,align:a="center",sideOffset:t=4,...s},o)=>r.jsx(ma,{children:r.jsx(ha,{ref:o,align:a,sideOffset:t,className:N("z-50 w-72 rounded-xl border-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl p-4 text-popover-foreground shadow-2xl outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","ring-1 ring-gray-200/50 dark:ring-gray-700/50","before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-br before:from-blue-500/5 before:via-purple-500/5 before:to-pink-500/5 before:pointer-events-none",e),...s})}));pa.displayName=ha.displayName;const va={vibrant:{name:"Vibrante",colors:["#8b5cf6","#a855f7","#ec4899","#f43f5e","#ef4444","#f97316","#f59e0b","#eab308"]},professional:{name:"Profissional",colors:["#0ea5e9","#06b6d4","#14b8a6","#10b981","#22c55e","#84cc16","#6366f1","#8b5cf6"]},warm:{name:"Tons Quentes",colors:["#fef3c7","#fde68a","#fcd34d","#fbbf24","#f59e0b","#d97706","#b45309","#92400e"]},cool:{name:"Tons Frios",colors:["#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8","#1e40af"]},grayscale:{name:"Escala de Cinza",colors:["#ffffff","#f9fafb","#f3f4f6","#e5e7eb","#d1d5db","#9ca3af","#6b7280","#4b5563","#374151","#1f2937","#111827","#000000"]}},ba=({color:e,isSelected:a,onClick:t,showTooltip:s=!0})=>{const[o,n]=y.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsx(xe.button,{type:"button",whileHover:{scale:1.15,zIndex:10},whileTap:{scale:.95},onClick:t,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:N("relative w-10 h-10 rounded-lg shadow-md transition-all cursor-pointer overflow-hidden",a?"ring-2 ring-violet-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900":"hover:shadow-lg"),style:{backgroundColor:e},children:a&&r.jsx(xe.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center bg-black/20",children:r.jsx(L,{className:"h-5 w-5 text-white drop-shadow-lg",strokeWidth:3})})}),r.jsx(me,{children:s&&o&&r.jsx(xe.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute left-1/2 -translate-x-1/2 -top-10 z-50 pointer-events-none",children:r.jsxs("div",{className:"bg-gray-900 dark:bg-gray-700 text-white text-xs font-mono px-2 py-1 rounded shadow-lg whitespace-nowrap",children:[e.toUpperCase(),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})})})]})},ja=({label:e,value:a,onChange:t,showPresets:s=!0,className:o})=>{const[n,l]=y.useState(!1),[i,c]=y.useState([]),d=e=>{const a=e.toUpperCase();t(a),c(e=>{const r=e.filter(e=>e.toUpperCase()!==a);return[a,...r].slice(0,8)})};return r.jsxs("div",{className:N("space-y-2",o),children:[e&&r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:e}),r.jsxs(ga,{open:n,onOpenChange:l,children:[r.jsx(fa,{asChild:!0,children:r.jsxs(C,{variant:"outline",className:"w-full justify-start gap-3 h-11 px-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 rounded-md border-2 border-gray-300 dark:border-gray-600 shadow-sm transition-transform hover:scale-110",style:{backgroundColor:a}}),r.jsx("span",{className:"text-sm font-mono font-semibold flex-1 text-left",children:a.toUpperCase()}),r.jsx(q,{className:"h-4 w-4 text-gray-400"})]})}),r.jsx(pa,{className:"w-80 p-0 border-0 shadow-2xl",align:"start",sideOffset:8,children:r.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm",children:r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(q,{className:"h-4 w-4 text-violet-500"}),"Seletor de Cores"]})}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(qe,{color:a,onChange:d,style:{width:"100%",height:"180px"}}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-sm font-mono text-gray-500 dark:text-gray-400",children:"#"}),r.jsx($e,{color:a,onChange:d,prefixed:!0,className:"w-full pl-7 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-mono font-semibold bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none transition-all",placeholder:"000000"})]})}),r.jsx("div",{className:"w-12 h-10 rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-inner",style:{backgroundColor:a}})]})]}),s&&r.jsxs(r.Fragment,{children:[i.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Cores Recentes"}),r.jsx("div",{className:"grid grid-cols-8 gap-2",children:i.map(e=>r.jsx(ba,{color:e,isSelected:a.toUpperCase()===e,onClick:()=>d(e)},e))})]}),r.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:Object.entries(va).map(([e,t])=>r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:t.name}),r.jsx("div",{className:N("grid gap-2",t.colors.length>8?"grid-cols-6":"grid-cols-8"),children:t.colors.map(e=>r.jsx(ba,{color:e,isSelected:a.toUpperCase()===e.toUpperCase(),onClick:()=>d(e)},e))})]},e))})]})]}),r.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-violet-500/10 to-purple-500/10 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1.5",children:[r.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-violet-500 animate-pulse"}),"Passe o mouse sobre as cores para ver o c√≥digo"]})})]})})]})]})},ya=({label:e,description:a,value:t,onChange:s,bucket:o="checkout-images",path:n="uploads",acceptedFormats:l=["image/png","image/jpeg","image/jpg","image/webp","image/gif"],maxSizeMB:i=5,aspectRatio:c,className:d})=>{const[u,x]=y.useState(!1),[m,h]=y.useState(t||null),[g,f]=y.useState(!1),p=y.useRef(null),{toast:v}=w(),b=async e=>{const a=(e=>l.includes(e.type)?e.size/1048576>i?`Arquivo muito grande. Tamanho m√°ximo: ${i}MB`:null:`Formato n√£o suportado. Use: ${l.map(e=>e.split("/")[1]).join(", ")}`)(e);if(a)v({title:"Erro na valida√ß√£o",description:a,variant:"destructive"});else{x(!0);try{const r=new FileReader;r.onloadend=()=>{h(r.result)},r.readAsDataURL(e);const t=await(async e=>{try{const a=e.name.split(".").pop(),r=`${Date.now()}-${Math.random().toString(36).substring(7)}.${a}`,t=`${n}/${r}`,{error:s}=await E.storage.from(o).upload(t,e,{cacheControl:"3600",upsert:!1});if(s)throw new Error(s.message);const{data:l}=E.storage.from(o).getPublicUrl(t);return l.publicUrl}catch(a){return null}})(e);if(!t)throw new Error("Falha no upload");s(t),v({title:"Imagem enviada!",description:"A imagem foi carregada com sucesso."})}catch(r){v({title:"Erro ao enviar imagem",description:"N√£o foi poss√≠vel fazer o upload. Tente novamente.",variant:"destructive"}),h(null)}finally{x(!1)}}},j=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?f(!0):"dragleave"===e.type&&f(!1)},k=()=>{p.current?.click()};return r.jsxs("div",{className:N("space-y-2",d),children:[e&&r.jsxs(O,{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[r.jsx("div",{className:"p-1 rounded bg-gradient-to-br from-violet-500 to-purple-600",children:r.jsx(V,{className:"h-3 w-3 text-white"})}),e]}),a&&r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[r.jsx(H,{className:"h-3 w-3"}),a]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:p,type:"file",accept:l.join(","),onChange:e=>{const a=e.target.files?.[0];a&&b(a)},className:"hidden",disabled:u}),r.jsx(me,{mode:"wait",children:m?r.jsx(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative group",children:r.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-violet-200/50 dark:border-violet-800/50 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 p-1.5 shadow-md",children:[r.jsx("div",{className:"relative w-full h-10 rounded-md overflow-hidden bg-white dark:bg-gray-950",children:r.jsx("img",{src:m,alt:"Preview",className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-end justify-center p-1.5 gap-1",children:[r.jsxs(C,{size:"sm",variant:"secondary",onClick:k,disabled:u,className:"h-6 text-[10px] px-2 bg-white/90 hover:bg-white text-gray-900 backdrop-blur-sm shadow-md",children:[r.jsx($,{className:"h-2.5 w-2.5 mr-1"}),"Alterar"]}),r.jsxs(C,{size:"sm",variant:"destructive",onClick:()=>{h(null),s(""),p.current&&(p.current.value="")},disabled:u,className:"h-6 text-[10px] px-2 bg-red-500/90 hover:bg-red-600 backdrop-blur-sm shadow-md",children:[r.jsx(G,{className:"h-2.5 w-2.5 mr-1"}),"Remover"]})]}),t&&!u&&r.jsx(xe.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2",children:r.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-1 rounded-full shadow-md",children:r.jsx(L,{className:"h-2.5 w-2.5"})})})]})},"preview"):r.jsx(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:e=>{e.preventDefault(),e.stopPropagation(),f(!1);const a=e.dataTransfer.files?.[0];a&&b(a)},onClick:k,className:N("relative border-2 border-dashed rounded-lg p-3 text-center cursor-pointer transition-all duration-300",g?"border-violet-500 bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-950/30 dark:to-purple-950/30 shadow-lg shadow-violet-500/20":"border-gray-300 dark:border-gray-600 hover:border-violet-400 dark:hover:border-violet-500 bg-white/50 dark:bg-gray-800/50 hover:bg-gradient-to-br hover:from-violet-50 hover:to-purple-50 dark:hover:from-violet-950/20 dark:hover:to-purple-950/20 backdrop-blur-sm",u&&"pointer-events-none opacity-60"),children:u?r.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full blur-lg opacity-50 animate-pulse"}),r.jsx(K,{className:"relative h-6 w-6 text-violet-600 dark:text-violet-400 animate-spin"})]}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:"Enviando..."})]}):r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full blur-lg opacity-30"}),r.jsx("div",{className:"relative p-2 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 shadow-md",children:r.jsx(V,{className:"h-4 w-4 text-white"})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 mb-0.5",children:"Clique ou arraste"}),r.jsxs("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:[l.map(e=>e.split("/")[1].toUpperCase()).join(", ")," ","‚Ä¢ at√© ",i,"MB"]})]}),r.jsxs(C,{type:"button",variant:"outline",size:"sm",className:"mt-0.5 h-7 text-xs border-violet-300 dark:border-violet-700 hover:bg-violet-50 dark:hover:bg-violet-950/30 hover:text-violet-600 dark:hover:text-violet-400 transition-all",onClick:e=>{e.stopPropagation(),k()},children:[r.jsx($,{className:"h-3 w-3 mr-1.5"}),"Escolher arquivo"]})]})},"upload")})]})]})},ka=[{id:"CABE√áALHO",label:"Cabe√ßalho",icon:X},{id:"BARRA_DE_AVISOS",label:"Barra de Avisos",icon:Z},{id:"BANNER",label:"Banner",icon:Q},{id:"CARRINHO",label:"Carrinho",icon:Y},{id:"CONTE√öDO",label:"Conte√∫do",icon:J},{id:"RODAP√â",label:"Rodap√©",icon:ee},{id:"ESCASSEZ",label:"Escassez",icon:ae},{id:"ORDER_BUMP",label:"Order Bump",icon:re},{id:"CONFIGURA√á√ïES",label:"Configura√ß√µes",icon:te}],Na=({expandedSections:e,onToggleSection:a,customization:t,onUpdateTheme:s})=>{const o=e=>{if(!t?.theme)return null;switch(e){case"CABE√áALHO":return r.jsxs("div",{className:"space-y-4",children:[r.jsx(ya,{label:"Logo",description:"Tamanho recomendado: 300px x 80px",value:t.theme.logoUrl||"",onChange:e=>s({logoUrl:e}),bucket:"checkout-images",path:"logos",maxSizeMB:2}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Alinhamento do logo"}),r.jsxs(T,{value:t.theme.logoAlignment||"left",onValueChange:e=>s({logoAlignment:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"left",children:"Esquerda"}),r.jsx(F,{value:"center",children:"Centro"}),r.jsx(F,{value:"right",children:"Direita"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mostrar logo no topo"}),r.jsx(z,{checked:t.theme.showLogoAtTop||!1,onCheckedChange:e=>s({showLogoAtTop:e})})]}),r.jsx(ya,{label:"Favicon",description:"Tamanho recomendado: 32px x 32px",value:t.theme.faviconUrl||"",onChange:e=>s({faviconUrl:e}),bucket:"checkout-images",path:"favicons",acceptedFormats:["image/png","image/x-icon","image/vnd.microsoft.icon"],maxSizeMB:1}),r.jsx(ja,{label:"Cor de fundo",value:t.theme.backgroundColor||"#ffffff",onChange:e=>s({backgroundColor:e})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Aplicar fundo degrad√™"}),r.jsx(z,{checked:t.theme.useGradient||!1,onCheckedChange:e=>s({useGradient:e})})]})]});case"BARRA_DE_AVISOS":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Ativar barra de avisos"}),r.jsx(z,{checked:t.theme.noticeBarEnabled||!1,onCheckedChange:e=>s({noticeBarEnabled:e})})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mensagem"}),r.jsx(U,{value:t.theme.noticeBarText||"",onChange:e=>s({noticeBarText:e.target.value}),placeholder:"üéâ FRETE GR√ÅTIS para todo o Brasil em compras acima de R$ 199!",className:"mt-2 resize-none",rows:3})]}),r.jsx(ja,{label:"Cor de fundo",value:t.theme.noticeBarBackgroundColor||"#1a1a1a",onChange:e=>s({noticeBarBackgroundColor:e})}),r.jsx(ja,{label:"Cor do texto",value:t.theme.noticeBarTextColor||"#ffffff",onChange:e=>s({noticeBarTextColor:e})}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Estilo"}),r.jsxs(T,{value:t.theme.noticeBarStyle||"normal",onValueChange:e=>s({noticeBarStyle:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"normal",children:"Normal"}),r.jsx(F,{value:"highlight",children:"Destaque"}),r.jsx(F,{value:"urgent",children:"Urg√™ncia"})]})]})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Posi√ß√£o"}),r.jsxs(T,{value:t.theme.noticeBarPosition||"top",onValueChange:e=>s({noticeBarPosition:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"top",children:"Topo"}),r.jsx(F,{value:"bottom",children:"Rodap√©"})]})]})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Anima√ß√£o"}),r.jsxs(T,{value:t.theme.noticeBarAnimation||"slide",onValueChange:e=>s({noticeBarAnimation:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"slide",children:"Deslizar"}),r.jsx(F,{value:"fade",children:"Fade In/Out"}),r.jsx(F,{value:"scale",children:"Escala"})]})]})]})]});case"BANNER":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Ativar banner no checkout"}),r.jsx(z,{checked:t.theme.bannerEnabled||!1,onCheckedChange:e=>s({bannerEnabled:e})})]}),r.jsx(ya,{label:"Imagem do banner",description:"Tamanho recomendado: 1200px x 150px",value:t.theme.bannerImageUrl||"",onChange:e=>s({bannerImageUrl:e}),bucket:"checkout-images",path:"banners",maxSizeMB:3})]});case"CARRINHO":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Exibir carrinho"}),r.jsxs(T,{value:t.theme.cartDisplay||"open",onValueChange:e=>s({cartDisplay:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"open",children:"Aberto"}),r.jsx(F,{value:"closed",children:"Pr√©-fechado"})]})]})]}),r.jsx(ja,{label:"Cor da borda do carrinho",value:t.theme.cartBorderColor||"#000000",onChange:e=>s({cartBorderColor:e})}),r.jsx(ja,{label:"Cor do c√≠rculo de quantidade",value:t.theme.quantityCircleColor||"#8b5cf6",onChange:e=>s({quantityCircleColor:e})}),r.jsx(ja,{label:"Cor do texto da quantidade",value:t.theme.quantityTextColor||"#ffffff",onChange:e=>s({quantityTextColor:e})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mostrar √≠cone do carrinho sempre"}),r.jsx(z,{checked:t.theme.showCartIcon||!1,onCheckedChange:e=>s({showCartIcon:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Permitir editar cupom de desconto"}),r.jsx(z,{checked:t.theme.allowCouponEdit||!1,onCheckedChange:e=>s({allowCouponEdit:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Mostrar lembrete do carrinho"}),r.jsx(z,{checked:t.theme.showCartReminder||!1,onCheckedChange:e=>s({showCartReminder:e})})]})]});case"CONTE√öDO":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Visual do bot√£o"}),r.jsxs(T,{value:t.theme.nextStepStyle||"rounded",onValueChange:e=>s({nextStepStyle:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"rectangular",children:"Retangular"}),r.jsx(F,{value:"rounded",children:"Arredondado"}),r.jsx(F,{value:"oval",children:"Oval"})]})]})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg space-y-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Bot√£o Prim√°rio (Pr√≥ximo)"}),r.jsx(ja,{label:"Cor do texto",value:t.theme.primaryButtonTextColor||"#ffffff",onChange:e=>s({primaryButtonTextColor:e})}),r.jsx(ja,{label:"Cor de fundo",value:t.theme.primaryButtonBackgroundColor||"#8b5cf6",onChange:e=>s({primaryButtonBackgroundColor:e})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito hover"}),r.jsx(z,{checked:t.theme.primaryButtonHover||!1,onCheckedChange:e=>s({primaryButtonHover:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito fluir"}),r.jsx(z,{checked:t.theme.primaryButtonFlow||!1,onCheckedChange:e=>s({primaryButtonFlow:e})})]})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg space-y-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Bot√£o Checkout (Finalizar)"}),r.jsx(ja,{label:"Cor do texto",value:t.theme.highlightedBorderTextColor||"#ffffff",onChange:e=>s({highlightedBorderTextColor:e})}),r.jsx(ja,{label:"Cor de fundo",value:t.theme.checkoutButtonBackgroundColor||"#10b981",onChange:e=>s({checkoutButtonBackgroundColor:e})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito hover"}),r.jsx(z,{checked:t.theme.checkoutButtonHover||!1,onCheckedChange:e=>s({checkoutButtonHover:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Efeito pulsante"}),r.jsx(z,{checked:t.theme.checkoutButtonFlow||!1,onCheckedChange:e=>s({checkoutButtonFlow:e})})]})]})]});case"RODAP√â":return r.jsxs("div",{className:"space-y-4",children:[r.jsx(ja,{label:"Cor de fundo",value:t.theme.footerBackgroundColor||"#f6f6f6",onChange:e=>s({footerBackgroundColor:e})}),r.jsx(ja,{label:"Cor do texto",value:t.theme.footerTextColor||"#3b3b3b",onChange:e=>s({footerTextColor:e})}),r.jsxs("div",{className:"space-y-3 pt-2",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Informa√ß√µes a exibir"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Nome da loja"}),r.jsx(z,{checked:t.theme.showStoreName||!1,onCheckedChange:e=>s({showStoreName:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Formas de pagamento"}),r.jsx(z,{checked:t.theme.showPaymentMethods||!1,onCheckedChange:e=>s({showPaymentMethods:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"CNPJ/CPF"}),r.jsx(z,{checked:t.theme.showCnpjCpf||!1,onCheckedChange:e=>s({showCnpjCpf:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"E-mail de contato"}),r.jsx(z,{checked:t.theme.showContactEmail||!1,onCheckedChange:e=>s({showContactEmail:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Endere√ßo"}),r.jsx(z,{checked:t.theme.showAddress||!1,onCheckedChange:e=>s({showAddress:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Telefone"}),r.jsx(z,{checked:t.theme.showPhone||!1,onCheckedChange:e=>s({showPhone:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Pol√≠tica de privacidade"}),r.jsx(z,{checked:t.theme.showPrivacyPolicy||!1,onCheckedChange:e=>s({showPrivacyPolicy:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Termos e condi√ß√µes"}),r.jsx(z,{checked:t.theme.showTermsConditions||!1,onCheckedChange:e=>s({showTermsConditions:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Trocas e devolu√ß√µes"}),r.jsx(z,{checked:t.theme.showReturns||!1,onCheckedChange:e=>s({showReturns:e})})]})]})]});case"ESCASSEZ":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsxs("div",{children:[r.jsxs(O,{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(ae,{className:"h-4 w-4 text-red-500"}),"Ativar Gatilho de Escassez"]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Countdown timer para criar urg√™ncia"})]}),r.jsx(z,{checked:t.theme.useVisible||!1,onCheckedChange:e=>s({useVisible:e})})]}),t.theme.useVisible&&r.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:r.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 flex items-start gap-2",children:[r.jsx(re,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Dica:"})," Timers de 10-15 minutos t√™m maior taxa de convers√£o. O timer reseta a cada nova sess√£o do usu√°rio."]})]})}),r.jsx(ja,{label:"Cor do texto da tag",value:t.theme.discountTagTextColor||"#ffffff",onChange:e=>s({discountTagTextColor:e})}),r.jsx(ja,{label:"Cor de fundo da tag",value:t.theme.discountTagBackgroundColor||"#000000",onChange:e=>s({discountTagBackgroundColor:e})}),r.jsxs("div",{children:[r.jsxs(O,{className:"text-xs font-semibold text-gray-900 dark:text-white flex items-center gap-1.5",children:[r.jsx(ae,{className:"h-3.5 w-3.5"}),"Tempo de expira√ß√£o (minutos)"]}),r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-2",children:"Quanto tempo o usu√°rio tem para finalizar a compra"}),r.jsx(B,{type:"number",value:t.theme.expirationTime||15,onChange:e=>s({expirationTime:parseInt(e.target.value)||15}),placeholder:"15",min:"1",max:"120"})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Tempo de remo√ß√£o for√ßada (minutos)"}),r.jsx(B,{type:"number",value:t.theme.forceRemovalTime||20,onChange:e=>s({forceRemovalTime:parseInt(e.target.value)||20}),className:"mt-2",min:"1",max:"120"})]})]});case"ORDER_BUMP":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-violet-50 dark:bg-violet-950/20 rounded-lg border border-violet-200 dark:border-violet-800",children:[r.jsxs("div",{children:[r.jsx(O,{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Ativar Order Bump"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Exibir ofertas adicionais no checkout"})]}),r.jsx(z,{checked:t.theme.orderBumpEnabled||!1,onCheckedChange:e=>s({orderBumpEnabled:e})})]}),r.jsx(ja,{label:"Cor do texto",value:t.theme.orderBumpTextColor||"#1a1a1a",onChange:e=>s({orderBumpTextColor:e})}),r.jsx(ja,{label:"Cor de fundo",value:t.theme.orderBumpBackgroundColor||"#ffffff",onChange:e=>s({orderBumpBackgroundColor:e})}),r.jsx(ja,{label:"Cor do pre√ßo",value:t.theme.orderBumpPriceColor||"#10b981",onChange:e=>s({orderBumpPriceColor:e})}),r.jsx(ja,{label:"Cor da borda",value:t.theme.orderBumpBorderColor||"#e5e7eb",onChange:e=>s({orderBumpBorderColor:e})}),r.jsx(ja,{label:"Cor do texto do bot√£o",value:t.theme.orderBumpButtonTextColor||"#ffffff",onChange:e=>s({orderBumpButtonTextColor:e})}),r.jsx(ja,{label:"Cor de fundo do bot√£o",value:t.theme.orderBumpButtonBackgroundColor||"#8b5cf6",onChange:e=>s({orderBumpButtonBackgroundColor:e})})]});case"CONFIGURA√á√ïES":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Etapas de navega√ß√£o"}),r.jsxs(T,{value:String(t.theme.navigationSteps||5),onValueChange:e=>s({navigationSteps:parseInt(e)}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"1",children:"1 etapa"}),r.jsx(F,{value:"3",children:"3 etapas"}),r.jsx(F,{value:"5",children:"5 etapas"})]})]})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Fonte do checkout"}),r.jsxs(T,{value:t.theme.fontFamily||"Inter, sans-serif",onValueChange:e=>s({fontFamily:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"Inter, sans-serif",children:"Inter"}),r.jsx(F,{value:"Roboto, sans-serif",children:"Roboto"}),r.jsx(F,{value:"Open Sans, sans-serif",children:"Open Sans"}),r.jsx(F,{value:"Poppins, sans-serif",children:"Poppins"}),r.jsx(F,{value:"Montserrat, sans-serif",children:"Montserrat"}),r.jsx(F,{value:"Lato, sans-serif",children:"Lato"})]})]})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Idioma"}),r.jsxs(T,{value:t.theme.language||"pt",onValueChange:e=>s({language:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"pt",children:"Portugu√™s (BR)"}),r.jsx(F,{value:"en",children:"English (US)"}),r.jsx(F,{value:"es",children:"Espa√±ol"})]})]})]}),r.jsxs("div",{children:[r.jsx(O,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Moeda"}),r.jsxs(T,{value:t.theme.currency||"BRL",onValueChange:e=>s({currency:e}),children:[r.jsx(D,{className:"mt-2",children:r.jsx(I,{})}),r.jsxs(M,{children:[r.jsx(F,{value:"BRL",children:"Real (R$)"}),r.jsx(F,{value:"USD",children:"D√≥lar ($)"}),r.jsx(F,{value:"EUR",children:"Euro (‚Ç¨)"})]})]})]}),r.jsxs("div",{className:"space-y-3 pt-2",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Op√ß√µes extras"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Solicitar CPF apenas no pagamento"}),r.jsx(z,{checked:t.theme.requestCpfOnlyAtPayment||!1,onCheckedChange:e=>s({requestCpfOnlyAtPayment:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Solicitar data de nascimento"}),r.jsx(z,{checked:t.theme.requestBirthDate||!1,onCheckedChange:e=>s({requestBirthDate:e})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{className:"text-xs text-gray-700 dark:text-gray-300",children:"Solicitar g√™nero"}),r.jsx(z,{checked:t.theme.requestGender||!1,onCheckedChange:e=>s({requestGender:e})})]})]})]});default:return r.jsx("div",{className:"py-8 text-center",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configura√ß√µes em breve"})})}};return r.jsxs("div",{className:"w-80 bg-gradient-to-b from-white/95 to-gray-50/95 dark:from-gray-900/95 dark:to-gray-800/95 backdrop-blur-xl border-r border-gray-200/50 dark:border-gray-700/50 flex flex-col overflow-hidden shadow-2xl",children:[r.jsxs("div",{className:"px-4 py-4 border-b border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-950/30 dark:to-purple-950/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 shadow-md",children:r.jsx(H,{className:"h-4 w-4 text-white"})}),r.jsx("div",{children:r.jsx("h1",{className:"text-base font-black bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"SyncAds AI"})})]}),r.jsxs("div",{className:"flex items-center gap-2 pl-1",children:[r.jsx("div",{className:"p-1 rounded bg-violet-500/20",children:r.jsx(W,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"Personaliza√ß√£o"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:"Configure o visual do checkout"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:ka.map((t,s)=>{const n=e.includes(t.id),l=t.icon;return r.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*s},className:"border-b border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("button",{onClick:()=>a(t.id),className:N("w-full px-4 py-3.5 flex items-center justify-between text-sm font-medium transition-all duration-200 group",n?"bg-gradient-to-r from-violet-500/10 to-purple-500/10 text-violet-700 dark:text-violet-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-800/50"),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:N("p-1.5 rounded-lg transition-all duration-200",n?"bg-violet-500/20":"bg-gray-200/50 dark:bg-gray-700/50 group-hover:bg-violet-500/10"),children:r.jsx(l,{className:N("h-4 w-4 transition-colors",n?"text-violet-600 dark:text-violet-400":"text-gray-600 dark:text-gray-400")})}),r.jsx("span",{children:t.label})]}),n?r.jsx(se,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"}):r.jsx(oe,{className:"h-4 w-4 text-gray-400"})]}),r.jsx(me,{children:n&&r.jsx(xe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsx("div",{className:"p-4 bg-white/50 dark:bg-gray-900/50",children:o(t.id)})})})]},t.id)})}),r.jsx("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-r from-violet-500/5 to-purple-500/5",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),r.jsx("span",{children:"Altera√ß√µes autom√°ticas no preview"})]})})]})},Ca=()=>{const e=k(),{toast:a}=w(),t=P(e=>e.user),[s,o]=y.useState(["CABE√áALHO"]),[n,l]=y.useState("desktop"),[i,c]=y.useState(!0),[d,u]=y.useState(null),[x,m]=y.useState(!1),[h,g]=y.useState(!1),[f,p]=y.useState(null),[v,b]=y.useState(!0),[j,B]=y.useState(0);y.useEffect(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const e=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{e.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[]),y.useEffect(()=>{t?.id?(async()=>{if(t?.id)if(await O(),f)b(!1);else try{const{data:e,error:a}=await E.from("Order").select("id").eq("status","PREVIEW").eq("userId",t.id).limit(1);if(!a&&e&&e.length>0){const a=e[0].id;return p(a),void b(!1)}const r=[{id:"preview-product-1",productId:"preview-product-1",variantId:"preview-variant-1",name:"Produto de Demonstra√ß√£o 1",price:199.99,quantity:1,image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400",sku:"DEMO-001"},{id:"preview-product-2",productId:"preview-product-2",variantId:"preview-variant-2",name:"Produto de Demonstra√ß√£o 2",price:149.99,quantity:2,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",sku:"DEMO-002"}],s=499.97,o=29.99,n=529.96,{data:l,error:i}=await E.from("Order").insert({userId:t.id,orderNumber:`PREVIEW-${Date.now()}`,status:"PREVIEW",paymentStatus:"PENDING",paymentMethod:"PIX",items:r,subtotal:s,shipping:o,tax:0,discount:0,total:n,customerName:"Cliente de Demonstra√ß√£o",customerEmail:"demo@exemplo.com",customerPhone:"(11) 99999-9999",metadata:{isPreview:!0,originalProducts:r,createdBy:"checkout-customizer"}}).select().single();if(!i&&l)p(l.id),b(!1);else{const{data:e}=await E.from("Order").select("id").eq("userId",t.id).limit(1).single();e?(p(e.id),b(!1)):b(!1)}}catch(e){b(!1)}})():b(!1)},[t?.id]);const O=async()=>{try{b(!0);const e=await S.loadCustomization(t.id);e&&u(e)}catch(e){a({title:"Erro ao carregar personaliza√ß√£o",description:"N√£o foi poss√≠vel carregar as configura√ß√µes do checkout",variant:"destructive"})}finally{b(!1)}};return v?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-850 dark:to-purple-900/40",children:r.jsxs("div",{className:"text-center",children:[r.jsx(K,{className:"h-12 w-12 animate-spin text-violet-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando personaliza√ß√£o..."})]})}):r.jsxs("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-850 dark:to-purple-900/40",children:[r.jsx(Na,{expandedSections:s,onToggleSection:e=>{o(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},customization:d,onUpdateTheme:e=>{d&&(u({...d,theme:{...d.theme,...e}}),g(!0),B(e=>e+1))}}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(xe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-700/50 px-6 py-3 shadow-lg",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>e("/checkout/gateways"),className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:[r.jsx(ne,{className:"h-4 w-4 mr-2"}),"Voltar"]}),r.jsx(C,{variant:"outline",size:"sm",onClick:()=>c(!i),className:"gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(le,{className:"h-4 w-4"}),"Ocultar Preview"]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"h-4 w-4"}),"Mostrar Preview"]})}),i&&r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-0.5",children:[r.jsxs(C,{size:"sm",variant:"desktop"===n?"default":"ghost",onClick:()=>l("desktop"),className:N("gap-2","desktop"===n&&"bg-violet-500 hover:bg-violet-600"),children:[r.jsx(ce,{className:"h-4 w-4"}),"Desktop"]}),r.jsxs(C,{size:"sm",variant:"mobile"===n?"default":"ghost",onClick:()=>l("mobile"),className:N("gap-2","mobile"===n&&"bg-violet-500 hover:bg-violet-600"),children:[r.jsx(de,{className:"h-4 w-4"}),"Mobile"]})]}),r.jsx(C,{onClick:async()=>{if(d&&t?.id){m(!0);try{await S.saveCustomization(d),g(!1),a({title:"Personaliza√ß√£o salva!",description:"Suas configura√ß√µes foram salvas com sucesso"})}catch(e){a({title:"Erro ao salvar",description:"N√£o foi poss√≠vel salvar as configura√ß√µes",variant:"destructive"})}finally{m(!1)}}},disabled:!h||x,className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:x?r.jsxs(r.Fragment,{children:[r.jsx(K,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ue,{className:"h-4 w-4 mr-2"}),"Salvar Altera√ß√µes"]})}),h&&r.jsx(_,{variant:"default",className:"bg-amber-500 text-white animate-pulse",children:"N√£o salvo"})]})})}),i?r.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 p-6",children:r.jsx(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"h-full flex items-center justify-center",children:r.jsx(R,{className:N("bg-white dark:bg-gray-900 shadow-2xl overflow-hidden transition-all duration-300","desktop"===n?"w-full max-w-6xl h-full rounded-2xl":"w-[390px] h-[844px] rounded-3xl"),children:r.jsx("div",{className:N("h-full w-full overflow-y-auto overflow-x-hidden","mobile"===n&&"scale-100"),children:f?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden",children:[void 0,void 0,void 0]}),r.jsx(A,{injectedOrderId:f,injectedTheme:d?.theme||null,previewMode:!0,isMobile:"mobile"===n},j)]}):r.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-violet-50 to-purple-50 dark:from-gray-800 dark:to-gray-900",children:r.jsx("div",{className:"text-center p-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl max-w-md",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(K,{className:"h-8 w-8 text-white animate-spin"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Carregando Preview"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Preparando visualiza√ß√£o do checkout..."}),r.jsxs("div",{className:"text-left space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Paleta de cores moderna implementada"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Upload de imagens funcional"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"78 op√ß√µes de personaliza√ß√£o ativas"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Preview visual em breve"]})]})]})})})})})})}):r.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ie,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium",children:"Preview oculto"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:'Clique em "Mostrar Preview" para visualizar'})]})})]}),r.jsx(xe.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},className:"fixed bottom-6 right-6 z-50",children:r.jsx(R,{className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 shadow-2xl px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:N("w-2 h-2 rounded-full",h?"bg-amber-500 animate-pulse":"bg-green-500 animate-pulse")}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:h?"Altera√ß√µes pendentes":"Tudo salvo"})]})})})]})};export{Ca as default};
