import{j as e}from"./vendor-ui-DAyDU-p2.js";import{r as a}from"./vendor-react-BDwqAlkB.js";import{g as s,s as r,B as t,a1 as i,I as n,a4 as l,ai as c,H as o,r as d,G as m,t as x,C as g,a as h,b as y,d as u,c as p,e as j,ae as v,af as b,Q as N,aj as f,y as w,ak as P,al as A,am as C,an as I,W as D,D as k}from"./index-GXOFoBpt.js";import{L as S}from"./label-Dff5_8Tf.js";import{S as F}from"./switch-wa2CWUDp.js";import{T as R}from"./textarea-CCv8h8bo.js";import{D as M,e as $,a as E,b as L,c as O,d as z,f as q}from"./dialog-fm7B06ij.js";import{S as T,a as B,b as G,c as H,d as J}from"./select-CLoyzd2w.js";import{S as Q}from"./SuperAdminLayout-Bxu82GE7.js";import{A as V,a as _,b as K}from"./alert-2NLkZABY.js";import{m as U}from"./vendor-animation-x8f1c1kX.js";import"./vendor-supabase-rKXMzPQL.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-D3VdSFIC.js";import"./vendor-icons-D-zwSoGL.js";const W=({title:a,value:s,description:r,icon:t,gradient:i,delay:n=0})=>e.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n},whileHover:{scale:1.02},children:e.jsxs(g,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl hover:border-gray-600 transition-all group cursor-pointer relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i} opacity-10 group-hover:opacity-20 transition-opacity`}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(y,{className:"text-sm font-medium text-gray-300",children:a}),e.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br ${i} shadow-lg`,children:e.jsx(t,{className:"h-4 w-4 text-white"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:s}),e.jsx("p",{className:"text-xs text-gray-400",children:r})]})]})});function X(){const{toast:X}=s(),[Y,Z]=a.useState(!0),[ee,ae]=a.useState([]),[se,re]=a.useState({totalPlans:0,activePlans:0,totalSubscriptions:0,totalMRR:0}),[te,ie]=a.useState(!1),[ne,le]=a.useState(null),[ce,oe]=a.useState({name:"",slug:"",description:"",price:0,currency:"BRL",interval:"month",intervalCount:1,features:[],maxAiMessagesDaily:10,maxAiImagesDaily:5,maxProjects:1,maxIntegrations:1,maxCheckoutPages:1,maxProducts:10,hasCustomDomain:!1,hasAdvancedAnalytics:!1,hasPrioritySupport:!1,hasApiAccess:!1,transactionFeePercentage:0,transactionFeeFixed:0,active:!0,isPopular:!1,sortOrder:0}),[de,me]=a.useState("");a.useEffect(()=>{xe()},[]);const xe=async()=>{Z(!0);try{await Promise.all([ge(),he()])}catch(e){X({title:"Erro",description:"Não foi possível carregar os dados",variant:"destructive"})}finally{Z(!1)}},ge=async()=>{const{data:e,error:a}=await r.from("PricingPlan").select("*").order("sortOrder",{ascending:!0});if(a)throw a;const s=await Promise.all((e||[]).map(async e=>{const{count:a}=await r.from("Subscription").select("*",{count:"exact",head:!0}).eq("planId",e.id).eq("status","active");return{...e,_count:{subscriptions:a||0}}}));ae(s)},he=async()=>{const{data:e}=await r.from("PricingPlan").select("*"),{data:a}=await r.from("Subscription").select("planId").eq("status","active"),s=e?.length||0,t=e?.filter(e=>e.active).length||0,i=a?.length||0;let n=0;if(a&&e)for(const r of a){const a=e.find(e=>e.id===r.planId);a&&(n+=a.price)}re({totalPlans:s,activePlans:t,totalSubscriptions:i,totalMRR:n})},ye=()=>{oe({name:"",slug:"",description:"",price:0,currency:"BRL",interval:"month",intervalCount:1,features:[],maxAiMessagesDaily:10,maxAiImagesDaily:5,maxProjects:1,maxIntegrations:1,maxCheckoutPages:1,maxProducts:10,hasCustomDomain:!1,hasAdvancedAnalytics:!1,hasPrioritySupport:!1,hasApiAccess:!1,transactionFeePercentage:0,transactionFeeFixed:0,active:!0,isPopular:!1,sortOrder:0}),me("")},ue=()=>{de.trim()&&(oe({...ce,features:[...ce.features,de.trim()]}),me(""))},pe=(e,a)=>{const s={day:"dia",week:"semana",month:"mês",year:"ano",lifetime:"vitalício"};return a>1?`${a} ${s[e]}s`:s[e]};return Y?e.jsx(Q,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-orange-500/30 border-t-orange-500 rounded-full"})})}):e.jsx(Q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-400 to-red-400 bg-clip-text text-transparent",children:"Gestão de Planos"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Configure planos, limites e preços para seus usuários"})]}),e.jsxs(M,{open:te,onOpenChange:ie,children:[e.jsx($,{asChild:!0,children:e.jsxs(t,{onClick:()=>{ye(),le(null)},className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0",children:[e.jsx(i,{className:"h-5 w-5 mr-2"}),"Novo Plano"]})}),e.jsxs(E,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[e.jsxs(L,{children:[e.jsx(O,{className:"text-white",children:ne?"Editar Plano":"Criar Novo Plano"}),e.jsx(z,{className:"text-gray-400",children:"Configure todos os detalhes e limites do plano"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informações Básicas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Nome do Plano *"}),e.jsx(n,{value:ce.name,onChange:e=>oe({...ce,name:e.target.value}),placeholder:"Ex: Plano Pro",className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Slug (URL) *"}),e.jsx(n,{value:ce.slug,onChange:e=>oe({...ce,slug:e.target.value}),placeholder:"Ex: pro",className:"bg-gray-800 border-gray-700 text-white"})]})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Descrição"}),e.jsx(R,{value:ce.description,onChange:e=>oe({...ce,description:e.target.value}),placeholder:"Descrição do plano",rows:3,className:"bg-gray-800 border-gray-700 text-white"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Preço e Cobrança"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Preço (R$) *"}),e.jsx(n,{type:"number",value:ce.price,onChange:e=>oe({...ce,price:parseFloat(e.target.value)}),min:0,step:.01,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Intervalo"}),e.jsxs(T,{value:ce.interval,onValueChange:e=>oe({...ce,interval:e}),children:[e.jsx(B,{className:"bg-gray-800 border-gray-700 text-white",children:e.jsx(G,{})}),e.jsxs(H,{className:"bg-gray-800 border-gray-700",children:[e.jsx(J,{value:"day",children:"Diário"}),e.jsx(J,{value:"week",children:"Semanal"}),e.jsx(J,{value:"month",children:"Mensal"}),e.jsx(J,{value:"year",children:"Anual"}),e.jsx(J,{value:"lifetime",children:"Vitalício"})]})]})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Quantidade"}),e.jsx(n,{type:"number",value:ce.intervalCount,onChange:e=>oe({...ce,intervalCount:parseInt(e.target.value)}),min:1,className:"bg-gray-800 border-gray-700 text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Limites Diários de IA"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(S,{htmlFor:"maxAiMessagesDaily",className:"text-gray-300",children:"Mensagens IA por Dia *"}),e.jsx(n,{id:"maxAiMessagesDaily",type:"number",value:ce.maxAiMessagesDaily,onChange:e=>oe({...ce,maxAiMessagesDaily:parseInt(e.target.value)||0}),className:"bg-gray-800 border-gray-700 text-white"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0 = ilimitado | Mensagens de chat com IA por dia"})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"maxAiImagesDaily",className:"text-gray-300",children:"Imagens IA por Dia *"}),e.jsx(n,{id:"maxAiImagesDaily",type:"number",value:ce.maxAiImagesDaily,onChange:e=>oe({...ce,maxAiImagesDaily:parseInt(e.target.value)||0}),className:"bg-gray-800 border-gray-700 text-white"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0 = ilimitado | Imagens geradas por IA por dia"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Limites de Recursos"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Páginas de Checkout"}),e.jsx(n,{type:"number",value:ce.maxCheckoutPages,onChange:e=>oe({...ce,maxCheckoutPages:parseInt(e.target.value)}),min:1,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Produtos"}),e.jsx(n,{type:"number",value:ce.maxProducts,onChange:e=>oe({...ce,maxProducts:parseInt(e.target.value)}),min:1,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Projetos"}),e.jsx(n,{type:"number",value:ce.maxProjects,onChange:e=>oe({...ce,maxProjects:parseInt(e.target.value)}),min:1,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Integrações"}),e.jsx(n,{type:"number",value:ce.maxIntegrations,onChange:e=>oe({...ce,maxIntegrations:parseInt(e.target.value)}),min:1,className:"bg-gray-800 border-gray-700 text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Taxas de Transação"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Taxa Percentual (%)"}),e.jsx(n,{type:"number",value:ce.transactionFeePercentage,onChange:e=>oe({...ce,transactionFeePercentage:parseFloat(e.target.value)}),min:0,max:100,step:.01,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(S,{className:"text-gray-300",children:"Taxa Fixa (R$)"}),e.jsx(n,{type:"number",value:ce.transactionFeeFixed,onChange:e=>oe({...ce,transactionFeeFixed:parseFloat(e.target.value)}),min:0,step:.01,className:"bg-gray-800 border-gray-700 text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Features Incluídas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Domínio Personalizado"}),e.jsx(F,{checked:ce.hasCustomDomain,onCheckedChange:e=>oe({...ce,hasCustomDomain:e})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Analytics Avançado"}),e.jsx(F,{checked:ce.hasAdvancedAnalytics,onCheckedChange:e=>oe({...ce,hasAdvancedAnalytics:e})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Suporte Prioritário"}),e.jsx(F,{checked:ce.hasPrioritySupport,onCheckedChange:e=>oe({...ce,hasPrioritySupport:e})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Acesso à API"}),e.jsx(F,{checked:ce.hasApiAccess,onCheckedChange:e=>oe({...ce,hasApiAccess:e})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Features Descritivas"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{value:de,onChange:e=>me(e.target.value),placeholder:"Digite uma feature e pressione Enter",className:"bg-gray-800 border-gray-700 text-white",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),ue())}}),e.jsx(t,{type:"button",onClick:ue,className:"bg-gray-800 hover:bg-gray-700 border-gray-700",children:e.jsx(i,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"space-y-2",children:ce.features.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 border border-gray-700 rounded",children:[e.jsx("span",{className:"text-sm text-white",children:a}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>(e=>{oe({...ce,features:ce.features.filter((a,s)=>s!==e)})})(s),className:"hover:bg-gray-700",children:e.jsx(l,{className:"h-4 w-4"})})]},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configurações"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Plano Ativo"}),e.jsx(F,{checked:ce.active,onCheckedChange:e=>oe({...ce,active:e})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Marcar como Popular"}),e.jsx(F,{checked:ce.isPopular,onCheckedChange:e=>oe({...ce,isPopular:e})})]}),e.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx(S,{className:"text-gray-300",children:"Ordem de Exibição"}),e.jsx(n,{type:"number",value:ce.sortOrder,onChange:e=>oe({...ce,sortOrder:parseInt(e.target.value)}),min:0,className:"bg-gray-800 border-gray-700 text-white mt-2"})]})]})]})]}),e.jsxs(q,{children:[e.jsx(t,{variant:"outline",onClick:()=>ie(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancelar"}),e.jsxs(t,{onClick:ne?async()=>{if(ne)try{const{error:e}=await r.from("PricingPlan").update({...ce,features:JSON.stringify(ce.features)}).eq("id",ne.id);if(e)throw e;X({title:"Sucesso!",description:"Plano atualizado com sucesso"}),ie(!1),le(null),ye(),xe()}catch(e){X({title:"Erro",description:e.message,variant:"destructive"})}}:async()=>{try{const{error:e}=await r.from("PricingPlan").insert({...ce,features:JSON.stringify(ce.features)});if(e)throw e;X({title:"Sucesso!",description:"Plano criado com sucesso"}),ie(!1),ye(),xe()}catch(e){X({title:"Erro",description:e.message,variant:"destructive"})}},className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0",children:[ne?"Atualizar":"Criar"," Plano"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(W,{title:"Total de Planos",value:se.totalPlans,description:`${se.activePlans} ativos`,icon:c,gradient:"from-orange-500 to-red-500",delay:.1}),e.jsx(W,{title:"Assinaturas Ativas",value:se.totalSubscriptions,description:"Total de assinantes",icon:o,gradient:"from-blue-500 to-cyan-500",delay:.2}),e.jsx(W,{title:"MRR",value:`R$ ${se.totalMRR.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,description:"Receita mensal recorrente",icon:d,gradient:"from-green-500 to-emerald-500",delay:.3}),e.jsx(W,{title:"ARR",value:`R$ ${(12*se.totalMRR).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,description:"Receita anual recorrente",icon:m,gradient:"from-purple-500 to-pink-500",delay:.4})]}),e.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs(V,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsx(x,{className:"h-4 w-4 text-purple-400"}),e.jsx(_,{className:"text-white",children:"Limites Diários de IA"}),e.jsx(K,{className:"text-gray-400",children:"Configure quantas mensagens e imagens cada plano pode gerar por dia. Os contadores são resetados automaticamente à meia-noite."})]})}),e.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs(g,{className:"border-gray-700/50 bg-gray-900/50 backdrop-blur-xl",children:[e.jsxs(h,{children:[e.jsx(y,{className:"text-white",children:"Planos Disponíveis"}),e.jsx(u,{className:"text-gray-400",children:"Gerenciar todos os planos de assinatura"})]}),e.jsx(p,{children:0===ee.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"Nenhum plano configurado"}),e.jsxs(t,{onClick:()=>ie(!0),className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0",children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Plano"]})]}):e.jsx("div",{className:"space-y-4",children:ee.map((a,s)=>{const i=(e=>{const a=e.toLowerCase();return a.includes("enterprise")?C:a.includes("pro")?I:a.includes("starter")?D:k})(a.name);return e.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:e.jsxs(g,{className:"border-gray-700/50 bg-gray-800/50 backdrop-blur-xl "+(a.active?"":"opacity-60"),children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"p-3 rounded-lg "+(a.active?"bg-gradient-to-br from-orange-500/20 to-red-500/20":"bg-gray-800"),children:e.jsx(i,{className:"h-6 w-6 "+(a.active?"text-orange-400":"text-gray-500")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(y,{className:"text-xl text-white",children:a.name}),a.isPopular&&e.jsx(j,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white border-0",children:"Popular"}),e.jsx(j,{className:a.active?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-300 border-green-500/30 border":"bg-gray-700/50 text-gray-400 border-gray-600",children:a.active?"Ativo":"Inativo"})]}),e.jsx(u,{className:"text-gray-400",children:a.description}),e.jsxs("div",{className:"mt-2 flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-2xl font-bold text-white",children:["R$"," ",a.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:["/"," ",pe(a.interval,a.intervalCount)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>(async(e,a)=>{try{const{error:s}=await r.from("PricingPlan").update({active:!a}).eq("id",e);if(s)throw s;X({title:"Sucesso!",description:`Plano ${a?"desativado":"ativado"} com sucesso`}),xe()}catch(s){X({title:"Erro",description:s.message,variant:"destructive"})}})(a.id,a.active),className:"hover:bg-gray-700 text-gray-300",children:e.jsx(v,{className:"h-4 w-4 "+(a.active?"text-red-400":"text-green-400")})}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>(e=>{le(e),oe({name:e.name,slug:e.slug,description:e.description||"",price:e.price,currency:e.currency,interval:e.interval,intervalCount:e.intervalCount,features:Array.isArray(e.features)?e.features:[],maxAiMessagesDaily:e.maxAiMessagesDaily||10,maxAiImagesDaily:e.maxAiImagesDaily||5,maxProjects:e.maxProjects||1,maxIntegrations:e.maxIntegrations||1,maxCheckoutPages:e.maxCheckoutPages||1,maxProducts:e.maxProducts||10,hasCustomDomain:e.hasCustomDomain||!1,hasAdvancedAnalytics:e.hasAdvancedAnalytics||!1,hasPrioritySupport:e.hasPrioritySupport||!1,hasApiAccess:e.hasApiAccess||!1,transactionFeePercentage:e.transactionFeePercentage||0,transactionFeeFixed:e.transactionFeeFixed||0,active:e.active,isPopular:e.isPopular,sortOrder:e.sortOrder}),ie(!0)})(a),className:"hover:bg-gray-700 text-gray-300",children:e.jsx(b,{className:"h-4 w-4"})}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>(async e=>{if(confirm("Tem certeza que deseja excluir este plano?"))try{const{error:a}=await r.from("PricingPlan").delete().eq("id",e);if(a)throw a;X({title:"Sucesso!",description:"Plano excluído com sucesso"}),xe()}catch(a){X({title:"Erro",description:a.message,variant:"destructive"})}})(a.id),className:"hover:bg-gray-700 text-red-400",children:e.jsx(N,{className:"h-4 w-4"})})]})]})}),e.jsxs(p,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Msgs IA/dia"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:a.maxAiMessagesDaily||"∞"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Imgs IA/dia"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:a.maxAiImagesDaily||"∞"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Checkouts"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:a.maxCheckoutPages})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Assinantes"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:a._count?.subscriptions||0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.hasCustomDomain&&e.jsxs(j,{variant:"outline",className:"flex items-center gap-1 border-gray-600 text-gray-300",children:[e.jsx(f,{className:"h-3 w-3"}),"Domínio Personalizado"]}),a.hasAdvancedAnalytics&&e.jsxs(j,{variant:"outline",className:"flex items-center gap-1 border-gray-600 text-gray-300",children:[e.jsx(w,{className:"h-3 w-3"}),"Analytics Avançado"]}),a.hasPrioritySupport&&e.jsxs(j,{variant:"outline",className:"flex items-center gap-1 border-gray-600 text-gray-300",children:[e.jsx(P,{className:"h-3 w-3"}),"Suporte Prioritário"]}),a.hasApiAccess&&e.jsxs(j,{variant:"outline",className:"flex items-center gap-1 border-gray-600 text-gray-300",children:[e.jsx(A,{className:"h-3 w-3"}),"Acesso API"]})]})]})]})},a.id)})})})]})})]})})}export{X as default};
