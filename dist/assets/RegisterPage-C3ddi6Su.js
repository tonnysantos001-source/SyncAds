import{j as e}from"./vendor-ui-DkUuACDy.js";import{r,f as a,L as s}from"./vendor-react-X41Bjl18.js";import{u as t,o,s as i}from"./vendor-forms-Bj_nGwdb.js";import{t as l}from"./zod-aIsnA7Fw.js";import{f as d,g as n,C as c,a as m,b as p,d as u,c as x,I as h,B as g}from"./index-BwcWJHH7.js";import{L as b}from"./label-CfEsUHnX.js";import{m as f,A as j}from"./vendor-animation-DQ3cvw6m.js";import{v,o as y,U as N,A as w,s as S,L as k}from"./vendor-icons-DTdRnryx.js";import"./vendor-supabase-BQxDPPjR.js";import"./vendor-utils-Dl0_yMKq.js";import"./vendor-query-Bf3pI66S.js";const C=o({name:i().min(3,"Nome deve ter no mínimo 3 caracteres"),email:i().email("Email inválido"),password:i().min(6,"Senha deve ter no mínimo 6 caracteres"),cpf:i().min(11,"CPF inválido").max(14),birthDate:i().min(1,"Data de nascimento é obrigatória")}),F=o({cep:i().min(8,"CEP inválido").max(9),street:i().min(3,"Rua é obrigatória"),number:i().min(1,"Número é obrigatório"),complement:i().optional(),neighborhood:i().min(2,"Bairro é obrigatório"),city:i().min(2,"Cidade é obrigatória"),state:i().length(2,"Estado deve ter 2 caracteres")});function E(){const[o,i]=r.useState(1),[E,D]=r.useState(null),[V,$]=r.useState(!1),{register:P}=d(),L=a(),{toast:z}=n();r.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const A=t({resolver:l(C),defaultValues:{name:"",email:"",password:"",cpf:"",birthDate:""}}),B=t({resolver:l(F),defaultValues:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}});return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden p-4 py-12 bg-gray-950",children:[e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-purple-900/40 -z-10"}),e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(f.div,{animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),e.jsx(f.div,{animate:{scale:[1,1.3,1],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})]}),e.jsxs(s,{to:"/landing",className:"absolute top-6 left-6 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors z-10",children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),e.jsxs(c,{className:"w-full max-w-2xl relative bg-gray-900/95 backdrop-blur-xl border-2 border-gray-800/50 shadow-2xl shadow-blue-500/20 z-10",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-pulse"}),e.jsxs(m,{className:"text-center pt-8 pb-6",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs(f.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl blur-xl opacity-50 animate-pulse"}),e.jsx("div",{className:"relative h-16 w-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl shadow-blue-500/50",children:e.jsx("span",{className:"text-white font-black text-3xl",children:"S"})})]})}),e.jsx(p,{className:"text-3xl font-black bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-lg",children:"Criar Conta"}),e.jsx(u,{className:"text-base text-gray-300",children:1===o?"Preencha seus dados pessoais":"Agora, informe seu endereço"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all "+(o>=1?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-blue-500/50":"bg-gray-800 text-gray-500"),children:o>1?e.jsx(y,{className:"h-5 w-5"}):"1"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Dados"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(f.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",initial:{width:"0%"},animate:{width:o>=2?"100%":"0%"},transition:{duration:.5}})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all "+(o>=2?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-blue-500/50":"bg-gray-800 text-gray-500"),children:"2"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Endereço"})]})]})]}),e.jsxs(x,{className:"pb-8",children:[e.jsx(j,{mode:"wait",children:1===o?e.jsxs(f.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},onSubmit:A.handleSubmit(e=>{D(e),i(2)}),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-600"}),"Nome Completo"]}),e.jsx(h,{id:"name",...A.register("name"),placeholder:"Seu nome completo",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),A.formState.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",type:"email",autoComplete:"email",...A.register("email"),placeholder:"seu@email.com",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),A.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Senha"}),e.jsx(h,{id:"password",type:"password",autoComplete:"new-password",...A.register("password"),placeholder:"Mínimo 6 caracteres",className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),A.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.password.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"cpf",children:"CPF"}),e.jsx(h,{id:"cpf",...A.register("cpf"),placeholder:"000.000.000-00",maxLength:14,onChange:e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),A.setValue("cpf",e.target.value)},className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),A.formState.errors.cpf&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.cpf.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"birthDate",children:"Data de Nascimento"}),e.jsx(h,{id:"birthDate",type:"date",...A.register("birthDate"),className:"border-gray-300 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500"}),A.formState.errors.birthDate&&e.jsx("p",{className:"text-sm text-red-500",children:A.formState.errors.birthDate.message})]})]}),e.jsxs(g,{type:"submit",disabled:A.formState.isSubmitting,className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/30",children:["Próximo: Endereço",e.jsx(w,{className:"ml-2 h-5 w-5"})]})]},"step1"):e.jsxs(f.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},onSubmit:B.handleSubmit(async e=>{if(E)try{await P(E.email,E.password,E.name,E.cpf,E.birthDate,e),z({title:"Conta criada com sucesso!",description:"Bem-vindo ao SyncAds."}),L("/onboarding")}catch(r){z({title:"Erro ao criar conta",description:r.message||"Tente novamente mais tarde.",variant:"destructive"})}}),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{htmlFor:"cep",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-purple-600"}),"CEP"]}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{id:"cep",...B.register("cep"),placeholder:"00000-000",maxLength:9,onChange:e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),B.setValue("cep",e.target.value)},onBlur:async()=>{const e=B.getValues("cep").replace(/\D/g,"");if(8===e.length){$(!0);try{const r=await fetch(`https://viacep.com.br/ws/${e}/json/`),a=await r.json();if(a.erro)return void z({title:"CEP não encontrado",description:"Verifique o CEP e tente novamente.",variant:"destructive"});B.setValue("street",a.logradouro||""),B.setValue("neighborhood",a.bairro||""),B.setValue("city",a.localidade||""),B.setValue("state",a.uf||""),z({title:"CEP encontrado!",description:"Endereço preenchido automaticamente."})}catch(r){z({title:"Erro ao buscar CEP",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{$(!1)}}},className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),V&&e.jsx(k,{className:"absolute right-3 top-3 h-5 w-5 animate-spin text-purple-600"})]}),B.formState.errors.cep&&e.jsx("p",{className:"text-sm text-red-500",children:B.formState.errors.cep.message}),e.jsx("p",{className:"text-xs text-gray-500",children:"O endereço será preenchido automaticamente"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(b,{htmlFor:"street",children:"Rua"}),e.jsx(h,{id:"street",...B.register("street"),placeholder:"Nome da rua",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),B.formState.errors.street&&e.jsx("p",{className:"text-sm text-red-500",children:B.formState.errors.street.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"number",children:"Número"}),e.jsx(h,{id:"number",...B.register("number"),placeholder:"123",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),B.formState.errors.number&&e.jsx("p",{className:"text-sm text-red-500",children:B.formState.errors.number.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"complement",children:"Complemento (opcional)"}),e.jsx(h,{id:"complement",...B.register("complement"),placeholder:"Apto, bloco, etc.",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"neighborhood",children:"Bairro"}),e.jsx(h,{id:"neighborhood",...B.register("neighborhood"),placeholder:"Nome do bairro",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),B.formState.errors.neighborhood&&e.jsx("p",{className:"text-sm text-red-500",children:B.formState.errors.neighborhood.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(b,{htmlFor:"city",children:"Cidade"}),e.jsx(h,{id:"city",...B.register("city"),placeholder:"Nome da cidade",className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500"}),B.formState.errors.city&&e.jsx("p",{className:"text-sm text-red-500",children:B.formState.errors.city.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"state",children:"Estado"}),e.jsx(h,{id:"state",...B.register("state"),placeholder:"UF",maxLength:2,className:"border-gray-300 dark:border-gray-700 focus:border-purple-500 focus:ring-purple-500 uppercase",onChange:e=>{e.target.value=e.target.value.toUpperCase(),B.setValue("state",e.target.value)}}),B.formState.errors.state&&e.jsx("p",{className:"text-sm text-red-500",children:B.formState.errors.state.message})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(g,{type:"button",variant:"outline",onClick:()=>i(1),className:"flex-1 border-gray-300 dark:border-gray-700",children:[e.jsx(v,{className:"mr-2 h-5 w-5"}),"Voltar"]}),e.jsx(g,{type:"submit",disabled:B.formState.isSubmitting,className:"flex-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/30",children:B.formState.isSubmitting?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-5 w-5 animate-spin"}),"Criando conta..."]}):e.jsxs(e.Fragment,{children:["Criar Conta",e.jsx(y,{className:"ml-2 h-5 w-5"})]})})]})]},"step2")}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Já tem uma conta?"," ",e.jsx(s,{to:"/login-v2",className:"font-semibold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent hover:underline",children:"Faça login"})]})})]})]})]})}export{E as default};
