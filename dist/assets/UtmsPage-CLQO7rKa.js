import{j as e}from"./vendor-ui-Ba0j3nT4.js";import{r as t}from"./vendor-react-X41Bjl18.js";import{s as a,f as s,g as r,B as i,C as n,a as o,b as l,d as c,c as d,e as m}from"./index-DChZUWKl.js";import{S as x,a as h,b as g,c as u,d as p}from"./select-BICBgQXs.js";import{S as y}from"./skeleton-DDDATdQP.js";import{s as j}from"./vendor-utils-Dl0_yMKq.js";import{m as f}from"./vendor-animation-mzn7-F4O.js";import{R as v,aT as b,aI as w,D as N,aU as k,k as C,x as S,Z as T,S as R,w as A,y as M,z as B}from"./vendor-icons-BvRy6l6m.js";import{R as F,f as q,C as U,X as V,Y as I,T as O,L as D,B as L,e as z,d as E}from"./vendor-charts-DhkUgiCU.js";import"./vendor-supabase-D-IBGfoY.js";import"./vendor-query-NmUWZ0iG.js";const K={async track(e){try{const{data:t,error:s}=await a.from("UTMTracking").insert({...e,converted:!1}).select().single();if(s)throw s;return t}catch(t){throw t}},async getById(e){try{const{data:t,error:s}=await a.from("UTMTracking").select("*").eq("id",e).single();if(s)throw s;return t}catch(t){throw t}},async getBySession(e){try{const{data:t,error:s}=await a.from("UTMTracking").select("*").eq("sessionId",e).order("createdAt",{ascending:!1}).limit(1).single();if(s){if("PGRST116"===s.code)return null;throw s}return t}catch(t){throw t}},async getByUser(e,t){try{let s=a.from("UTMTracking").select("*").eq("userId",e).order("createdAt",{ascending:!1});t?.source&&(s=s.eq("utmSource",t.source)),t?.medium&&(s=s.eq("utmMedium",t.medium)),t?.campaign&&(s=s.eq("utmCampaign",t.campaign)),void 0!==t?.converted&&(s=s.eq("converted",t.converted)),t?.dateFrom&&(s=s.gte("createdAt",t.dateFrom)),t?.dateTo&&(s=s.lte("createdAt",t.dateTo)),t?.limit&&(s=s.limit(t.limit)),t?.offset&&(s=s.range(t.offset,t.offset+(t.limit||50)-1));const{data:r,error:i}=await s;if(i)throw i;return r}catch(s){throw s}},async markAsConverted(e,t,s){try{const{data:r,error:i}=await a.from("UTMTracking").update({converted:!0,convertedAt:(new Date).toISOString(),orderId:t,orderValue:s,updatedAt:(new Date).toISOString()}).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw r}},async markSessionConverted(e,t,a){try{const s=await K.getBySession(e);return s?await K.markAsConverted(s.id,t,a):null}catch(s){throw s}},async update(e,t){try{const{data:s,error:r}=await a.from("UTMTracking").update({...t,updatedAt:(new Date).toISOString()}).eq("id",e).select().single();if(r)throw r;return s}catch(s){throw s}},async delete(e){try{const{error:t}=await a.from("UTMTracking").delete().eq("id",e);if(t)throw t}catch(t){throw t}},async getAnalytics(e,t){try{let s=a.from("UTMAnalytics").select("*").eq("userId",e);t&&(s=s.gte("createdAt",t.from).lte("createdAt",t.to));const{data:r,error:i}=await s;if(i)throw i;return r}catch(s){throw s}},async getStats(e,t){try{let s=a.from("UTMTracking").select("*").eq("userId",e);t&&(s=s.gte("createdAt",t.from).lte("createdAt",t.to));const{data:r,error:i}=await s;if(i)throw i;const n=r,o=n.length,l=n.filter(e=>e.converted).length,c=n.filter(e=>e.converted&&e.orderValue).reduce((e,t)=>e+(t.orderValue||0),0),d=o>0?l/o*100:0,m=l>0?c/l:0,x={};[...new Set(n.map(e=>e.utmSource).filter(Boolean))].forEach(e=>{const t=n.filter(t=>t.utmSource===e),a=t.filter(e=>e.converted),s=a.reduce((e,t)=>e+(t.orderValue||0),0);x[e]={utmSource:e,totalVisits:t.length,totalConversions:a.length,conversionRate:a.length/t.length*100,totalRevenue:s,averageOrderValue:a.length>0?s/a.length:0}});const h={};[...new Set(n.map(e=>e.utmMedium).filter(Boolean))].forEach(e=>{const t=n.filter(t=>t.utmMedium===e),a=t.filter(e=>e.converted),s=a.reduce((e,t)=>e+(t.orderValue||0),0);h[e]={utmMedium:e,totalVisits:t.length,totalConversions:a.length,conversionRate:a.length/t.length*100,totalRevenue:s,averageOrderValue:a.length>0?s/a.length:0}});const g={};[...new Set(n.map(e=>e.utmCampaign).filter(Boolean))].forEach(e=>{const t=n.filter(t=>t.utmCampaign===e),a=t.filter(e=>e.converted),s=a.reduce((e,t)=>e+(t.orderValue||0),0);g[e]={utmCampaign:e,totalVisits:t.length,totalConversions:a.length,conversionRate:a.length/t.length*100,totalRevenue:s,averageOrderValue:a.length>0?s/a.length:0}});const u=Object.entries(x).map(([e,t])=>({name:e,conversions:t.totalConversions,revenue:t.totalRevenue})).sort((e,t)=>t.revenue-e.revenue).slice(0,10),p=Object.entries(h).map(([e,t])=>({name:e,conversions:t.totalConversions,revenue:t.totalRevenue})).sort((e,t)=>t.revenue-e.revenue).slice(0,10),y=Object.entries(g).map(([e,t])=>({name:e,conversions:t.totalConversions,revenue:t.totalRevenue})).sort((e,t)=>t.revenue-e.revenue).slice(0,10);return{totalSessions:o,totalConversions:l,totalRevenue:c,conversionRate:d,averageOrderValue:m,bySource:x,byMedium:h,byCampaign:g,topPerformers:{sources:u,mediums:p,campaigns:y}}}catch(s){throw s}},async getConversionRate(e,t){try{let s=a.from("UTMTracking").select("converted").eq("userId",e);t&&(s=s.gte("createdAt",t.from).lte("createdAt",t.to));const{data:r,error:i}=await s;if(i)throw i;const n=r,o=n.length,l=n.filter(e=>e.converted).length;return o>0?l/o*100:0}catch(s){throw s}},async getBySource(e,t){try{const{data:s,error:r}=await a.from("UTMTracking").select("*").eq("userId",e).eq("utmSource",t).order("createdAt",{ascending:!1});if(r)throw r;return s}catch(s){throw s}},async getByMedium(e,t){try{const{data:s,error:r}=await a.from("UTMTracking").select("*").eq("userId",e).eq("utmMedium",t).order("createdAt",{ascending:!1});if(r)throw r;return s}catch(s){throw s}},async getByCampaign(e,t){try{const{data:s,error:r}=await a.from("UTMTracking").select("*").eq("userId",e).eq("utmCampaign",t).order("createdAt",{ascending:!1});if(r)throw r;return s}catch(s){throw s}},async getUniqueSources(e){try{const{data:t,error:s}=await a.from("UTMTracking").select("utmSource").eq("userId",e).not("utmSource","is",null);if(s)throw s;return[...new Set(t.map(e=>e.utmSource).filter(Boolean))]}catch(t){throw t}},async getUniqueMediums(e){try{const{data:t,error:s}=await a.from("UTMTracking").select("utmMedium").eq("userId",e).not("utmMedium","is",null);if(s)throw s;return[...new Set(t.map(e=>e.utmMedium).filter(Boolean))]}catch(t){throw t}},async getUniqueCampaigns(e){try{const{data:t,error:s}=await a.from("UTMTracking").select("utmCampaign").eq("userId",e).not("utmCampaign","is",null);if(s)throw s;return[...new Set(t.map(e=>e.utmCampaign).filter(Boolean))]}catch(t){throw t}},async getCampaignROI(e,t,a){try{const s=await K.getByCampaign(e,t),r=s.filter(e=>e.converted),i=r.reduce((e,t)=>e+(t.orderValue||0),0),n=a>0?(i-a)/a*100:0,o=s.length>0?r.length/s.length*100:0;return{campaign:t,adSpend:a,revenue:i,roi:n,conversions:r.length,conversionRate:o}}catch(s){throw s}}},P=({title:t,value:a,change:s,icon:r,color:i,delay:c=0,subtitle:m})=>{const x=s>=0;return e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c},children:e.jsxs(n,{className:"relative overflow-hidden border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${i} opacity-10 rounded-full blur-3xl`}),e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),e.jsx("div",{className:`p-2 rounded-lg ${i} bg-opacity-10`,children:e.jsx(r,{className:`h-4 w-4 ${i.replace("bg-","text-")}`})})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:a}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[x?e.jsx(M,{className:"h-4 w-4 text-green-500"}):e.jsx(B,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:"text-sm font-semibold "+(x?"text-green-500":"text-red-500"),children:[Math.abs(s).toFixed(1),"%"]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:m||"vs período anterior"})]})]})]})})},$=({active:t,payload:a,label:s})=>t&&a&&a.length?e.jsxs("div",{className:"bg-gray-900/95 dark:bg-gray-800/95 backdrop-blur-xl border border-gray-700 rounded-lg p-4 shadow-xl",children:[e.jsx("p",{className:"text-white font-semibold mb-2",children:s}),a.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsxs("span",{className:"text-gray-300",children:[t.name,":"]}),e.jsx("span",{className:"text-white font-semibold",children:t.value})]},a))]}):null,G=()=>{const[a,M]=t.useState(!0),[B,G]=t.useState(!1),[W,X]=t.useState("30days"),[Y,Z]=t.useState(null),[H,J]=t.useState(""),Q=s(e=>e.user),{toast:_}=r();t.useEffect(()=>{Q?.id&&ee()},[Q?.id,W]);const ee=async()=>{try{if(!Q?.id)return;M(!0);const e="7days"===W?7:"30days"===W?30:90,t={from:j(new Date,e).toISOString(),to:(new Date).toISOString()},a=await K.getStats(Q.id,t);Z(a)}catch(e){_({title:"Erro ao carregar dados",description:e.message||"Não foi possível carregar os dados UTM",variant:"destructive"})}finally{M(!1)}},te=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),ae=e=>`${e.toFixed(1)}%`,se=Y?.bySource?Object.values(Y.bySource).map(e=>({name:e.utmSource||"Direto",visitas:e.totalVisits,"conversões":e.totalConversions,receita:e.totalRevenue,taxa:e.conversionRate})):[],re=Y?.byMedium?Object.values(Y.byMedium).map(e=>({name:e.utmMedium||"Não definido",visitas:e.totalVisits,"conversões":e.totalConversions,receita:e.totalRevenue,taxa:e.conversionRate})):[],ie=Y?.byCampaign?Object.values(Y.byCampaign).slice(0,10).map(e=>({name:e.utmCampaign||"Sem campanha",visitas:e.totalVisits,"conversões":e.totalConversions,receita:e.totalRevenue,taxa:e.conversionRate})):[],ne=["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B","#EF4444","#06B6D4","#6366F1"],oe=Y?.bySource?Object.values(Y.bySource).filter(e=>(e.utmSource||"direto").toLowerCase().includes(H.toLowerCase())):[];return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-850 to-purple-900/40 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(y,{className:"h-8 w-64 mb-2"}),e.jsx(y,{className:"h-4 w-96"})]}),e.jsx(y,{className:"h-10 w-40"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(t=>e.jsx(y,{className:"h-32"},t))}),e.jsx(y,{className:"h-96"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-850 to-purple-900/40 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Rastreamento UTM"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Analise o desempenho de suas campanhas de marketing"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(x,{value:W,onValueChange:X,children:[e.jsx(h,{className:"w-[180px] bg-white/10 dark:bg-gray-900/50 backdrop-blur-xl border-gray-700",children:e.jsx(g,{})}),e.jsxs(u,{children:[e.jsx(p,{value:"7days",children:"Últimos 7 dias"}),e.jsx(p,{value:"30days",children:"Últimos 30 dias"}),e.jsx(p,{value:"90days",children:"Últimos 90 dias"})]})]}),e.jsxs(i,{onClick:async()=>{G(!0),await ee(),G(!1),_({title:"Dados atualizados",description:"Os dados UTM foram atualizados com sucesso"})},disabled:B,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(v,{className:"h-4 w-4 mr-2 "+(B?"animate-spin":"")}),"Atualizar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(P,{title:"Total de Sessões",value:Y?.totalSessions.toLocaleString("pt-BR")||"0",change:12.5,icon:b,color:"bg-blue-500",delay:.1,subtitle:"visitantes únicos"}),e.jsx(P,{title:"Conversões",value:Y?.totalConversions.toLocaleString("pt-BR")||"0",change:Y?.conversionRate||0,icon:w,color:"bg-green-500",delay:.2,subtitle:"pedidos confirmados"}),e.jsx(P,{title:"Receita Total",value:te(Y?.totalRevenue||0),change:18.3,icon:N,color:"bg-purple-500",delay:.3,subtitle:"faturamento"}),e.jsx(P,{title:"Taxa de Conversão",value:ae(Y?.conversionRate||0),change:Y?.conversionRate||0,icon:k,color:"bg-pink-500",delay:.4,subtitle:"sessões → vendas"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsxs(o,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-blue-500"}),"Performance por Fonte"]}),e.jsx(c,{children:"Visitas e conversões por origem do tráfego"})]}),e.jsx(d,{children:e.jsx(F,{width:"100%",height:300,children:e.jsxs(q,{data:se,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(V,{dataKey:"name",stroke:"#9CA3AF",fontSize:12,tickLine:!1}),e.jsx(I,{stroke:"#9CA3AF",fontSize:12,tickLine:!1}),e.jsx(O,{content:e.jsx($,{})}),e.jsx(D,{}),e.jsx(L,{dataKey:"visitas",name:"Visitas",fill:"#3B82F6",radius:[8,8,0,0]}),e.jsx(L,{dataKey:"conversões",name:"Conversões",fill:"#10B981",radius:[8,8,0,0]})]})})})]})}),e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsxs(o,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-green-500"}),"Receita por Fonte"]}),e.jsx(c,{children:"Faturamento gerado por origem"})]}),e.jsx(d,{children:e.jsx(F,{width:"100%",height:300,children:e.jsxs(q,{data:se,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(V,{dataKey:"name",stroke:"#9CA3AF",fontSize:12,tickLine:!1}),e.jsx(I,{stroke:"#9CA3AF",fontSize:12,tickLine:!1}),e.jsx(O,{content:e.jsx($,{})}),e.jsx(L,{dataKey:"receita",name:"Receita (R$)",fill:"url(#colorGradient)",radius:[8,8,0,0]}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),e.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})})})]})}),e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsxs(o,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-purple-500"}),"Taxa de Conversão por Meio"]}),e.jsx(c,{children:"Performance de conversão por canal"})]}),e.jsx(d,{children:e.jsx(F,{width:"100%",height:300,children:e.jsxs(z,{data:re,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(V,{dataKey:"name",stroke:"#9CA3AF",fontSize:12,tickLine:!1}),e.jsx(I,{stroke:"#9CA3AF",fontSize:12,tickLine:!1}),e.jsx(O,{content:e.jsx($,{})}),e.jsx(D,{}),e.jsx(E,{type:"monotone",dataKey:"taxa",name:"Taxa (%)",stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#8B5CF6",r:5},activeDot:{r:7}})]})})})]})}),e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.8},children:e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsxs(o,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-yellow-500"}),"Top 10 Campanhas"]}),e.jsx(c,{children:"Campanhas com melhor desempenho"})]}),e.jsx(d,{children:e.jsx(F,{width:"100%",height:300,children:e.jsxs(q,{data:ie,layout:"vertical",children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(V,{type:"number",stroke:"#9CA3AF",fontSize:12}),e.jsx(I,{type:"category",dataKey:"name",stroke:"#9CA3AF",fontSize:10,width:100}),e.jsx(O,{content:e.jsx($,{})}),e.jsx(L,{dataKey:"conversões",name:"Conversões",fill:"#10B981",radius:[0,8,8,0]})]})})})]})})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsx(o,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-pink-500"}),"Detalhamento por Fonte"]}),e.jsx(c,{children:"Análise completa de performance"})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar fonte...",value:H,onChange:e=>J(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/50 dark:bg-gray-800/50 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})}),e.jsx(d,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Fonte"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Visitas"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Conversões"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Taxa"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Receita"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Ticket Médio"})]})}),e.jsx("tbody",{children:0===oe.length?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"Nenhuma fonte encontrada"})}):oe.map((t,a)=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ne[a%ne.length]}}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.utmSource||"Direto"})]})}),e.jsx("td",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300",children:t.totalVisits.toLocaleString("pt-BR")}),e.jsx("td",{className:"text-right py-3 px-4",children:e.jsx(m,{variant:"secondary",className:"bg-green-500/10 text-green-600 dark:text-green-400",children:t.totalConversions})}),e.jsx("td",{className:"text-right py-3 px-4",children:e.jsx(m,{variant:"secondary",className:"bg-purple-500/10 text-purple-600 dark:text-purple-400",children:ae(t.conversionRate)})}),e.jsx("td",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:te(t.totalRevenue)}),e.jsx("td",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300",children:te(t.averageOrderValue)})]},a))})]})})})]})}),Y?.topPerformers&&e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsx(o,{children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-blue-500"}),"Top Fontes"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Y.topPerformers.sources.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gradient-to-r from-blue-500/10 to-purple-500/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-lg text-blue-600 dark:text-blue-400",children:["#",a+1]}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:t.utmSource||"Direto"})]}),e.jsxs(m,{className:"bg-blue-500 text-white",children:[t.totalConversions," vendas"]})]},a))})})]}),e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsx(o,{children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-purple-500"}),"Top Meios"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Y.topPerformers.mediums.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gradient-to-r from-purple-500/10 to-pink-500/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-lg text-purple-600 dark:text-purple-400",children:["#",a+1]}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:t.utmMedium||"Não definido"})]}),e.jsxs(m,{className:"bg-purple-500 text-white",children:[t.totalConversions," vendas"]})]},a))})})]}),e.jsxs(n,{className:"border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-lg",children:[e.jsx(o,{children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-pink-500"}),"Top Campanhas"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Y.topPerformers.campaigns.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-\ngradient-to-r from-pink-500/10 to-red-500/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-lg text-pink-600 dark:text-pink-400",children:["#",a+1]}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:t.utmCampaign||"Sem campanha"})]}),e.jsxs(m,{className:"bg-pink-500 text-white",children:[t.totalConversions," vendas"]})]},a))})})]})]})]})})};export{G as default};
